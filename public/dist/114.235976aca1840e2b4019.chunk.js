webpackJsonp([114,213],{1643:function(t,e,a){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(65),s=o(n),r=a(239),l=o(r),i=a(601),c=o(i);e.default={name:"promotion-product",components:{orderTable:c.default},data:function(){var t=this;return{queryArray:{salesCode:"",salesName:"",status:"",page:1},cityList:[{value:"",label:"请选择"},{value:"1",label:"上架"},{value:"0",label:"下架"}],addSalesName:"",addSalesCode:"",modal:!1,changeModal:!1,changeType:"",changeId:"",tableRef:"",loading:!1,columnsList:[{title:"促销编码",key:"salesCode",align:"center"},{title:"促销名称",key:"salesName",align:"center"},{title:"操作",key:"handel",width:180,align:"center",render:function(e,a){var o="";return 0==a.row.status?o="下架":1==a.row.status&&(o="上架"),e("div",[e("Button",{props:{size:"small"},on:{click:function(){t.changeModal=!0,t.changeType=o,t.changeId=a.row.id}}},o)])}}],thisTableData:[],totalCount:0,current:1}},methods:{query:function(t){var e=this;this.current=t,this.queryArray.page=t,this.$util.ajax({method:"post",url:e.$util.apiConfig.promotionManage.warProgramme.promotionProduct.listUrl,data:l.default.stringify(this.queryArray)}).then(function(t){if(200==t.data.code){if(e.thisTableData=[],""==t.data.result)return;e.thisTableData=t.data.result.pager.records,e.totalCount=t.data.result.pager.totalCount}else this.$Modal.error({title:"提示",content:t.data.message})}).catch(function(t){console.log("失败信息：",t)})},newBuild:function(){var t=this;if(""==this.addSalesName||null==this.addSalesName)return void t.$Modal.error({title:"提示",content:"促销名称不能为空"});this.$util.ajax({method:"post",url:t.$util.apiConfig.promotionManage.warProgramme.promotionProduct.addList,data:l.default.stringify({salesName:this.addSalesName,salesCode:this.addSalesCode})}).then(function(e){console.log((0,s.default)(e)),200==e.data.code?(t.addSalesName="",t.query(1),t.$Modal.success({title:"提示",content:"保存成功"})):t.$Modal.error({title:"提示",content:e.data.message})}).catch(function(t){console.log("失败信息：",t)})},cancel:function(){this.$Message.info("已取消")},handelStatus:function(){var t=this,e="";"上架"==this.changeType?e=t.$util.apiConfig.promotionManage.warProgramme.promotionProduct.changeStatus:"下架"==this.changeType&&(e=t.$util.apiConfig.promotionManage.warProgramme.promotionProduct.changeStatus1),this.$util.ajax({method:"get",url:e+"?id="+this.changeId+"&_="+(new Date).getTime(),data:""}).then(function(e){200==e.data.code?(t.query(1),t.$Modal.success({title:"提示",content:"修改成功"})):t.$Modal.error({title:"提示",content:e.data.message})}).catch(function(t){console.log("失败信息：",t)})},getcode:function(){this.modal=!0;var t=this;this.$util.ajax({method:"post",url:t.$util.apiConfig.promotionManage.warProgramme.promotionProduct.getSalesCode,data:""}).then(function(e){200==e.data.code?t.addSalesCode=e.data.result:t.$Modal.error({title:"提示",content:e.data.message})}).catch(function(t){console.log("失败信息：",t)})}},mounted:function(){this.query(1)}}},2194:function(t,e,a){var o=a(2195);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(43)("a26b777e",o,!1,{})},2195:function(t,e,a){e=t.exports=a(42)(!1),e.push([t.i,"\n.ListName[data-v-6dd53a77]{\n    text-align: right;\n    line-height: 32px;\n    color: #747474;\n    font-size: 12px;\n    margin-right:8px;\n}\n.listmb[data-v-6dd53a77]{\n    margin-bottom: 20px;\n}\n",""])},2196:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{height:"auto",background:"#fff"}},[a("Row",{staticStyle:{padding:"20px","border-bottom":"1px dashed #e5e5e5"}},[a("row",{staticStyle:{"margin-bottom":"14px"}},[a("Col",{attrs:{span:"7"}},[a("Col",{staticClass:"ListName",attrs:{span:"8"}},[t._v("促销编码 :")]),t._v(" "),a("Col",{attrs:{span:"15"}},[a("Input",{staticStyle:{width:"200px"},attrs:{clearable:""},model:{value:t.queryArray.salesCode,callback:function(e){t.$set(t.queryArray,"salesCode",e)},expression:"queryArray.salesCode"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"7"}},[a("Col",{staticClass:"ListName",attrs:{span:"8"}},[t._v("促销名称 :")]),t._v(" "),a("Col",{attrs:{span:"15"}},[a("Input",{staticStyle:{width:"200px"},attrs:{clearable:""},model:{value:t.queryArray.salesName,callback:function(e){t.$set(t.queryArray,"salesName",e)},expression:"queryArray.salesName"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"7"}},[a("Col",{staticClass:"ListName",attrs:{span:"8"}},[t._v("促销状态 :")]),t._v(" "),a("Col",{attrs:{span:"15"}},[a("Select",{staticStyle:{width:"200px"},model:{value:t.queryArray.status,callback:function(e){t.$set(t.queryArray,"status",e)},expression:"queryArray.status"}},t._l(t.cityList,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}))],1)],1)],1),t._v(" "),a("row",{staticStyle:{"margin-bottom":"12px"}},[a("Col",{attrs:{span:"24"}},[a("Button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(e){t.query(1)}}},[t._v("查询")])],1)],1)],1),t._v(" "),a("row",{staticStyle:{padding:"20px"}},[a("row",{staticStyle:{"margin-bottom":"12px"}},[a("Col",{attrs:{span:"24"}},[a("Button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:t.getcode}},[t._v("新建")])],1)],1),t._v(" "),a("order-table",{attrs:{refs:t.tableRef,columnsList:t.columnsList,thisTableData:t.thisTableData,loading:t.loading}})],1),t._v(" "),a("div",{staticStyle:{padding:"20px",overflow:"hidden"}},[a("Page",{staticStyle:{float:"right"},attrs:{total:t.totalCount,"page-size":10,"show-total":"","show-elevator":""},on:{"on-change":t.query}})],1),t._v(" "),a("Modal",{attrs:{title:"添加促销品"},on:{"on-ok":t.newBuild,"on-cancel":t.cancel},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("row",{staticClass:"listmb"},[a("Col",{staticClass:"ListName",attrs:{span:"5"}},[t._v("促销编码 :")]),t._v(" "),a("Col",{attrs:{span:"12"}},[a("Input",{attrs:{disabled:""},model:{value:t.addSalesCode,callback:function(e){t.addSalesCode=e},expression:"addSalesCode"}})],1)],1),t._v(" "),a("row",{staticClass:"listmb"},[a("Col",{staticClass:"ListName",attrs:{span:"5"}},[t._v("促销名称 :")]),t._v(" "),a("Col",{attrs:{span:"12"}},[a("Input",{attrs:{clearable:""},model:{value:t.addSalesName,callback:function(e){t.addSalesName=e},expression:"addSalesName"}})],1)],1)],1),t._v(" "),a("Modal",{attrs:{title:"提示"},on:{"on-ok":t.handelStatus,"on-cancel":t.cancel},model:{value:t.changeModal,callback:function(e){t.changeModal=e},expression:"changeModal"}},[a("p",[t._v("您确定要"+t._s(t.changeType)+"吗？")])])],1)},n=[];o._withStripped=!0;var s={render:o,staticRenderFns:n};e.default=s},601:function(t,e,a){"use strict";function o(t){c||a(900)}Object.defineProperty(e,"__esModule",{value:!0});var n=a(891),s=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);var l=a(902),i=a.n(l),c=!1,d=a(13),u=o,p=d(s.a,i.a,!1,u,null,null);p.options.__file="src/views/tables/components/orderTable.vue",e.default=p.exports},760:function(t,e,a){"use strict";function o(t){c||a(2194)}Object.defineProperty(e,"__esModule",{value:!0});var n=a(1643),s=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);var l=a(2196),i=a.n(l),c=!1,d=a(13),u=o,p=d(s.a,i.a,!1,u,"data-v-6dd53a77",null);p.options.__file="src/views/promotion-manage/war-programme/promotion-product/promotionProduct-list.vue",e.default=p.exports},891:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"orderTable",props:{columnsList:Array,thisTableData:Array,getHeight:Number,loading:{type:Boolean,default:!0}},data:function(){return{}},created:function(){this.init()},methods:{init:function(){var t=this;this.columnsList.forEach(function(e){"address1"==e.key&&(e.render=function(e,a){return e("Row",{props:{type:"flex",align:"middle",justify:"center"}},[e("Col",{props:{span:"22"}},a.row.name),e("Col",{props:{span:"2"}},[e("Button",{props:{type:"text",icon:"edit"},on:{click:function(e){t.$emit("showLayer","true")}}})])])})})},a:function(t){this.$emit("listenCheckbox",t)}},watch:{}}},900:function(t,e,a){var o=a(901);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(43)("296919d0",o,!1,{})},901:function(t,e,a){e=t.exports=a(42)(!1),e.push([t.i,"\n.show-edit-btn {\n  display: none;\n  margin-left: -10px;\n}\n.ivu-table-cell:hover .show-edit-btn {\n  display: inline-block;\n}\n",""])},902:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Table",{attrs:{height:t.getHeight,columns:t.columnsList,data:t.thisTableData,stripe:"",border:"",loading:t.loading},on:{"on-selection-change":t.a}})],1)},n=[];o._withStripped=!0;var s={render:o,staticRenderFns:n};e.default=s}});