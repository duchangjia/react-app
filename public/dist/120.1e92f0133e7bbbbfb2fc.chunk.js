webpackJsonp([120,213],{1615:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(65),s=n(i),o=a(239),r=n(o),l=a(601),u=n(l);e.default={name:"pureExpenses-list",components:{orderTable:u.default},data:function(){var t=this;return{beginDate:"",endDate:"",salesmanName:"",title:"",tableRef:"",loading:!1,columnsList:[{title:"活动编号",key:"code",width:140,align:"center"},{title:"活动名称",key:"title",align:"center"},{title:"业务员",key:"salesmanName",align:"center"},{title:"门店",key:"storeName",align:"center"},{title:"开始时间",key:"beginDate",width:155,align:"center",render:function(e,a){return e("div",t.timestampToTime(a.row.beginDate))}},{title:"结束时间",key:"endDate",width:155,align:"center",render:function(e,a){return e("div",t.timestampToTime(a.row.endDate))}},{title:"执行平台",key:"produce",align:"center"},{title:"操作",key:"handel",align:"center",width:180,render:function(e,a){return 1==a.row.status?e("div",[e("Button",{props:{size:"small"},style:{marginRight:"5px"},on:{click:function(){t.$router.push({path:"pureExpenses-audit",query:{id:a.row.id}})}}},"审核")]):e("div",[e("Button",{props:{size:"small"},style:{marginRight:"5px"},on:{click:function(){t.$router.push({path:"pureExpenses-audit",query:{id:a.row.id,check:1}})}}},"查看"),e("span",{props:{},style:{marginRight:"5px"}},1==a.row.result?"已审核 | 未通过":"已审核 | 合格")])}}],thisTableData:[],totalCount:0,current:0}},methods:{query:function(t){var e=this;this.current=t,this.$util.ajax({method:"post",url:e.$util.apiConfig.promotionManage.warDeploy.pureExpenses.listUrl,data:r.default.stringify({beginDate:this.beginDate,endDate:this.endDate,salesmanName:this.salesmanName,title:this.title,page:t})}).then(function(t){if(console.log(t.data),console.log((0,s.default)(t)),""!=t.data.result){var a=t.data.result.pager.records;e.thisTableData=[];for(var n in a)e.thisTableData[n]=a[n].costPromotionInfoDTO,e.thisTableData[n].id=a[n].id,e.thisTableData[n].salesmanName=a[n].salesmanName,e.thisTableData[n].storeName=a[n].storeName,e.thisTableData[n].status=a[n].status,e.thisTableData[n].result=a[n].result;e.totalCount=t.data.result.pager.totalCount}}).catch(function(t){console.log(t)})},startTime:function(t){this.beginDate=t+" 00:00:00"},endTime:function(t){this.endDate=t+" 23:59:59"},timestampToTime:function(t){var e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+e.getDate()+" "}},mounted:function(){this.query(1)}}},2102:function(t,e,a){var n=a(2103);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(43)("93a15c1e",n,!1,{})},2103:function(t,e,a){e=t.exports=a(42)(!1),e.push([t.i,"\n.ListName[data-v-8c42c728]{\n    text-align: right;\n    line-height: 32px;\n    color: #747474;\n    font-size: 12px;\n}\n",""])},2104:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"98%",height:"auto",background:"#fff"}},[a("Row",{staticStyle:{padding:"15px","border-bottom":"1px dashed #e5e5e5"}},[a("Col",{attrs:{span:"5"}},[a("Col",{staticClass:"ListName",attrs:{span:"8",pull:"1"}},[t._v("业务员:")]),t._v(" "),a("Col",{attrs:{span:"16"}},[a("Input",{attrs:{clearable:""},model:{value:t.salesmanName,callback:function(e){t.salesmanName=e},expression:"salesmanName"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"5"}},[a("Col",{staticClass:"ListName",attrs:{span:"8",pull:"1"}},[t._v("活动名称:")]),t._v(" "),a("Col",{attrs:{span:"16"}},[a("Input",{attrs:{clearable:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"5"}},[a("Col",{staticClass:"ListName",attrs:{span:"8",pull:"1"}},[t._v("开始时间:")]),t._v(" "),a("Col",{attrs:{span:"16"}},[a("DatePicker",{attrs:{type:"date"},on:{"on-change":t.startTime}})],1)],1),t._v(" "),a("Col",{attrs:{span:"5"}},[a("Col",{staticClass:"ListName",attrs:{span:"8",pull:"1"}},[t._v("结束时间:")]),t._v(" "),a("Col",{attrs:{span:"16"}},[a("DatePicker",{attrs:{type:"date"},on:{"on-change":t.endTime}})],1)],1),t._v(" "),a("Col",{staticStyle:{"padding-right":"20"},attrs:{span:"4"}},[a("Button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(e){t.query(1)}}},[t._v("查询")])],1)],1),t._v(" "),a("row",{staticStyle:{padding:"20px"}},[a("p",{staticClass:"ivu-card-head",staticStyle:{color:"#747474","font-weight":"bold"}},[t._v("标准化执行结果")]),t._v(" "),a("order-table",{attrs:{refs:t.tableRef,columnsList:t.columnsList,thisTableData:t.thisTableData,loading:t.loading}})],1),t._v(" "),a("div",{staticStyle:{padding:"10px 0",overflow:"hidden"}},[a("Page",{staticStyle:{float:"right"},attrs:{total:t.totalCount,"page-size":10,"show-total":"","show-elevator":""},on:{"on-change":t.query}})],1)],1)},i=[];n._withStripped=!0;var s={render:n,staticRenderFns:i};e.default=s},601:function(t,e,a){"use strict";function n(t){u||a(900)}Object.defineProperty(e,"__esModule",{value:!0});var i=a(891),s=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);var r=a(902),l=a.n(r),u=!1,c=a(13),d=n,p=c(s.a,l.a,!1,d,null,null);p.options.__file="src/views/tables/components/orderTable.vue",e.default=p.exports},733:function(t,e,a){"use strict";function n(t){u||a(2102)}Object.defineProperty(e,"__esModule",{value:!0});var i=a(1615),s=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);var r=a(2104),l=a.n(r),u=!1,c=a(13),d=n,p=c(s.a,l.a,!1,d,"data-v-8c42c728",null);p.options.__file="src/views/promotion-manage/war-deploy/pure-expenses/pureExpenses-list.vue",e.default=p.exports},891:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"orderTable",props:{columnsList:Array,thisTableData:Array,getHeight:Number,loading:{type:Boolean,default:!0}},data:function(){return{}},created:function(){this.init()},methods:{init:function(){var t=this;this.columnsList.forEach(function(e){"address1"==e.key&&(e.render=function(e,a){return e("Row",{props:{type:"flex",align:"middle",justify:"center"}},[e("Col",{props:{span:"22"}},a.row.name),e("Col",{props:{span:"2"}},[e("Button",{props:{type:"text",icon:"edit"},on:{click:function(e){t.$emit("showLayer","true")}}})])])})})},a:function(t){this.$emit("listenCheckbox",t)}},watch:{}}},900:function(t,e,a){var n=a(901);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(43)("296919d0",n,!1,{})},901:function(t,e,a){e=t.exports=a(42)(!1),e.push([t.i,"\n.show-edit-btn {\n  display: none;\n  margin-left: -10px;\n}\n.ivu-table-cell:hover .show-edit-btn {\n  display: inline-block;\n}\n",""])},902:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Table",{attrs:{height:t.getHeight,columns:t.columnsList,data:t.thisTableData,stripe:"",border:"",loading:t.loading},on:{"on-selection-change":t.a}})],1)},i=[];n._withStripped=!0;var s={render:n,staticRenderFns:i};e.default=s}});