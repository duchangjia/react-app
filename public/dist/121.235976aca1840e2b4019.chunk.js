webpackJsonp([121,213],{1614:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(102),o=s(n),r=a(239),i=s(r),l=a(601),c=s(l);e.default={name:"pureExpenses-audit",components:{orderTable:c.default},data:function(){var t,e=this;return t={queryArray:(0,o.default)({title:"",beginDate:"",endDate:"",budget:"",description:"",brandName:"",cname:"",costPromotionGoodsDTOList:{}},"costPromotionGoodsDTOList",{}),storeName:"",btnFloag:!1,tableRefStore:"",loading:!1,columnsListStore:[{title:"序号",type:"index",width:62,align:"center"},{title:"销售编码",key:"code79",align:"center"},{title:"条形码",key:"barCode",align:"center"},{title:"商品名称",key:"itemName",align:"center"},{title:"品牌",key:"brandName",align:"center"},{title:"品类",key:"cname",align:"center"}],thisTableDataStore:[],tableRef:""},(0,o.default)(t,"loading",!1),(0,o.default)(t,"radio1","1"),(0,o.default)(t,"check",""),(0,o.default)(t,"columnsList",[{title:"序号",key:"activeNum",align:"center"},{title:"图片",key:"picUrl",align:"center",render:function(t,e){return t("img",e.row.picUrl)}},{title:"审批",key:"businessname",align:"center",render:function(t,a){return t("div",[t("RadioGroup",{props:{value:a.row.isPass},on:{"on-change":function(t){a.row.isPass=1==t?1:0}}},[t("Radio",{props:{label:1,disabled:1==e.$route.query.check},style:{marginRight:"10px",marginTop:"15px"}},"合适"),t("Radio",{props:{label:0,disabled:1==e.$route.query.check},style:{marginRight:"5px",marginTop:"15px"}},"不合适")]),t("Input",{props:{type:"textarea",value:a.row.remarks,disabled:1==e.$route.query.check},style:{marginBottom:"10px",marginTop:"15px"}})])}}]),(0,o.default)(t,"thisTableData",[]),t},methods:{getParams:function(){this.$route.query.dataobj;this.btnFloag=this.$route.query.name},cancel:function(){this.$router.push({path:"pure-expenses"})},quertDetail:function(){var t=this;this.$util.ajax({method:"post",url:t.$util.apiConfig.promotionManage.warDeploy.pureExpenses.getDetailUrl,data:i.default.stringify({approvalId:this.$route.query.id})}).then(function(e){console.log(e.data),200==e.data.code&&null!=e.data.result.costPromotionApproval&&(t.thisTableDataStore=e.data.result.costPromotionApproval.costPromotionInfoDTO.costPromotionGoodsDTOList,t.queryArray=e.data.result.costPromotionApproval.costPromotionInfoDTO,t.queryArray.beginDate=t.timestampToTime(t.queryArray.beginDate),t.queryArray.endDate=t.timestampToTime(t.queryArray.endDate),t.storeName=e.data.result.costPromotionApproval.storeName,t.thisTableData=e.data.result.costPromotionApproval.costPromotionApprovalPicDTOList)}).catch(function(t){console.log(t)})},checkList:function(){var t=this,e=[];for(var a in t.thisTableData)e[a].id=t.thisTableData[a].id,e[a].isPass=t.thisTableData[a].isPass,e[a].remarks=t.thisTableData[a].remarks;this.$util.ajax({method:"post",url:t.$util.apiConfig.promotionManage.warDeploy.pureExpenses.checkList,data:{id:this.$route.query.id,costPromotionApprovalPicDTOList:e}}).then(function(e){console.log(e.data),result.success?t.$Modal.success({title:"提示",content:"修改成功"}):t.$Modal.error({title:"提示",content:e.data.message})}).catch(function(t){console.log(t)})},timestampToTime:function(t){var e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+e.getDate()+" "}},mounted:function(){this.getParams(),this.quertDetail()}}},2099:function(t,e,a){var s=a(2100);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(43)("57c09f75",s,!1,{})},2100:function(t,e,a){e=t.exports=a(42)(!1),e.push([t.i,"\n.ListName[data-v-4ded9106]{\n    text-align: right;\n    line-height: 46px;\n    color: #747474;\n    font-size: 12px;\n    margin-right: 16px;\n    font-weight: bold;\n}\n.content[data-v-4ded9106]{\n    line-height: 46px;\n    color: #747474;\n}\n.but[data-v-4ded9106]{\n    text-align: center;\n    padding-bottom: 30px;\n    padding-top: 20px;\n}\n",""])},2101:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"padding-top":"20px",height:"auto",background:"#fff"}},[a("Row",{},[a("row",[a("Col",{staticClass:"ListName",attrs:{span:"3"}},[t._v("活动名称:")]),t._v(" "),a("Col",{staticClass:"content",attrs:{span:"6"}},[t._v(" "+t._s(t.queryArray.title))])],1),t._v(" "),a("row",[a("Col",{staticClass:"ListName",attrs:{span:"3"}},[t._v("时间:")]),t._v(" "),a("Col",{staticClass:"content",attrs:{span:"6"}},[t._v(" "+t._s(t.queryArray.beginDate)+" 至 "+t._s(t.queryArray.endDate))])],1),t._v(" "),a("row",[a("Col",{staticClass:"ListName",attrs:{span:"3"}},[t._v("执行门店:")]),t._v(" "),a("Col",{staticClass:"content",attrs:{span:"6"}},[t._v(" "+t._s(t.storeName))])],1),t._v(" "),a("row",[a("Col",{staticClass:"ListName",attrs:{span:"3"}},[t._v("预算:")]),t._v(" "),a("Col",{staticClass:"content",attrs:{span:"6"}},[t._v(" "+t._s(t.queryArray.budget))])],1),t._v(" "),a("row",[a("Col",{staticClass:"ListName",attrs:{span:"3"}},[t._v("活动描述:")]),t._v(" "),a("Col",{staticClass:"content",attrs:{span:"6"}},[t._v(" "+t._s(t.queryArray.description))])],1),t._v(" "),a("row",[a("Col",{staticClass:"ListName",attrs:{span:"3"}},[t._v("品牌:")]),t._v(" "),a("Col",{staticClass:"content",attrs:{span:"6"}},[t._v(" "+t._s(t.queryArray.brandName))])],1),t._v(" "),a("row",[a("Col",{staticClass:"ListName",attrs:{span:"3"}},[t._v("品类:")]),t._v(" "),a("Col",{staticClass:"content",attrs:{span:"6"}},[t._v(" "+t._s(t.queryArray.cname))])],1),t._v(" "),a("row",[a("Col",{staticClass:"ListName",attrs:{span:"3"}},[t._v("指定商品:")]),t._v(" "),a("Col",{staticClass:"content",attrs:{span:"6"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:!t.thisTableDataStore,expression:"!thisTableDataStore"}]},[t._v("无")])])],1),t._v(" "),a("row",{directives:[{name:"show",rawName:"v-show",value:t.thisTableDataStore,expression:"thisTableDataStore"}],staticStyle:{padding:"20px"}},[a("order-table",{attrs:{refs:t.tableRefStore,columnsList:t.columnsListStore,thisTableData:t.thisTableDataStore,loading:t.loading}})],1),t._v(" "),a("row",[a("Col",{staticClass:"ListName",attrs:{span:"3"}},[t._v("执行结果:")]),t._v(" "),a("Col",{staticClass:"content",attrs:{span:"6"}})],1)],1),t._v(" "),a("row",{staticStyle:{padding:"20px"}},[a("order-table",{attrs:{refs:t.tableRef,columnsList:t.columnsList,thisTableData:t.thisTableData,loading:t.loading}})],1),t._v(" "),a("row",{staticClass:"but"},[a("Button",{directives:[{name:"show",rawName:"v-show",value:t.btnFloag,expression:"btnFloag"}],staticStyle:{"margin-right":"20px"},attrs:{type:"primary",size:"large"},on:{click:t.checkList}},[t._v("确 定")]),t._v(" "),a("Button",{attrs:{size:"large"},on:{click:t.cancel}},[t._v("返 回")])],1)],1)},n=[];s._withStripped=!0;var o={render:s,staticRenderFns:n};e.default=o},601:function(t,e,a){"use strict";function s(t){c||a(900)}Object.defineProperty(e,"__esModule",{value:!0});var n=a(891),o=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);var i=a(902),l=a.n(i),c=!1,u=a(13),d=s,p=u(o.a,l.a,!1,d,null,null);p.options.__file="src/views/tables/components/orderTable.vue",e.default=p.exports},732:function(t,e,a){"use strict";function s(t){c||a(2099)}Object.defineProperty(e,"__esModule",{value:!0});var n=a(1614),o=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);var i=a(2101),l=a.n(i),c=!1,u=a(13),d=s,p=u(o.a,l.a,!1,d,"data-v-4ded9106",null);p.options.__file="src/views/promotion-manage/war-deploy/pure-expenses/pureExpenses-audit.vue",e.default=p.exports},891:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"orderTable",props:{columnsList:Array,thisTableData:Array,getHeight:Number,loading:{type:Boolean,default:!0}},data:function(){return{}},created:function(){this.init()},methods:{init:function(){var t=this;this.columnsList.forEach(function(e){"address1"==e.key&&(e.render=function(e,a){return e("Row",{props:{type:"flex",align:"middle",justify:"center"}},[e("Col",{props:{span:"22"}},a.row.name),e("Col",{props:{span:"2"}},[e("Button",{props:{type:"text",icon:"edit"},on:{click:function(e){t.$emit("showLayer","true")}}})])])})})},a:function(t){this.$emit("listenCheckbox",t)}},watch:{}}},900:function(t,e,a){var s=a(901);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(43)("296919d0",s,!1,{})},901:function(t,e,a){e=t.exports=a(42)(!1),e.push([t.i,"\n.show-edit-btn {\n  display: none;\n  margin-left: -10px;\n}\n.ivu-table-cell:hover .show-edit-btn {\n  display: inline-block;\n}\n",""])},902:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Table",{attrs:{height:t.getHeight,columns:t.columnsList,data:t.thisTableData,stripe:"",border:"",loading:t.loading},on:{"on-selection-change":t.a}})],1)},n=[];s._withStripped=!0;var o={render:s,staticRenderFns:n};e.default=o}});