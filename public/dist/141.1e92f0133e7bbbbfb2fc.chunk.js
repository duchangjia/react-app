webpackJsonp([141,277],{1085:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"titles",props:{title:{type:String}}}},1402:function(e,t,a){var n=a(1403);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(43)("7295038e",n,!1,{})},1403:function(e,t,a){t=e.exports=a(42)(!1),t.push([e.i,"\n.title-container[data-v-2c6a50ba] {\n  border-bottom: 1px solid #e9eaec;\n  padding: 14px 16px;\n  line-height: 1;\n  margin-bottom: 15px;\n}\n.title-container p[data-v-2c6a50ba] {\n  height: 13px;\n  line-height: 13px;\n  font-size: 13px;\n  color: #777;\n  display: inline-block;\n  width: 100%;\n  font-weight: 700;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n",""])},1404:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-container"},[a("p",[e._v(e._s(e.title))])])},i=[];n._withStripped=!0;var o={render:n,staticRenderFns:i};t.default=o},1574:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(146),o=n(i),r=a(608),s=n(r);t.default={data:function(){var e=this;return{disabled:!1,startTimeOptions:{disabledDate:function(e){return e&&e.valueOf()<Date.now()-864e5}},endTimeOptions:{disabledDate:function(e){return e&&e.valueOf()<Date.now()-864e5}},pageNum:1,pageSize:10,platform:["O2O"],ruleValidate:{sessionName:[{required:!0,message:"请输入档期名称",trigger:"blur"}],beginDate:[{required:!0,message:"请选择开始时间",trigger:"blur"}],endDate:[{required:!0,message:"请选择结束时间",trigger:"blur"}]},addCalendar:{sessionName:"",beginDate:"",endDate:"",platform:"O2O"},calendar:[],loading:!1,columns:[{title:"序号",align:"center",type:"index",width:70},{title:"档期名称",align:"center",key:"sessionName"},{title:"开始时间",align:"center",key:"beginDate"},{title:"结束时间",align:"center",key:"endDate"},{title:"平台",align:"center",key:"platform"},{title:"操作",align:"center",render:function(t,a){return t("Button",{props:{type:"error",size:"small"},on:{click:function(){console.log(a),e.$Modal.confirm({title:"提示",content:"你确定要删除该档期吗？",onOk:function(){e.$util.ajax.post(e.$util.apiConfig.promotionManage.warProgramme.o2oSecondKill.deleteSession,{sessionId:a.row.sessionId}).then(function(t){if(console.log(t),200!==t.data.code)return void e.$Message.info(t.data.message);e.$Message.info("删除成功"),e.getcalendar()}).catch(function(e){console.log("错误信息：",e)})},onCancel:function(){this.$Message.info("取消删除")}})}}},"删除")}}],totalNum:0}},created:function(){this.getcalendar()},methods:{pageNumChange:function(e){this.pageNum=e,this.getcalendar()},pageSizeChange:function(e){this.pageSize=e,this.getcalendar()},add:function(){var e=this,t=!1;if(this.$refs.calendarForm.validate(function(a){a||(e.$Message.warning("请填写带 * 号的必填项"),t=!0)}),!t){if(this.addCalendar.beginDate>=this.addCalendar.endDate)return void this.$Message.warning("开始时间必须小于结束时间");this.disabled=!0,this.$util.ajax.post(this.$util.apiConfig.promotionManage.warProgramme.o2oSecondKill.saveSession,(0,o.default)({},this.addCalendar)).then(function(t){if(200!==t.data.code)return e.$Message.info(t.data.message),void(e.disabled=!1);e.$Message.info("添加成功"),e.getcalendar(),e.disabled=!1}).catch(function(t){console.log("错误信息：",t),e.disabled=!1})}},getcalendar:function(){var e=this;this.loading=!0,this.$util.ajax({method:"POST",url:this.$util.apiConfig.promotionManage.warProgramme.o2oSecondKill.getSessionList,data:{page:{page:this.pageNum,rows:this.pageSize}}}).then(function(t){if(200!==t.data.code)return void e.$Message.error(t.data.message);e.calendar=t.data.result.rows,e.totalNum=t.data.result.total,e.loading=!1}).catch(function(e){console.log("错误信息：",e)})},beginDateChange:function(e){this.addCalendar.beginDate=e},endDateChange:function(e){this.addCalendar.endDate=e}},components:{titles:s.default}}},1977:function(e,t,a){var n=a(1978);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(43)("624f4868",n,!1,{})},1978:function(e,t,a){t=e.exports=a(42)(!1),t.push([e.i,"\n.container .table[data-v-6f7dda16] {\n  margin: 20px 0 30px;\n}\n.container .table .tableTop[data-v-6f7dda16] {\n  margin: 0 1% 2px;\n}\n.container .table .tableTop .addGroup[data-v-6f7dda16] {\n  padding-bottom: 15px;\n  border-bottom: 1px dashed #E8E8E8;\n}\n.container .table .tableTop .addGroup #sessionName[data-v-6f7dda16] {\n  width: 85%;\n}\n.container .table .tableTop .addGroup #beginDate[data-v-6f7dda16],\n.container .table .tableTop .addGroup #endDate[data-v-6f7dda16] {\n  width: 160px;\n}\n.container .table .tableTop .addGroup #platform[data-v-6f7dda16] {\n  width: 80px;\n}\n.container .table .tableTop .addGroup .platFormCol[data-v-6f7dda16] {\n  text-align: center;\n}\n.container .table .tableTop .addGroup .lastCol[data-v-6f7dda16] {\n  text-align: right;\n}\n.container .table .tableTop .title[data-v-6f7dda16] {\n  padding-top: 20px;\n  font-weight: 700;\n  font-size: 15px;\n  text-align: center;\n  color: #495060;\n  margin-bottom: 10px;\n}\n.container .table .page[data-v-6f7dda16] {\n  text-align: right;\n  margin-right: 1%;\n  margin-top: 5px;\n  position: relative;\n}\n.container .bottomBtn[data-v-6f7dda16] {\n  margin: 30px 0;\n  text-align: center;\n}\n",""])},1979:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("titles",{attrs:{title:"档期新增"}}),e._v(" "),a("div",{staticClass:"table"},[a("div",{staticClass:"tableTop"},[a("Form",{ref:"calendarForm",attrs:{"label-width":100,rules:e.ruleValidate,model:e.addCalendar}},[a("Row",{staticClass:"addGroup"},[a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"档期名称：",prop:"sessionName"}},[a("Input",{attrs:{maxlength:49,id:"sessionName"},model:{value:e.addCalendar.sessionName,callback:function(t){e.$set(e.addCalendar,"sessionName",t)},expression:"addCalendar.sessionName"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"开始时间：",prop:"beginDate"}},[a("DatePicker",{attrs:{type:"datetime",id:"beginDate",options:e.startTimeOptions,value:e.addCalendar.beginDate,clearable:"",format:"yyyy-MM-dd HH:mm:ss"},on:{"on-change":e.beginDateChange}})],1)],1),e._v(" "),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"结束时间：",prop:"endDate"}},[a("DatePicker",{attrs:{type:"datetime",id:"endDate",options:e.endTimeOptions,value:e.addCalendar.endDate,clearable:"",format:"yyyy-MM-dd HH:mm:ss"},on:{"on-change":e.endDateChange}})],1)],1),e._v(" "),a("Col",{staticClass:"platFormCol",attrs:{span:"4"}},[a("label",{staticStyle:{color:"#495060"}},[e._v("平台：")]),e._v(" "),a("Select",{attrs:{id:"platform"},model:{value:e.addCalendar.platform,callback:function(t){e.$set(e.addCalendar,"platform",t)},expression:"addCalendar.platform"}},e._l(e.platform,function(t,n){return a("Option",{key:n,attrs:{value:t}},[e._v(e._s(t))])}))],1),e._v(" "),a("Col",{staticClass:"lastCol",attrs:{span:"2"}},[a("Button",{attrs:{type:"primary",disabled:e.disabled},on:{click:e.add}},[e._v("添加")])],1)],1)],1),e._v(" "),a("div",{staticClass:"title"},[e._v("档期列表")])],1),e._v(" "),a("Table",{staticClass:"problem_table",attrs:{stripe:"",loading:e.loading,columns:e.columns,data:e.calendar}}),e._v(" "),a("Page",{staticClass:"page",attrs:{"show-sizer":"","show-total":"","show-elevator":"",total:e.totalNum,current:e.pageNum},on:{"on-change":e.pageNumChange,"on-page-size-change":e.pageSizeChange}})],1),e._v(" "),a("div",{staticClass:"bottomBtn"},[a("Button",{attrs:{type:"ghost"},on:{click:function(t){e.$router.go(-1)}}},[e._v("返回")])],1)],1)},i=[];n._withStripped=!0;var o={render:n,staticRenderFns:i};t.default=o},608:function(e,t,a){"use strict";function n(e){d||a(1402)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(1085),o=a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a(1404),l=a.n(s),d=!1,c=a(13),p=n,u=c(o.a,l.a,!1,p,"data-v-2c6a50ba",null);u.options.__file="src/views/marketing-centre-components/titles.vue",t.default=u.exports},692:function(e,t,a){"use strict";function n(e){d||a(1977)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(1574),o=a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a(1979),l=a.n(s),d=!1,c=a(13),p=n,u=c(o.a,l.a,!1,p,"data-v-6f7dda16",null);u.options.__file="src/views/promotion-manage/second-kill/auction-calendar.vue",t.default=u.exports}});