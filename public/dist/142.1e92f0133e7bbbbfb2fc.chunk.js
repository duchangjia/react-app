webpackJsonp([142,277],{1085:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"titles",props:{title:{type:String}}}},1402:function(e,t,n){var o=n(1403);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(43)("7295038e",o,!1,{})},1403:function(e,t,n){t=e.exports=n(42)(!1),t.push([e.i,"\n.title-container[data-v-2c6a50ba] {\n  border-bottom: 1px solid #e9eaec;\n  padding: 14px 16px;\n  line-height: 1;\n  margin-bottom: 15px;\n}\n.title-container p[data-v-2c6a50ba] {\n  height: 13px;\n  line-height: 13px;\n  font-size: 13px;\n  color: #777;\n  display: inline-block;\n  width: 100%;\n  font-weight: 700;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n",""])},1404:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title-container"},[n("p",[e._v(e._s(e.title))])])},a=[];o._withStripped=!0;var i={render:o,staticRenderFns:a};t.default=i},1439:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(146),i=o(a),r=n(608),s=o(r),l=n(239),c=o(l);t.default={props:{disabled:{type:Boolean,default:!1},storeChecked:{type:Boolean,default:!1},store:{type:Array,default:[]}},data:function(){return{shop:{storeCodeLike:"",storeNameLike:"",storeNature:"",customizeGroupId:""},storeNature:["A","B","C","D","E"],storeGroupList:[],excludeSelection:[],selection:[],pageNum:1,pageSize:5,dataTotal:0,columns:[{type:"selection",align:"center",width:58},{title:"序号",align:"center",width:70,type:"index"},{title:"门店编码",align:"center",render:function(e,t){return e("span",{},t.row.storeCode)}},{title:"门店名称",align:"center",render:function(e,t){return e("span",{},t.row.storeName)}},{title:"门店类型",align:"center",render:function(e,t){return e("span",{},t.row.storeNature)}},{title:"自定义组",align:"center",render:function(e,t){return e("span",{},t.row.groupName)}}],excludeStoreColumns:[{type:"selection",align:"center",width:58},{title:"序号",align:"center",width:70,type:"index"},{title:"门店编码",align:"center",render:function(e,t){return e("span",{},t.row.storeCode)}},{title:"门店名称",align:"center",render:function(e,t){return e("span",{},t.row.storeName)}},{title:"门店类型",align:"center",render:function(e,t){return e("span",{},t.row.storeNature)}},{title:"自定义组",align:"center",render:function(e,t){return e("span",{},t.row.groupName)}}],excludeStoreLoading:!1,loading:!1,excludeStore:[],tableData:[]}},methods:{getStoreGroupList:function(){var e=this;this.$util.ajax({method:"post",url:this.$util.apiConfig.promotionManage.warProgramme.storeGroup}).then(function(t){if(200!==t.data.code)return void e.$Message.error(t.data.message);e.storeGroupList=t.data.result.storeGroupList}).catch(function(e){console.log("错误信息：",e)})},cancelChecked:function(){this.tableData.map(function(e){e._checked=!0,e._checked=!1}),this.selectNum=0,this.tableTopVisibility=1,this.selection=[]},pageNumCHangecancelChecked:function(){var e=this;this.tableData.map(function(e){e._disabled=!1}),this.tableData.map(function(e){e._checked=!0}),setTimeout(function(){e.tableData.map(function(e){e._checked=!1})}),this.selection=[]},excludeBtn:function(){var e=this;if(0===this.selection.length)return void(this.storeChecked?this.$Message.success("请选择想要添加的门店"):this.$Message.success("请选择想要排除的门店"));if(this.$Message.success("排除成功"),0===this.excludeStore.length)return this.selection.map(function(t){e.excludeStore.push(t),e.$emit("get-store",e.excludeStore)}),void this.cancelChecked();var t=!0;this.selection.map(function(n){e.excludeStore.map(function(e){n.storeCode===e.storeCode&&(t=!1)}),t&&(e.excludeStore.push(n),e.$emit("get-store",e.excludeStore)),t=!0})},searchBtn:function(){this.pageNum=1,this.getStoreList()},getStoreList:function(){var e=this;this.loading=!0;var t=(0,i.default)({page:this.pageNum,rows:this.pageSize},this.shop,{t_i_m_e:(new Date).getTime()});this.$util.ajax({method:"post",url:this.$util.apiConfig.promotionManage.warProgramme.getStoreList,data:c.default.stringify(t)}).then(function(t){if(200!==t.data.code)return void e.$Message.info(t.data.message);setTimeout(function(){t.data.result.records.map(function(t){t._checked=!1,t._disabled=e.disabled}),e.tableData=t.data.result.records}),e.dataTotal=t.data.result.totalCount,e.loading=!1}).catch(function(e){console.log("错误信息：",e)})},pageSizeChange:function(e){this.pageSize=e,this.getStoreList()},changePage:function(e){this.pageNumCHangecancelChecked(),this.pageNum=e,this.getStoreList()},excludeDeleteBtn:function(){var e=this;if(0===this.excludeSelection.length)return void this.$Message.success("请选择想要删除的门店");this.$Message.success("删除成功"),this.excludeSelection.map(function(t){e.excludeStore.map(function(n,o){n.storeCode===t.storeCode&&(e.excludeStore.splice(o,1),e.$emit("get-store",e.excludeStore))})}),this.excludeSelection=[]},excludeStoreSelectionChange:function(e){this.excludeSelection=e},selectionChange:function(e){this.selection=e}},components:{titles:s.default},created:function(){this.getStoreList(),this.getStoreGroupList()},watch:{store:function(e){this.excludeStore=e}}}},1487:function(e,t,n){var o=n(1488);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(43)("4e705b80",o,!1,{})},1488:function(e,t,n){t=e.exports=n(42)(!1),t.push([e.i,"\n.excludeStore .btn[data-v-8bf338ee] {\n  margin-right: 10px;\n  color: #495060;\n  padding: 5px 10px 5px 35px;\n  cursor: pointer;\n  position: relative;\n  font-size: 13px;\n}\n.excludeStore .btn[data-v-8bf338ee]:hover {\n  color: red;\n}\n.excludeStore .btn:hover .icon[data-v-8bf338ee] {\n  color: #f10;\n}\n.excludeStore .btn .icon[data-v-8bf338ee] {\n  color: #dedada;\n  font-size: 20px;\n  position: absolute;\n  left: 10px;\n  top: 2px;\n}\n.excludeStore .shop[data-v-8bf338ee] {\n  margin: 0 .5% 5px;\n}\n.excludeStore .shop label[data-v-8bf338ee] {\n  margin-right: 5px;\n}\n.excludeStore .shop #num[data-v-8bf338ee],\n.excludeStore .shop #name[data-v-8bf338ee],\n.excludeStore .shop #type[data-v-8bf338ee],\n.excludeStore .shop #group[data-v-8bf338ee] {\n  width: 60%;\n}\n.excludeStore .shop .inquireBtn[data-v-8bf338ee] {\n  float: right;\n}\n.excludeStore .shop .inquireBtn[data-v-8bf338ee]:last-of-type {\n  margin-right: 10px;\n}\n.excludeStore .CheckedTableCaption[data-v-8bf338ee] {\n  margin: 0 .5% 2px;\n  text-align: center;\n  position: relative;\n  height: 30px;\n}\n.excludeStore .CheckedTableCaption .title[data-v-8bf338ee] {\n  font-weight: 700;\n  font-size: 15px;\n  color: #495060;\n}\n.excludeStore .CheckedTableCaption .delBtn[data-v-8bf338ee] {\n  position: absolute;\n  right: 0;\n  top: -5px;\n}\n.excludeStore .page[data-v-8bf338ee] {\n  text-align: right;\n  margin-right: 1%;\n  margin-top: 5px;\n  position: relative;\n}\n.excludeStore .table[data-v-8bf338ee] {\n  margin: 20px 0 30px;\n}\n.excludeStore .table .tableTop[data-v-8bf338ee] {\n  margin: 10px 1% 2px;\n}\n.excludeStore .table .tableTop .deleteGroup[data-v-8bf338ee] {\n  margin-bottom: 6px;\n}\n.excludeStore .table .tableTop .deleteGroup .selectNum[data-v-8bf338ee] {\n  line-height: 31px;\n  padding-left: 35px;\n  color: rgba(0, 0, 0, 0.85);\n  position: relative;\n}\n.excludeStore .table .tableTop .deleteGroup .selectNum .cancelChecked[data-v-8bf338ee] {\n  font-size: 34px;\n  color: rgba(0, 0, 0, 0.85);\n  position: absolute;\n  cursor: pointer;\n  left: 9px;\n  top: -2px;\n}\n.excludeStore .table .tableTop .deleteGroup .selectNum .selected .number[data-v-8bf338ee] {\n  color: #2d8cf0;\n  display: inline-block;\n  margin: 0 5px;\n}\n.excludeStore .table .tableTop .deleteGroup .selectNum .split[data-v-8bf338ee] {\n  margin: 0 25px 0 35px;\n  font-size: 18px;\n  color: #DDDEE1;\n}\n.excludeStore .table .tableTop .deleteGroup .selectNum .btn[data-v-8bf338ee] {\n  margin-right: 10px;\n  color: #495060;\n  padding: 5px 10px 5px 35px;\n  cursor: pointer;\n  position: relative;\n  font-size: 13px;\n}\n.excludeStore .table .tableTop .deleteGroup .selectNum .btn[data-v-8bf338ee]:hover {\n  color: red;\n}\n.excludeStore .table .tableTop .deleteGroup .selectNum .btn:hover .icon[data-v-8bf338ee] {\n  color: #f10;\n}\n.excludeStore .table .tableTop .deleteGroup .selectNum .btn .icon[data-v-8bf338ee] {\n  color: #dedada;\n  font-size: 20px;\n  position: absolute;\n  left: 10px;\n  top: 2px;\n}\n",""])},1489:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"excludeStore"},[n("titles",{attrs:{title:e.storeChecked?"门店选择":"排除配置"}}),e._v(" "),n("div",{staticClass:"table"},[n("div",{staticClass:"tableTop"},[n("Row",{staticClass:"shop"},[n("Col",{attrs:{span:"5"}},[n("label",{attrs:{for:"num"}},[e._v("门店编码")]),e._v(" "),n("Input",{attrs:{id:"num",clearable:"",disabled:e.disabled},model:{value:e.shop.storeCodeLike,callback:function(t){e.$set(e.shop,"storeCodeLike",t)},expression:"shop.storeCodeLike"}})],1),e._v(" "),n("Col",{attrs:{span:"5"}},[n("label",{attrs:{for:"name"}},[e._v("门店名称")]),e._v(" "),n("Input",{attrs:{id:"name",clearable:"",disabled:e.disabled},model:{value:e.shop.storeNameLike,callback:function(t){e.$set(e.shop,"storeNameLike",t)},expression:"shop.storeNameLike"}})],1),e._v(" "),n("Col",{attrs:{span:"5"}},[n("label",{attrs:{for:"type"}},[e._v("门店类型")]),e._v(" "),n("Select",{attrs:{id:"type",clearable:"",disabled:e.disabled},model:{value:e.shop.storeNature,callback:function(t){e.$set(e.shop,"storeNature",t)},expression:"shop.storeNature"}},e._l(e.storeNature,function(t,o){return n("Option",{key:o,attrs:{value:t}},[e._v(e._s(t))])}))],1),e._v(" "),n("Col",{attrs:{span:"4"}},[n("label",{attrs:{for:"group"}},[e._v("自定义组")]),e._v(" "),n("Select",{attrs:{id:"group",clearable:"",disabled:e.disabled},model:{value:e.shop.customizeGroupId,callback:function(t){e.$set(e.shop,"customizeGroupId",t)},expression:"shop.customizeGroupId"}},e._l(e.storeGroupList,function(t,o){return n("Option",{key:o,attrs:{value:t.id}},[e._v(e._s(t.groupName))])}))],1),e._v(" "),n("Button",{staticClass:"inquireBtn",attrs:{type:e.storeChecked?"primary":"error",disabled:e.disabled},on:{click:e.excludeBtn}},[e._v(e._s(e.storeChecked?"添加":"排除"))]),e._v(" "),n("Button",{staticClass:"inquireBtn",attrs:{type:"primary",disabled:e.disabled},on:{click:e.searchBtn}},[e._v("查询")])],1)],1),e._v(" "),n("Table",{staticClass:"directionalRuleTable problem_table",attrs:{stripe:"",loading:e.loading,columns:e.columns,data:e.tableData},on:{"on-selection-change":e.selectionChange}}),e._v(" "),n("Page",{attrs:{total:e.dataTotal,current:e.pageNum,"show-sizer":"","show-total":"","show-elevator":"","page-size":5,"page-size-opts":[5,10,15,20],"class-name":"page"},on:{"on-change":e.changePage,"on-page-size-change":e.pageSizeChange}})],1),e._v(" "),n("div",{staticClass:"table"},[n("div",{staticClass:"tableTop"},[n("div",{staticClass:"CheckedTableCaption"},[n("div",{staticClass:"title"},[e._v(e._s(e.storeChecked?"已选门店":"排除门店"))]),e._v(" "),n("Button",{staticClass:"delBtn",attrs:{type:"error",disabled:e.disabled},on:{click:e.excludeDeleteBtn}},[e._v("删除")])],1)]),e._v(" "),n("Table",{staticClass:"checkedShopTable problem_table",attrs:{stripe:"",loading:e.excludeStoreLoading,columns:e.excludeStoreColumns,data:e.excludeStore},on:{"on-selection-change":e.excludeStoreSelectionChange}})],1)],1)},a=[];o._withStripped=!0;var i={render:o,staticRenderFns:a};t.default=i},608:function(e,t,n){"use strict";function o(e){c||n(1402)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1085),i=n.n(a);for(var r in a)"default"!==r&&function(e){n.d(t,e,function(){return a[e]})}(r);var s=n(1404),l=n.n(s),c=!1,d=n(13),u=o,p=d(i.a,l.a,!1,u,"data-v-2c6a50ba",null);p.options.__file="src/views/marketing-centre-components/titles.vue",t.default=p.exports},627:function(e,t,n){"use strict";function o(e){c||n(1487)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1439),i=n.n(a);for(var r in a)"default"!==r&&function(e){n.d(t,e,function(){return a[e]})}(r);var s=n(1489),l=n.n(s),c=!1,d=n(13),u=o,p=d(i.a,l.a,!1,u,"data-v-8bf338ee",null);p.options.__file="src/views/marketing-centre-components/store.vue",t.default=p.exports}});