webpackJsonp([145],{1437:function(t,e){t.exports=function(t){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},1513:function(t,e,a){t.exports=a.p+"0f18ecbacd58024a55f12b55863e47bf.jpg"},1770:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(241),i=n(s),r=a(146),l=n(r),c=a(242),o=n(c),d=a(239);e.default={data:function(){var t=this;return{apiGroup:this.$util.apiConfig.traderManage.productManage,query:{itemId:"",itemName:"",code69:"",code79:"",code80:"",isUnshelve:"",cid:"",effectiveDate:"",endDate:"",page:1},mainData:[],mainDataLoading:!1,mainDataSelection:[],mainTotal:0,mainColumns:[{type:"selection",width:60,align:"center",fixed:"left"},{title:"图片",key:"pictureUrl",minWidth:120,align:"center",render:function(t,e){var a=null;e.row.pictureUrl&&null!==e.row.pictureUrl&&(a=e.row.pictureUrl);var n=t("img",{attrs:{style:"width:75px;height:75px;vertical-align: middle;",src:a}});return a?t("span",{class:{"image-exist":!0}},[n]):t("span",{class:{"image-empty":!0}})}},{title:"商品名称",align:"center",minWidth:90,key:"itemName"},{title:"销售分类",align:"center",minWidth:90,key:"cnames"},{title:"销售编码",align:"center",key:"code79",width:125,minWidth:75},{title:"条形码",align:"center",key:"code69",width:125,minWidth:75},{title:"生效日期",align:"center",key:"effectiveDate",minWidth:100,width:150,render:function(t,e){var a=e.row.effectiveDate,n=a.indexOf(".0"),s=a.substr(0,n);return-1!=n?t("span",s):t("span",a)}},{title:"失效日期",align:"center",key:"endDate",minWidth:100,width:150,render:function(t,e){var a=e.row.endDate,n=a.indexOf(".0"),s=a.substr(0,n);return-1!=n?t("span",s):t("span",a)}},{title:"状态",align:"center",minWidth:90,key:"isUnshelve",render:function(t,e){var a="";return 1==e.row.isUnshelve?a="失效":0==e.row.isUnshelve&&(a="生效"),t("span",a)}},{title:"操作",align:"center",width:80,fixed:"right",render:function(e,a){var n=void 0,s=void 0;return 1==a.row.isUnshelve?n=e("Button",{props:{size:"small"},attrs:{style:"margin:2px 0;"},on:{click:function(e){return t.handleUpAndDown([a.row],a.row.isUnshelve)}}},"上架"):0==a.row.isUnshelve&&(n=e("Button",{props:{size:"small"},attrs:{style:"margin:2px 0;"},on:{click:function(e){return t.handleUpAndDown([a.row],a.row.isUnshelve)}}},"下架")),s=e("Button",{props:{size:"small"},attrs:{style:"margin:2px 0;"},on:{click:function(e){return t.showDetail(a.row.itemId)}}},"查看"),e("span",[s,n])}}],category1:[],category1Selected:"",category2:[],category2Selected:"",category3:[],category3Selected:"",category4:[],category4Selected:"",addGiftModalVisible:!1,addGiftLoading:!1,addGiftQuery:{page:1,itemId:"",itemName:"",itemStatus:4,code69:"",code79:"",code80:""},addGiftData:[],addGiftTotal:0,addGiftColumns:[{type:"selection",width:60,align:"center"},{title:"序号",width:60,align:"center",render:function(e,a){return e("span",10*(t.addGiftQuery.page-1)+a.index+1)}},{title:"销售编码",align:"center",key:"code79"},{title:"条形码",align:"center",key:"code69"},{title:"商品名称",align:"center",key:"itemName"},{title:"商品状态",align:"center",key:"itemStatus",render:function(e,a){return e("span",t.itemStatusText(a.row.itemStatus))}},{title:"操作",align:"center",render:function(e,a){return e("span",{attrs:{style:"cursor:pointer;color:#38a8d9;"},on:{click:function(e){return t.showDetail(a.row.itemId)}}},"查看")}}],addGiftSelection:[],detailVisible:!1,detailInfo:{category:"",itemName:"",spuShortName:"",itemStatus:"",spuDesc:"",ad:"",itemId:"",code69:"",spuCode:"",brandName:"",baseUnit:"",changeUnit:"",changeUnitRate:"",size:"",volume:"",grossWeight:"",suttleWeight:"",spuType:"",expiryDate:"",expiryDateUnit:"",marketPrice:"",sellPrices:"",describeUrl:"",keywords:"",packingList:"",afterService:""}}},computed:{createEndTimeDisabled:function(){if(this.query.effectiveDate){var t=this;return{disabledDate:function(e){return e.getTime()<new Date(t.query.effectiveDate).getTime()}}}},createStartTimeDisabled:function(){if(this.query.endDate){var t=this;return{disabledDate:function(e){return e.getTime()>new Date(t.query.endDate).getTime()}}}}},mounted:function(){this.getMainData()},methods:{getMainData:function(){function t(){return e.apply(this,arguments)}var e=(0,o.default)(i.default.mark(function t(){var e,a,n,s;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,l.default)({},this.query),e.cid1="",this.category1Selected&&(e.cid1=this.category1Selected),this.category2Selected&&(e.cid1=this.category2Selected),this.category3Selected&&(e.cid1=this.category3Selected),this.category4Selected&&(e.cid1=this.category4Selected),e.isUnshelve||0===e.isUnshelve||(e.isUnshelve=""),this.mainDataLoading=!0,t.prev=8,t.next=11,this.$ajax.post(this.apiGroup.libyGiftList,d.stringify(e));case 11:a=t.sent,n=a.data,200==n.code&&n.result&&(s=n.result,this.category1.length<=0&&s.itemCategoryDTOList1 instanceof Array&&(this.category1=s.itemCategoryDTOList1.concat()),s.pager&&(this.mainTotal=s.pager.totalCount||0,s.pager.records instanceof Array&&(this.mainData=s.pager.records.concat()))),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(8),console.error(t.t0),this.$Message.error("销售分类获取失败");case 20:this.mainDataLoading=!1;case 21:case"end":return t.stop()}},t,this,[[8,16]])}));return t}(),handleMainQuery:function(){this.query.page=1,this.getMainData()},handleCategory1Change:function(t){this.category2Selected="",this.category3Selected="",this.category4Selected="",this.category2=[],this.category3=[],this.category4=[],this.setCategory({lev:2,type:1,parentCid:t},"category2")},handleCategory2Change:function(t){this.category3Selected="",this.category4Selected="",this.category3=[],this.category4=[],this.setCategory({lev:3,type:1,parentCid:t},"category3")},handleCategory3Change:function(t){this.category4Selected="",this.category4=[],this.setCategory({lev:4,type:1,parentCid:t},"category4")},setCategory:function(){function t(t,a){return e.apply(this,arguments)}var e=(0,o.default)(i.default.mark(function t(e,a){var n,s;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.parentCid){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,this.$ajax.post(this.apiGroup.queryItemsByLev,d.stringify(e));case 5:n=t.sent,s=n.data,s.result instanceof Array&&(this[a]=s.result.concat()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.error(t.t0);case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return t}(),handleEffectiveDateChange:function(t){this.query.effectiveDate=t+" 00:00:00"},handleEndDateChange:function(t){this.query.endDate=t+" 23:59:59"},handleUpAndDown:function(){function t(t,a){return e.apply(this,arguments)}var e=(0,o.default)(i.default.mark(function t(e,a){var n,s,r,l,c,o=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this,s=e.map(function(t){return t.itemId}),0==a?a=1:1==a&&(a=0),r={ids:s,isUnshelve:a},t.prev=4,t.next=7,this.$ajax.post(this.apiGroup.updateItemGift,r);case 7:l=t.sent,c=l.data,n.$Modal.info({content:c.message,onOk:function(t){return o.getMainData()}}),n.mainDataSelection=[],t.next=16;break;case 13:t.prev=13,t.t0=t.catch(4),n.$Modal.info({content:"上下架失败"});case 16:case"end":return t.stop()}},t,this,[[4,13]])}));return t}(),handleMainDataSelectionChange:function(t){this.mainDataSelection=t},groupDown:function(){var t={content:"",width:600};if(this.mainDataSelection.length<=0&&(t.content="未勾选商品",delete t.width),this.mainDataSelection.forEach(function(e){1==e.isUnshelve&&(t.content+="<p>商品【"+e.itemName+"】已下架,请勿重新下架\n</p><br/>")}),t.content)return this.$Modal.warning(t);this.handleUpAndDown(this.mainDataSelection,0)},showDetail:function(){function t(t){return e.apply(this,arguments)}var e=(0,o.default)(i.default.mark(function t(e){var a,n,s,r,l,c,o,u,p,v,f,h;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={itemId:e,doType:"view"},this.$Message.info("详情获取中..."),t.prev=2,t.next=5,this.$ajax.post(this.apiGroup.libyGiftDetail,d.stringify(a));case 5:n=t.sent,s=n.data,200==s.code&&s.result&&null!==s.result?(r=s.result.itemDTO,l=s.result.itemSpuDTO,c=s.result.itemCatCascadeDTOList,o=s.result.ItemCatCascadeLevelTwoList,u=s.result.ItemCatCascadeLevelThreeList,p=[],l.plstItemId?(p.push(s.result.itemCatCascadeDTO.cname),p.push(s.result.twoItemCatCascadeDTO.cname),p.push(s.result.threeItemCatCascadeDTO.cname)):(c&&c.forEach(function(t){t.cid==s.result.oneLevelId&&p.push(t.cname)}),o&&o.forEach(function(t){t.cid==s.result.twoLevelId&&p.push(t.cname)}),u&&u.forEach(function(t){t.cid==s.result.itemDTO.cid&&p.push(t.cname)})),v=s.result.tradegoogstypeList,f="",v&&v.forEach(function(t){l.spuType==t.code&&(f=t.name)}),h="",r.sellPrices.length>0&&(h=r.sellPrices[0].sellPrice+"~"+r.sellPrices[0].maxPrice),this.detailInfo={category:p.join("/"),itemName:l.spuName,spuShortName:l.spuShortName,itemStatus:r.itemStatus,spuDesc:l.spuDesc,ad:l.ad,itemId:r.itemId,code69:l.code69,spuCode:l.spuCode,brandName:r.brandName,baseUnit:l.baseUnit,changeUnit:l.changeUnit,changeUnitRate:l.changeUnitRate,size:l.size,volume:l.volume,grossWeight:l.grossWeight,suttleWeight:l.suttleWeight,spuType:f,expiryDate:l.expiryDate,expiryDateUnit:l.expiryDateUnit,marketPrice:r.marketPrice,sellPrices:h,describeUrl:r.describeUrl,keywords:r.keywords,packingList:r.packingList,afterService:r.afterService},this.detailVisible=!0):this.$Message.error("详情获取失败"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),console.error(t.t0),this.$Message.error("详情获取失败");case 14:case"end":return t.stop()}},t,this,[[2,10]])}));return t}(),itemStatusText:function(t){switch(t){case"":return"";case 1:return"未发布";case 2:return"待审核";case 3:return"待上架";case 4:return"在售";case 5:return"已下架";case 6:return"锁定";case 7:return"申请解锁";case 14:return"在售(平台)";case 15:return"已下架(平台)";default:return"审核驳回"}},showAddGiftModal:function(){this.addGiftModalVisible=!0,this.addGiftQuery={page:1,itemId:"",itemName:"",itemStatus:4,code69:"",code79:"",code80:""},this.getAddGiftData(1)},getAddGiftData:function(){function t(t){return e.apply(this,arguments)}var e=(0,o.default)(i.default.mark(function t(e){var a,n,s;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.addGiftQuery.page=e,a=(0,l.default)({},this.addGiftQuery,{gift:3,_:(new Date).getTime()}),this.addGiftSelection=[],this.addGiftData=[],this.addGiftLoading=!0,t.prev=5,t.next=8,this.$ajax(this.apiGroup.libyGiftAddList,{params:a});case 8:n=t.sent,s=n.data,s.records instanceof Array?(this.addGiftData=s.records.concat(),this.addGiftTotal=s.totalCount||0):this.$Message.error("赠品列表请求失败"),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(5),this.$Message.error("赠品列表请求失败"),console.error(t.t0);case 17:this.addGiftLoading=!1;case 18:case"end":return t.stop()}},t,this,[[5,13]])}));return t}(),addGiftSearch:function(){this.addGiftQuery.page=1,this.getAddGiftData(1)},addGiftSelectionChange:function(t){this.addGiftSelection=t},addGift:function(){function t(t){return e.apply(this,arguments)}var e=(0,o.default)(i.default.mark(function t(e){var a,n,s,r,l=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.addGiftSelection.length<=0)){t.next=2;break}return t.abrupt("return",this.$Modal.warning({content:"未勾选赠品"}));case 2:return a={list:this.addGiftSelection.map(function(t){return{itemId:t.itemId,itemName:t.itemName,code79:t.code79,code69:t.code69,isUnshelve:t.isUnshelve}})},console.log(a),t.prev=4,t.next=7,this.$ajax.post(this.apiGroup.inseretItemGift,a);case 7:n=t.sent,s=n.data,"新增成功"==s.message?this.$Modal.success({content:"新增成功",onOk:function(t){l.getMainData(),e&&e()}}):(r="赠品添加失败",s.message&&null!==s.message&&(r=s.message),this.$Modal.error({content:r})),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),this.$Modal.error({content:"赠品添加失败"});case 15:case"end":return t.stop()}},t,this,[[4,12]])}));return t}(),addGiftAndClose:function(){var t=this;this.addGift(function(e){return t.addGiftModalVisible=!1})},newAddGift:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"是否立即上架赠品？",onOk:function(){e.addGiftSelection.map(function(t){t.isUnshelve=0}),setTimeout(function(a){t?e.addGiftAndClose():e.addGift()},500)},onCancel:function(){e.addGiftSelection.map(function(t){t.isUnshelve=1}),setTimeout(function(a){t?e.addGiftAndClose():e.addGift()},500)},okText:"是",cancelText:"否"})}}}},2658:function(t,e,a){var n=a(2659);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(43)("85e4fb76",n,!1,{})},2659:function(t,e,a){e=t.exports=a(42)(!1),e.push([t.i,"\n.wd-100[data-v-c1049908] {\n  width: 100px;\n}\n.wd-120[data-v-c1049908] {\n  width: 120px;\n}\n.wd-150[data-v-c1049908] {\n  width: 150px;\n}\n.wd-220[data-v-c1049908] {\n  width: 220px;\n}\n.flr[data-v-c1049908] {\n  float: right;\n}\n.bfc[data-v-c1049908] {\n  width: 100%;\n  overflow: hidden;\n  clear: both;\n}\n.bfc > .flr[data-v-c1049908] {\n  width: 120px;\n  text-align: center;\n  min-height: 100px;\n  padding-left: 10px;\n}\n.bfc > .flr .btn[data-v-c1049908] {\n  margin: 10px 0;\n}\n.bfc .left[data-v-c1049908] {\n  padding-top: 10px;\n  min-height: 100px;\n  width: auto;\n  overflow: hidden;\n}\n.bfc .left > div[data-v-c1049908] {\n  line-height: 50px;\n}\n.bfc .left .item[data-v-c1049908] {\n  display: inline-block;\n}\n.bfc .left span.flr.up-and-down[data-v-c1049908] {\n  margin-right: 200px;\n}\n.bfc .left span.flr.up-and-down .btn[data-v-c1049908] {\n  margin-right: 20px;\n}\n.goods-detail[data-v-c1049908] {\n  height: 400px;\n  overflow: scroll;\n  overflow-x: hidden;\n}\n.goods-detail .pannel[data-v-c1049908] {\n  color: #747474;\n}\n.goods-detail .pannel .title[data-v-c1049908] {\n  font-size: 14px;\n  background: #fafafa;\n  padding-left: 10px;\n  line-height: 30px;\n}\n.goods-detail .pannel .require[data-v-c1049908] {\n  color: #0099ff;\n}\n.goods-detail .pannel div.content[data-v-c1049908] {\n  overflow: hidden;\n}\n.goods-detail .pannel div.content > div[data-v-c1049908] {\n  margin: 10px 0;\n  padding: 0 5px;\n}\n.options[data-v-c1049908] {\n  display: inline-block;\n}\n.options .btn[data-v-c1049908] {\n  margin: 0 10px 20px 0;\n}\n.result[data-v-c1049908] {\n  width: 100%;\n  float: left;\n}\n.liby-gift[data-v-c1049908] {\n  overflow: hidden;\n}\n.page[data-v-c1049908] {\n  text-align: right;\n  margin: 10px 0;\n}\n.page .pager[data-v-c1049908] {\n  display: inline-block;\n}\n.add-query[data-v-c1049908] {\n  margin-bottom: 20px;\n}\n.add-query > div[data-v-c1049908] {\n  margin-bottom: 5px;\n}\n.add-query .label[data-v-c1049908] {\n  display: inline-block;\n  text-align: right;\n  width: 80px;\n}\n",""])},2660:function(t,e,a){var n=a(2661);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(43)("0a24e23a",n,!1,{})},2661:function(t,e,a){var n=a(1437);e=t.exports=a(42)(!1),e.push([t.i,"\n.add-result .ivu-table-wrapper .ivu-table .ivu-table-body{\r\n   height:230px;  \r\n   overflow: scroll;   \r\n   overflow-x: hidden;\n}\n.image-empty{\r\n     height: 75px;\r\n     width: 75px;\r\n     display: block;\r\n     background: url("+n(a(1513))+") no-repeat;\r\n     background-size: 100%;\r\n     margin: 10px;\n}\n.image-exist{\r\n     height: 75px;\r\n     width: 75px;\r\n     display: block;\r\n     margin: 10px;\n}\r\n",""])},2662:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Card",{staticClass:"liby-gift"},[a("div",{staticClass:"query"},[a("Form",{attrs:{"label-width":80}},[a("div",{staticClass:"bfc"},[a("div",{staticClass:"flr"},[a("Button",{staticClass:"wd-80 btn",attrs:{long:""},on:{click:t.handleMainQuery}},[t._v("查询")])],1),t._v(" "),a("div",{staticClass:"left"},[a("Row",[a("FormItem",{staticClass:"wd-220 item",attrs:{label:"商品编码:"}},[a("Input",{model:{value:t.query.itemId,callback:function(e){t.$set(t.query,"itemId",e)},expression:"query.itemId"}})],1),t._v(" "),a("FormItem",{staticClass:"wd-220 item",attrs:{label:"商品名称:"}},[a("Input",{model:{value:t.query.itemName,callback:function(e){t.$set(t.query,"itemName",e)},expression:"query.itemName"}})],1)],1),t._v(" "),a("Row",[a("FormItem",{staticClass:"wd-220 item",attrs:{label:"条形码:"}},[a("Input",{model:{value:t.query.code69,callback:function(e){t.$set(t.query,"code69",e)},expression:"query.code69"}})],1),t._v(" "),a("FormItem",{staticClass:"wd-220 item",attrs:{label:"销售编码:"}},[a("Input",{model:{value:t.query.code79,callback:function(e){t.$set(t.query,"code79",e)},expression:"query.code79"}})],1),t._v(" "),a("FormItem",{staticClass:"wd-220 item",attrs:{label:"物料编码:"}},[a("Input",{model:{value:t.query.code80,callback:function(e){t.$set(t.query,"code80",e)},expression:"query.code80"}})],1)],1),t._v(" "),a("Row",[a("FormItem",{staticClass:"wd-220 item",attrs:{label:"商品状态:"}},[a("Select",{attrs:{transfer:!0,placeholder:"请选择",clearable:""},model:{value:t.query.isUnshelve,callback:function(e){t.$set(t.query,"isUnshelve",e)},expression:"query.isUnshelve"}},[a("Option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),a("Option",{attrs:{value:0}},[t._v("生效")]),t._v(" "),a("Option",{attrs:{value:1}},[t._v("失效")])],1)],1)],1),t._v(" "),a("Row",[a("FormItem",{staticClass:"item",attrs:{label:"销售分类:"}},[a("Select",{staticClass:"wd-120",attrs:{placeholder:"请选择品牌",transfer:!0,clearable:""},on:{"on-change":t.handleCategory1Change},model:{value:t.category1Selected,callback:function(e){t.category1Selected=e},expression:"category1Selected"}},t._l(t.category1,function(e,n){return a("Option",{key:n,attrs:{value:e.cid}},[t._v(t._s(e.cName))])})),t._v(" "),a("Select",{staticClass:"wd-120",attrs:{placeholder:"请选择品类",transfer:!0,clearable:""},on:{"on-change":t.handleCategory2Change},model:{value:t.category2Selected,callback:function(e){t.category2Selected=e},expression:"category2Selected"}},t._l(t.category2,function(e,n){return a("Option",{key:n,attrs:{value:e.cid}},[t._v(t._s(e.cName))])})),t._v(" "),a("Select",{staticClass:"wd-120",attrs:{placeholder:"请选择细分",transfer:!0,clearable:""},on:{"on-change":t.handleCategory3Change},model:{value:t.category3Selected,callback:function(e){t.category3Selected=e},expression:"category3Selected"}},t._l(t.category3,function(e,n){return a("Option",{key:n,attrs:{value:e.cid}},[t._v(t._s(e.cName))])})),t._v(" "),a("Select",{staticClass:"wd-120",attrs:{placeholder:"请选择系列细分",transfer:!0,clearable:""},model:{value:t.category4Selected,callback:function(e){t.category4Selected=e},expression:"category4Selected"}},t._l(t.category4,function(e,n){return a("Option",{key:n,attrs:{value:e.cid}},[t._v(t._s(e.cName))])}))],1)],1),t._v(" "),a("Row",[a("FormItem",{staticClass:"item",attrs:{label:"生效日期:"}},[a("DatePicker",{attrs:{type:"date",transfer:!0,editable:!1,value:t.query.effectiveDate,options:t.createStartTimeDisabled,placeholder:"开始时间"},on:{"on-change":t.handleEffectiveDateChange}}),t._v(" "),a("span",[t._v(" - ")]),t._v(" "),a("DatePicker",{attrs:{type:"date",transfer:!0,editable:!1,value:t.query.endDate,options:t.createEndTimeDisabled,placeholder:"截止时间"},on:{"on-change":t.handleEndDateChange}})],1)],1)],1)])])],1),t._v(" "),a("div",{staticClass:"options"},[a("Button",{staticClass:"btn",on:{click:t.groupDown}},[t._v("批量下架")]),t._v(" "),a("Button",{staticClass:"btn",on:{click:t.showAddGiftModal}},[t._v("添加赠品")])],1),t._v(" "),a("div",{staticClass:"result"},[a("Table",{attrs:{data:t.mainData,columns:t.mainColumns,loading:t.mainDataLoading},on:{"on-selection-change":t.handleMainDataSelectionChange}}),t._v(" "),a("div",{staticClass:"page"},[a("Page",{staticClass:"pager",attrs:{current:t.query.page,total:t.mainTotal,"show-elevator":"","show-total":""},on:{"update:current":function(e){t.$set(t.query,"page",e)},"on-change":t.getMainData}})],1)],1),t._v(" "),a("Modal",{attrs:{title:"添加赠品",width:"900"},model:{value:t.addGiftModalVisible,callback:function(e){t.addGiftModalVisible=e},expression:"addGiftModalVisible"}},[a("div",[a("div",{staticClass:"add-query"},[a("Row",[a("Col",{attrs:{span:"7"}},[a("span",{staticClass:"label"},[t._v("商品编码:")]),t._v(" "),a("Input",{staticClass:"wd-150",model:{value:t.addGiftQuery.itemId,callback:function(e){t.$set(t.addGiftQuery,"itemId",e)},expression:"addGiftQuery.itemId"}})],1),t._v(" "),a("Col",{attrs:{span:"7"}},[a("span",{staticClass:"label"},[t._v("商品名称:")]),t._v(" "),a("Input",{staticClass:"wd-150",model:{value:t.addGiftQuery.itemName,callback:function(e){t.$set(t.addGiftQuery,"itemName",e)},expression:"addGiftQuery.itemName"}})],1),t._v(" "),a("Col",{attrs:{span:"7"}},[a("span",{staticClass:"label"},[t._v("商品状态:")]),t._v(" "),a("Select",{staticClass:"wd-150",attrs:{disabled:""},model:{value:t.addGiftQuery.itemStatus,callback:function(e){t.$set(t.addGiftQuery,"itemStatus",e)},expression:"addGiftQuery.itemStatus"}},[a("Option",{attrs:{value:3}},[t._v("待上架")]),t._v(" "),a("Option",{attrs:{value:4}},[t._v("在售")]),t._v(" "),a("Option",{attrs:{value:5}},[t._v("已下架")]),t._v(" "),a("Option",{attrs:{value:14}},[t._v("在售(平台)")]),t._v(" "),a("Option",{attrs:{value:15}},[t._v("已下架(平台)")])],1)],1)],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"7"}},[a("span",{staticClass:"label"},[t._v("条形码:")]),t._v(" "),a("Input",{staticClass:"wd-150",model:{value:t.addGiftQuery.code69,callback:function(e){t.$set(t.addGiftQuery,"code69",e)},expression:"addGiftQuery.code69"}})],1),t._v(" "),a("Col",{attrs:{span:"7"}},[a("span",{staticClass:"label"},[t._v("销售编码:")]),t._v(" "),a("Input",{staticClass:"wd-150",model:{value:t.addGiftQuery.code79,callback:function(e){t.$set(t.addGiftQuery,"code79",e)},expression:"addGiftQuery.code79"}})],1),t._v(" "),a("Col",{attrs:{span:"7"}},[a("span",{staticClass:"label"},[t._v("物料编码:")]),t._v(" "),a("Input",{staticClass:"wd-150",model:{value:t.addGiftQuery.code80,callback:function(e){t.$set(t.addGiftQuery,"code80",e)},expression:"addGiftQuery.code80"}})],1),t._v(" "),a("Col",{attrs:{span:"3"}},[a("Button",{attrs:{type:"primary",long:""},on:{click:t.addGiftSearch}},[t._v("查询")])],1)],1)],1),t._v(" "),a("div",{staticClass:"add-result"},[a("Table",{attrs:{data:t.addGiftData,columns:t.addGiftColumns,loading:t.addGiftLoading},on:{"on-selection-change":t.addGiftSelectionChange}})],1),t._v(" "),a("div",{staticClass:"pager"},[a("Page",{staticClass:"page",attrs:{current:t.addGiftQuery.page,total:t.addGiftTotal},on:{"on-change":t.getAddGiftData}})],1)]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.newAddGift(!1)}}},[t._v("添加")]),t._v(" "),a("Button",{on:{click:function(e){t.newAddGift(!0)}}},[t._v("添加并关闭")])],1)]),t._v(" "),a("Modal",{attrs:{title:"商品详情",width:800},model:{value:t.detailVisible,callback:function(e){t.detailVisible=e},expression:"detailVisible"}},[a("div",{staticClass:"goods-detail"},[a("div",{staticClass:"pannel"},[a("div",{staticClass:"title"},[t._v("基本信息")]),t._v(" "),a("div",{staticClass:"content"},[a("Row",[a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"label"},[a("span",{staticClass:"require"},[t._v("*")]),t._v(" "),a("span",[t._v("销售分类:")])]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.detailInfo.category))])]),t._v(" "),a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"label"},[a("span",{staticClass:"require"},[t._v("*")]),t._v(" "),a("span",[t._v("商品名称:")])]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.detailInfo.itemName))])])],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"label"},[a("span",[t._v("商品简称:")])]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.detailInfo.spuShortName))])]),t._v(" "),a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"label"},[a("span",[t._v("商品状态:")])]),t._v(" "),a("span",{staticClass:"content"},[a("span",[t._v(t._s(t.itemStatusText(t.detailInfo.itemStatus)))])])])],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"label"},[a("span",[t._v("卖点描述:")])]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.detailInfo.spuDesc))])]),t._v(" "),a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"label"},[a("span",[t._v("广告词:")])]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.detailInfo.ad))])])],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"label"},[a("span",[t._v("商品编码:")])]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.detailInfo.itemId))])]),t._v(" "),a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"label"},[a("span",[t._v("条形码:")])]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.detailInfo.code69))])])],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"label"},[a("span",[t._v("销售编码:")])]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.detailInfo.spuCode))])])],1)],1)]),t._v(" "),a("div",{staticClass:"pannel"},[a("div",{staticClass:"title"},[t._v("商品属性")]),t._v(" "),a("div",{staticClass:"content"},[a("Row",[a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"label"},[a("span",{staticClass:"require"},[t._v("*")]),t._v(" "),a("span",[t._v("品牌:")])]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.detailInfo.brandName))])]),t._v(" "),a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"label"},[a("span",{staticClass:"require"},[t._v("*")]),t._v(" "),a("span",[t._v("基本单位:")])]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.detailInfo.baseUnit))])])],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"label"},[a("span",{staticClass:"require"},[t._v("*")]),t._v(" "),a("span",[t._v("转化单位:")])]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.detailInfo.changeUnit))])]),t._v(" "),a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"label"},[a("span",{staticClass:"require"},[t._v("*")]),t._v(" "),a("span",[t._v("转化系数:")])]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.detailInfo.changeUnitRate))])])],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"label"},[a("span",{staticClass:"require"},[t._v("*")]),t._v(" "),a("span",[t._v("外包装尺寸:")])]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.detailInfo.size))])]),t._v(" "),a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"label"},[a("span",{staticClass:"require"},[t._v("*")]),t._v(" "),a("span",[t._v("体积(m3):")])]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.detailInfo.volume))])])],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"label"},[a("span",{staticClass:"require"},[t._v("*")]),t._v(" "),a("span",[t._v("毛重:")])]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.detailInfo.grossWeight))])]),t._v(" "),a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"label"},[a("span",{staticClass:"require"},[t._v("*")]),t._v(" "),a("span",[t._v("净重:")])]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.detailInfo.suttleWeight))])])],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"label"},[a("span",{staticClass:"require"},[t._v("*")]),t._v(" "),a("span",[t._v("常规类型:")])]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.detailInfo.spuType))])]),t._v(" "),a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"label"},[a("span",{staticClass:"require"},[t._v("*")]),t._v(" "),a("span",[t._v("保质期:")])]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.detailInfo.expiryDate+t.detailInfo.expiryDateUnit||""))])])],1)],1)]),t._v(" "),a("div",{staticClass:"pannel"},[a("div",{staticClass:"title"},[t._v("价格")]),t._v(" "),a("div",{staticClass:"content"},[a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"label"},[a("span",{staticClass:"require"},[t._v("*")]),t._v(" "),a("span",[t._v("默认供货价格(元):")])]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.detailInfo.marketPrice))])]),t._v(" "),a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"label"},[a("span",{staticClass:"require"},[t._v("*")]),t._v(" "),a("span",[t._v("业务人员调价区间(元):")])]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.detailInfo.sellPrices))])])],1)]),t._v(" "),a("div",{staticClass:"pannel"},[a("div",{staticClass:"title"},[t._v("商品详情")]),t._v(" "),a("div",{staticClass:"content"},[a("Input",{attrs:{type:"textarea",readonly:""},model:{value:t.detailInfo.describeUrl,callback:function(e){t.$set(t.detailInfo,"describeUrl",e)},expression:"detailInfo.describeUrl"}})],1)]),t._v(" "),a("div",{staticClass:"pannel"},[a("div",{staticClass:"title"},[t._v("其他信息")]),t._v(" "),a("div",{staticClass:"content"},[a("Row",[a("div",{staticClass:"label"},[a("span",{staticClass:"require"},[t._v("*")]),t._v(" "),a("span",[t._v("关键字:")])]),t._v(" "),a("Col",{attrs:{span:"24"}},[a("Input",{attrs:{type:"textarea",readonly:""},model:{value:t.detailInfo.keywords,callback:function(e){t.$set(t.detailInfo,"keywords",e)},expression:"detailInfo.keywords"}})],1)],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"label"},[a("span",{staticClass:"require"},[t._v("*")]),t._v(" "),a("span",[t._v("包装清单:")])]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.detailInfo.packingList))])]),t._v(" "),a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"label"},[a("span",{staticClass:"require"},[t._v("*")]),t._v(" "),a("span",[t._v("售后服务:")])]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.detailInfo.afterService))])])],1)],1)])]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.detailVisible=!1}}},[t._v("关闭")])],1)])],1)},s=[];n._withStripped=!0;var i={render:n,staticRenderFns:s};e.default=i},878:function(t,e,a){"use strict";function n(t){o||(a(2658),a(2660))}Object.defineProperty(e,"__esModule",{value:!0});var s=a(1770),i=a.n(s);for(var r in s)"default"!==r&&function(t){a.d(e,t,function(){return s[t]})}(r);var l=a(2662),c=a.n(l),o=!1,d=a(13),u=n,p=d(i.a,c.a,!1,u,"data-v-c1049908",null);p.options.__file="src/views/trader-manage/product-manage/liby-gift/liby-gift.vue",e.default=p.exports}});