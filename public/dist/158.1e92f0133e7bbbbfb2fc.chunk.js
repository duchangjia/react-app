webpackJsonp([158],{1560:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(65),i=r(s),n=a(241),o=r(n),l=a(146),d=r(l),c=a(242),u=r(c),p=a(101),h=r(p),v=a(898),m=a(239),f={nickname:{val:"",err:!1,errText:""},loginname11:{val:"",err:!1,errText:""},loginpwd11:{val:"",err:!1,errText:""},loginpwd22:{val:"",err:!1,errText:""},userMobile:{val:"",err:!1,errText:""}};t.default={data:function(){var e=this;return{apiGroup:this.$util.apiConfig.permissionManage.authority,query:{name:"",pageNumber:1,row:10},total:0,loading:!1,tableData:[],tableColumn:[{title:"序号",align:"center",width:60,render:function(t,a){return t("span",10*(e.query.pageNumber-1)+a.index+1)}},{title:"用户名",align:"center",key:"name"},{title:"姓名",align:"center",key:"nickName"},{title:"手机",align:"center",key:"mobile"},{title:"邮箱",align:"center",key:"email"},{title:"创建时间",align:"center",key:"createTime",render:function(e,t){var a="",r=parseInt(t.row.createTime);return isNaN(r)||(a=(0,v.formatDate)(new Date(r),"yyyy-MM-DD hh:mm:ss")),e("span",a)}},{title:"部门名称",align:"center",key:"orgName"},{title:"角色名称",align:"center",key:"roleName"},{title:"操作",align:"center",width:180,render:function(t,a){return t("span",[t("Button",{props:{size:"small"},class:"btn-group-item",on:{click:function(t){return e.handleRowUpdateBtnClick(a.row)}}},"修改"),t("Button",{props:{size:"small"},on:{click:function(t){return e.handleRowDeleteBtnClick(a.row)}},class:"btn-group-item"},"删除"),t("Button",{props:{size:"small"},on:{click:function(t){return e.handleRoleBtnClick(a.row)}},class:"btn-group-item"},"分配角色"),t("Button",{props:{size:"small"},on:{click:function(t){return e.handleOrgnizationBtnClick(a.row)}},class:"btn-group-item"},"分配部门")])}}],addEditErrType:0,addEditErrVisible:!1,addEditModalVisible:!1,addParams:(0,h.default)({},f),addErrTextGroup:["输入8-16位字母、数字、-、_，必须字母开头","必须包含数字字母，长度不能小于6","两次密码不一致！！","手机号码格式错误","该手机号码已存在","账号已存在"],updateEditErrType:0,updateEditErrVisible:!1,updateEditModalVisible:!1,updateParams:{uid:{val:"",err:!1},nickname:{val:"",err:!1},userMobile:{val:"",err:!1}},updateErrTextGroup:["手机号码格式错误","该手机号码已存在"],rolesList:[],roleModalUserId:"",roleModalVisible:!1,rolesListColumns:[{type:"selection",width:60,align:"center"},{title:"角色名称",align:"center",key:"name"},{title:"描述",align:"center",key:"roleDes"}],orgnizationModalVsible:!1,orgnizationModalUserId:"",orgnization:[]}},created:function(){this.queryData()},methods:{queryData:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(o.default.mark(function e(){var t,a,r,s,i,n,l,c;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="",a=(0,d.default)({},this.query),a.name||delete a.name,delete a.row,this.tableData=[],this.loading=!0,e.prev=6,e.next=9,this.$ajax.post(this.apiGroup.userList,m.stringify(a));case 9:if(r=e.sent,s=r.data,i=s.msg,s.success){this.total=s.totalRecords,n={},l=[],s.userVos.forEach(function(e){var t=e.id;n[t]?n[t].orgName+="; "+e.orgName:n[t]=(0,d.default)({},e)});for(c in n)l.push(n[c]);l.sort(function(e,t){return e.id-t.id}),this.tableData=l}else t="列表获取失败",i&&null!==i&&(t=i);e.next=19;break;case 15:e.prev=15,e.t0=e.catch(6),console.error(e.t0),t="列表获取失败";case 19:this.loading=!1,t&&this.$Message.error(t);case 21:case"end":return e.stop()}},e,this,[[6,15]])}));return e}(),handleSearch:function(){this.query.pageNumber=1,this.queryData()},handleAddBtnClick:function(){this.addEditModalVisible=!0,this.addParams=JSON.parse((0,i.default)(f))},checkLoginname:function(){/^[a-zA-Z][a-zA-z0-9_-]{7,15}$/.test(this.addParams.loginname11.val)?(this.addEditErrVisible=!1,this.addParams.loginname11.err=!1):(this.addEditErrType=0,this.addEditErrVisible=!0,this.addParams.loginname11.err=!0,this.addParams.loginname11.errText=this.addErrTextGroup[this.addEditErrType])},checkLoginpwd11:function(){/^(?![a-z]+$)(?![0-9]+$)[a-zA-Z0-9]{6,}$/.test(this.addParams.loginpwd11.val)?(this.addEditErrVisible=!1,this.addParams.loginpwd11.err=!1):(this.addEditErrType=1,this.addEditErrVisible=!0,this.addParams.loginpwd11.err=!0,this.addParams.loginpwd11.errText=this.addErrTextGroup[this.addEditErrType])},checkLoginpwd22:function(){this.addParams.loginpwd11.val===this.addParams.loginpwd22.val?(this.addEditErrVisible=!1,this.addParams.loginpwd22.err=!1):(this.addEditErrType=2,this.addEditErrVisible=!0,this.addParams.loginpwd22.err=!0,this.addParams.loginpwd22.errText=this.addErrTextGroup[this.addEditErrType])},checkUserMobile:function(e,t){var a=/^1[34578]\d{9}$/;t&&t(a.test(e.target.value))},addUserMobileCheck:function(e){e?(this.addEditErrVisible=!1,this.addParams.userMobile.err=!1):(this.addEditErrType=3,this.addEditErrVisible=!0,this.addParams.userMobile.err=!0,this.addParams.userMobile.errText=this.addErrTextGroup[this.addEditErrType])},updateUserMobileCheck:function(e){e?(this.updateEditErrVisible=!1,this.updateParams.userMobile.err=!1):(this.updateEditErrType=0,this.updateEditErrVisible=!0,this.updateParams.userMobile.err=!0)},isUserMobleExist:function(){function e(e,a){return t.apply(this,arguments)}var t=(0,u.default)(o.default.mark(function e(t,a){var r,s,i,n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.userMobile.val.length){e.next=2;break}return e.abrupt("return");case 2:if(!t.userMobile.err){e.next=4;break}return e.abrupt("return");case 4:return r=m.stringify({emailOrMobile:t.userMobile.val}),s=!0,e.prev=6,e.next=9,this.$ajax.post(this.apiGroup.verifyEmailOrMobile,r);case 9:i=e.sent,n=i.data,n&&(s=!1),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(6);case 16:a&&a(s);case 17:case"end":return e.stop()}},e,this,[[6,14]])}));return e}(),addUserMobleExistCkeck:function(e){e?(this.addEditErrType=4,this.addEditErrVisible=!0,this.addParams.userMobile.err=!0,this.addParams.userMobile.errText=this.addErrTextGroup[this.addEditErrType]):this.$Message.success("该手机号可用")},updateUserMobleExistCkeck:function(e){var t=!0;this.updateParams.userMobile.val==this.updateParams.originUserMobile.val&&(e=!1,t=!1),e?(this.updateEditErrType=1,this.updateEditErrVisible=!0,this.updateParams.userMobile.err=!0):t&&this.$Message.success("该手机号可用")},isLoginnameExist:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(o.default.mark(function e(){var t,a,r,s;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.addParams.loginname11.val.length){e.next=2;break}return e.abrupt("return");case 2:if(!this.addParams.loginname11.err){e.next=4;break}return e.abrupt("return");case 4:return t=m.stringify({loginname:this.addParams.loginname11.val}),a=!0,e.prev=6,e.next=9,this.$ajax.post(this.apiGroup.verifyRegisterName,t);case 9:r=e.sent,s=r.data,s&&(a=!1),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(6);case 16:a?(this.addEditErrType=5,this.addEditErrVisible=!0,this.addParams.loginname11.err=!0,this.addParams.loginname11.errText=this.addErrTextGroup[this.addEditErrType]):this.$Message.success("该账号可用");case 17:case"end":return e.stop()}},e,this,[[6,14]])}));return e}(),checkNewUser:function(){var e=!1,t={};for(var a in this.addParams){if(this.addParams[a].val.replace(/ /g,"").length<=0){var r="";switch(a){case"nickname":r+="真实姓名";break;case"loginname11":r+="用户账号";break;case"loginpwd11":r+="用户密码";break;case"loginpwd22":r+="再次输入";break;case"userMobile":r+="手机号码";break;default:r+="必填字段"}return r+="不能为空",this.$Modal.error({content:r})}t[a]=this.addParams[a].val,this.addParams[a].err&&(e=!0)}if(console.log("this.addParams:",this.addParams),e)return this.$Modal.error({content:"信息输入不合法，请检查后输入！"});this.saveNewUser(t)},saveNewUser:function(){function e(e){return t.apply(this,arguments)}var t=(0,u.default)(o.default.mark(function e(t){var a,r,s,i,n=this,l=t.loginname11,d=t.loginpwd11,c=(t.nickName,t.userMobile);return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=m.stringify({loginname:l,loginpwd:d,nickName:this.addParams.nickname.val,userMobile:c}),r="",e.prev=2,e.next=5,this.$ajax.post(this.apiGroup.addUserByDealer,a);case 5:s=e.sent,i=s.data,i?this.$Modal.success({content:"注册成功",onOk:function(e){n.queryData(),n.closeAddModal()}}):r="注册失败",e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0),r="注册请求发送失败";case 14:r&&this.$Modal.error({content:r});case 15:case"end":return e.stop()}},e,this,[[2,10]])}));return e}(),closeAddModal:function(){this.addEditModalVisible=!1},handleRowUpdateBtnClick:function(e){var t=e.id,a=e.nickName,r=e.mobile,s="",i="";a&&null!==a&&(s=a),r&&null!==r&&(i=r),this.updateParams={uid:{val:t,err:!1},nickname:{val:s,err:!1},userMobile:{val:i,err:!1},originUserMobile:{val:i,err:!1}},this.updateParams.uid={val:t,err:!1},this.updateEditModalVisible=!0},checkUpdateUser:function(){var e={},t=!1;for(var a in this.updateParams){var r=this.updateParams[a];if(r.val.toString().replace(/ /g,"").length<=0){var s="";switch(a){case"nickname":s+="真实姓名",s+="手机号码";break;default:s+="必填字段"}return s+="不能为空",this.$Modal.error({content:s})}r.err&&(t=!0),"originUserMobile"!==a&&(e[a]=r.val)}t&&this.$Modal.error({content:"信息输入不合法，请检查后输入！"}),this.saveUpdateUser(e)},saveUpdateUser:function(){function e(e){return t.apply(this,arguments)}var t=(0,u.default)(o.default.mark(function e(t){var a,r,s,i=this;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.umobile=t.userMobile,delete t.userMobile,a="",e.prev=3,e.next=6,this.$ajax.post(this.apiGroup.modifyUserInfo,m.stringify(t));case 6:r=e.sent,s=r.data,s?this.$Modal.success({content:"修改成功",onOk:function(e){i.queryData(),i.closeUpdateModal()}}):a="修改失败",e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0),a="修改请求发送失败";case 15:a&&this.$Modal.error({content:a});case 16:case"end":return e.stop()}},e,this,[[3,11]])}));return e}(),closeUpdateModal:function(){this.updateEditModalVisible=!1},handleRowDeleteBtnClick:function(e){var t=this,a=e.id;this.$Modal.confirm({content:"确定要删除吗？删除后不可恢复",onOk:function(e){return t.deleteUser(a)}})},deleteUser:function(){function e(e){return t.apply(this,arguments)}var t=(0,u.default)(o.default.mark(function e(t){var a,r,s,i=this;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="",e.prev=1,e.next=4,this.$ajax.post(this.apiGroup.modifyUserInfo,m.stringify({uid:t,deleted:2}));case 4:r=e.sent,s=r.data,s?setTimeout(function(e){i.$Modal.success({content:"删除成功",onOk:function(e){i.queryData()}})},500):a="删除失败",e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),a="删除请求发送失败",console.error(e.t0);case 13:a&&setTimeout(function(e){return i.$Modal.error({content:a})},500);case 14:case"end":return e.stop()}},e,this,[[1,9]])}));return e}(),handleRoleBtnClick:function(e){var t=e.id;this.roleModalVisible=!0,this.roleModalUserId=t,this.getRoleModalData(t)},getRoleModalData:function(){function e(e){return t.apply(this,arguments)}var t=(0,u.default)(o.default.mark(function e(t){var a,r,s,i,n,l,d,c=this;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="",r=[],s=[],this.rolesList=[],this.selectedRoles=[],e.prev=5,e.next=8,this.$ajax.post(this.apiGroup.getRolesByOwnerId,m.stringify({startRow:-1}));case 8:i=e.sent,n=i.data,n.success?r=n.vos:a="角色列表获取失败",e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),console.error(e.t0),a="角色列表获取失败";case 17:return e.prev=17,e.next=20,this.$ajax.post(this.apiGroup.getAllUserRoles,m.stringify({userId:t}));case 20:l=e.sent,d=l.data,d.success?s=d.userRoleVos:a="用户角色列表获取失败",e.next=29;break;case 25:e.prev=25,e.t1=e.catch(17),console.error(e.t1),a="用户角色列表获取失败";case 29:if(!a){e.next=31;break}return e.abrupt("return",this.$Message.error(a));case 31:s.length>0&&r.forEach(function(e){for(var t=0;t<s.length;t++){if(s[t].roleId==e.id){c.selectedRoles.push(e),e._checked=!0;break}}}),this.rolesList=r;case 33:case"end":return e.stop()}},e,this,[[5,13],[17,25]])}));return e}(),handleRoleSave:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(o.default.mark(function e(){var t,a,r,s,i=this;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],this.selectedRoles.forEach(function(e){t.push(e.id)}),a="",t=t.join(","),e.prev=4,e.next=7,this.$ajax.post(this.apiGroup.roleAdd,m.stringify({userId:this.roleModalUserId,ids:t}));case 7:r=e.sent,s=r.data,s.success?this.$Modal.success({content:"分配成功",onOk:function(e){i.roleModalVisible=!1,i.queryData()}}):a="分配失败",e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),a="分配失败";case 15:a&&this.$Modal.error({content:a});case 16:case"end":return e.stop()}},e,this,[[4,12]])}));return e}(),handleOrgnizationBtnClick:function(e){var t=e.id;this.orgnizationModalVsible=!0,this.orgnizationModalUserId=t,this.getOrgnization(t)},getOrgnization:function(){function e(e){return t.apply(this,arguments)}var t=(0,u.default)(o.default.mark(function e(t){var a,r,s,i=this;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="",this.orgCheckedOrgin=[],this.orgnization=[],e.prev=3,e.next=6,this.$ajax.post(this.apiGroup.getOrgUser,m.stringify({userId:t}));case 6:r=e.sent,s=r.data,s?(this.orgnization=this.transOrg([s]),setTimeout(function(e){i.orgCheckedOrgin=i.$refs.orgnizationTree.getCheckedNodes().concat()})):a="组织获取失败",e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0),a="组织获取失败";case 15:a&&this.$Message.error(a);case 16:case"end":return e.stop()}},e,this,[[3,11]])}));return e}(),transOrg:function(e){var t=this;return e instanceof Array?e.map(function(e){return t.transOrg(e)}):(0,d.default)({},e,{title:e.name,children:this.transOrg(e.children)})},handleOrgnizationSave:function(){var e={},t={};this.orgCheckedOrgin.forEach(function(e){e.children.length<1&&(t[e.id.toString()]=!0)}),this.$refs.orgnizationTree.getCheckedNodes().forEach(function(t){t.children.length<1&&(e[t.id.toString()]=!0)});var a=[],r=[];for(var s in e)e[s]&&!t[s]&&a.push(s);for(var i in t)!e[i]&&t[i]&&r.push(i);a=a.join(","),r=r.join(","),this.saveOrgnization(m.stringify({userId:this.orgnizationModalUserId,upIds:a,downIds:r}))},saveOrgnization:function(){function e(e){return t.apply(this,arguments)}var t=(0,u.default)(o.default.mark(function e(t){var a,r,s,i,n=this;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="",e.prev=1,e.next=4,this.$ajax.post(this.apiGroup.updateOrgUser,t);case 4:r=e.sent,s=r.data,i=s.msg||"分配组织操作成功",this.$Modal.success({content:i,onOk:function(e){n.orgnizationModalVsible=!1,n.queryData()}}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),a="分配组织操作失败";case 14:a&&this.$Modal.error({content:a});case 15:case"end":return e.stop()}},e,this,[[1,10]])}));return e}()}}},1929:function(e,t,a){var r=a(1930);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(43)("e01381dc",r,!1,{})},1930:function(e,t,a){t=e.exports=a(42)(!1),t.push([e.i,"\nspan.label[data-v-7dd507ad] {\n  width: 90px;\n  display: inline-block;\n  text-align: right;\n}\nspan.input[data-v-7dd507ad] {\n  width: auto;\n  display: inline-block;\n}\n.custom-row[data-v-7dd507ad] {\n  margin-bottom: 10px;\n}\n",""])},1931:function(e,t,a){var r=a(1932);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(43)("4e6e0058",r,!1,{})},1932:function(e,t,a){t=e.exports=a(42)(!1),t.push([e.i,"\n.Table-rolesListColumns .ivu-table .ivu-table-body {\n  min-height: 48px;\n  max-height: 288px;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n.orgnization-div {\n  min-height: 20px;\n  max-height: 300px;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n#authority-manage .btn-group-item {\n  margin: 4px 2px;\n}\n.authority-manage-modal-pannel .label {\n  width: 120px;\n  margin-right: 10px;\n}\n.authority-manage-modal-pannel .input {\n  width: 240px;\n}\n.authority-manage-modal-pannel [require] {\n  color: #0099ff;\n}\n.authority-manage-modal-pannel .check-input.err input {\n  color: red;\n  border-color: red;\n}\n",""])},1933:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=this,t=this,a=t.$createElement,r=t._self._c||a;return r("Card",{attrs:{id:"authority-manage"}},[r("Row",{staticClass:"custom-row"},[r("span",{staticClass:"label"},[r("span",[t._v("用户名:")])]),t._v(" "),r("span",{staticClass:"input"},[r("Input",{attrs:{clearable:""},model:{value:t.query.name,callback:function(e){t.$set(t.query,"name",e)},expression:"query.name"}})],1),t._v(" "),r("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.handleSearch}},[t._v("查询")])],1),t._v(" "),r("Row",{staticClass:"custom-row"},[r("Button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:t.handleAddBtnClick}},[t._v("+ 增加")])],1),t._v(" "),r("Row",{staticClass:"custom-row"},[r("Table",{attrs:{columns:t.tableColumn,data:t.tableData,loading:t.loading}})],1),t._v(" "),r("Row",{staticClass:"custom-row"},[r("div",{staticStyle:{float:"right"}},[r("Page",{attrs:{current:t.query.pageNumber,pageSize:10,total:t.total},on:{"update:current":function(e){t.$set(t.query,"pageNumber",e)},"on-change":t.queryData}})],1)]),t._v(" "),r("Modal",{attrs:{title:"添加用户"},model:{value:t.addEditModalVisible,callback:function(e){t.addEditModalVisible=e},expression:"addEditModalVisible"}},[r("div",{staticClass:"authority-manage-modal-pannel"},[r("div",{staticClass:"custom-row"},[r("span",{staticClass:"label"},[r("span",{attrs:{require:""}},[t._v("*")]),t._v(" "),r("span",[t._v("真实姓名:")])]),t._v(" "),r("span",{staticClass:"input"},[r("Input",{staticClass:"check-input",class:{err:t.addParams.nickname.err},model:{value:t.addParams.nickname.val,callback:function(e){t.$set(t.addParams.nickname,"val",e)},expression:"addParams.nickname.val"}})],1)]),t._v(" "),r("div",{staticClass:"custom-row"},[r("span",{staticClass:"label"},[r("span",{attrs:{require:""}},[t._v("*")]),t._v(" "),r("span",[t._v("用户账号:")])]),t._v(" "),r("span",{staticClass:"input"},[r("Input",{staticClass:"check-input",class:{err:t.addParams.loginname11.err},on:{"on-change":t.checkLoginname,"on-blur":t.isLoginnameExist},model:{value:t.addParams.loginname11.val,callback:function(e){t.$set(t.addParams.loginname11,"val",e)},expression:"addParams.loginname11.val"}})],1),t._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:t.addParams.loginname11.err,expression:"addParams.loginname11.err"}],staticStyle:{color:"red"}},[t._v(t._s(t.addParams.loginname11.errText))])]),t._v(" "),r("div",{staticClass:"custom-row"},[r("span",{staticClass:"label"},[r("span",{attrs:{require:""}},[t._v("*")]),t._v(" "),r("span",[t._v("用户密码:")])]),t._v(" "),r("span",{staticClass:"input"},[r("Input",{staticClass:"check-input",class:{err:t.addParams.loginpwd11.err},attrs:{type:"password"},on:{"on-change":t.checkLoginpwd11},model:{value:t.addParams.loginpwd11.val,callback:function(e){t.$set(t.addParams.loginpwd11,"val",e)},expression:"addParams.loginpwd11.val"}})],1),t._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:t.addParams.loginpwd11.err,expression:"addParams.loginpwd11.err"}],staticStyle:{color:"red"}},[t._v(t._s(t.addParams.loginpwd11.errText))])]),t._v(" "),r("div",{staticClass:"custom-row"},[r("span",{staticClass:"label"},[r("span",{attrs:{require:""}},[t._v("*")]),t._v(" "),r("span",[t._v("再次输入:")])]),t._v(" "),r("span",{staticClass:"input"},[r("Input",{staticClass:"check-input",class:{err:t.addParams.loginpwd22.err},attrs:{type:"password"},on:{"on-change":t.checkLoginpwd22},model:{value:t.addParams.loginpwd22.val,callback:function(e){t.$set(t.addParams.loginpwd22,"val",e)},expression:"addParams.loginpwd22.val"}})],1),t._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:t.addParams.loginpwd22.err,expression:"addParams.loginpwd22.err"}],staticStyle:{color:"red"}},[t._v(t._s(t.addParams.loginpwd22.errText))])]),t._v(" "),r("div",{staticClass:"custom-row"},[r("span",{staticClass:"label"},[r("span",{attrs:{require:""}},[t._v("*")]),t._v(" "),r("span",[t._v("手机号码:")])]),t._v(" "),r("span",{staticClass:"input"},[r("Input",{staticClass:"check-input",class:{err:t.addParams.userMobile.err},on:{"on-change":function(e){return t.checkUserMobile(e,t.addUserMobileCheck)},"on-blur":function(e){t.isUserMobleExist(t.addParams,t.addUserMobleExistCkeck)}},model:{value:t.addParams.userMobile.val,callback:function(e){t.$set(t.addParams.userMobile,"val",e)},expression:"addParams.userMobile.val"}})],1),t._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:t.addParams.userMobile.err,expression:"addParams.userMobile.err"}],staticStyle:{color:"red"}},[t._v(t._s(t.addParams.userMobile.errText))])])]),t._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{attrs:{type:"primary"},on:{click:t.checkNewUser}},[t._v("保存")]),t._v(" "),r("Button",{on:{click:t.closeAddModal}},[t._v("取消")])],1)]),t._v(" "),r("Modal",{attrs:{title:"修改用户"},model:{value:t.updateEditModalVisible,callback:function(e){t.updateEditModalVisible=e},expression:"updateEditModalVisible"}},[r("div",{staticClass:"authority-manage-modal-pannel"},[r("div",{staticClass:"custom-row"},[r("span",{staticClass:"label"},[r("span",{attrs:{require:""}},[t._v("*")]),t._v(" "),r("span",[t._v("真实姓名:")])]),t._v(" "),r("span",{staticClass:"input"},[r("Input",{staticClass:"check-input",class:{err:t.updateParams.nickname.err},model:{value:t.updateParams.nickname.val,callback:function(e){t.$set(t.updateParams.nickname,"val",e)},expression:"updateParams.nickname.val"}})],1)]),t._v(" "),r("div",{staticClass:"custom-row"},[r("span",{staticClass:"label"},[r("span",{attrs:{require:""}},[t._v("*")]),t._v(" "),r("span",[t._v("手机号码:")])]),t._v(" "),r("span",{staticClass:"input"},[r("Input",{staticClass:"check-input",class:{err:t.updateParams.userMobile.err},on:{"on-change":function(e){return t.checkUserMobile(e,t.updateUserMobileCheck)},"on-blur":function(e){t.isUserMobleExist(t.updateParams,t.updateUserMobleExistCkeck)}},model:{value:t.updateParams.userMobile.val,callback:function(e){t.$set(t.updateParams.userMobile,"val",e)},expression:"updateParams.userMobile.val"}})],1)]),t._v(" "),r("div",{staticClass:"custom-row",staticStyle:{"text-align":"center",color:"red"}},[r("span",{directives:[{name:"show",rawName:"v-show",value:t.updateEditErrVisible,expression:"updateEditErrVisible"}]},t._l(t.updateErrTextGroup,function(e,a){return r("span",{directives:[{name:"show",rawName:"v-show",value:t.updateEditErrType==a,expression:"updateEditErrType == idx"}],key:a},[t._v(t._s(e))])}))])]),t._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{attrs:{type:"primary"},on:{click:t.checkUpdateUser}},[t._v("保存")]),t._v(" "),r("Button",{on:{click:t.closeUpdateModal}},[t._v("取消")])],1)]),t._v(" "),r("Modal",{attrs:{title:"分配角色"},model:{value:t.roleModalVisible,callback:function(e){t.roleModalVisible=e},expression:"roleModalVisible"}},[r("div",[r("Table",{staticClass:"Table-rolesListColumns",attrs:{data:t.rolesList,columns:t.rolesListColumns},on:{"on-selection-change":function(t){e.selectedRoles=t}}})],1),t._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{attrs:{type:"primary"},on:{click:t.handleRoleSave}},[t._v("保存")]),t._v(" "),r("Button",{on:{click:function(e){t.roleModalVisible=!1}}},[t._v("取消")])],1)]),t._v(" "),r("Modal",{attrs:{title:"分配部门"},model:{value:t.orgnizationModalVsible,callback:function(e){t.orgnizationModalVsible=e},expression:"orgnizationModalVsible"}},[r("div",{staticClass:"orgnization-div"},[r("Tree",{ref:"orgnizationTree",attrs:{data:t.orgnization,"show-checkbox":""}})],1),t._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{attrs:{type:"primary"},on:{click:t.handleOrgnizationSave}},[t._v("保存")]),t._v(" "),r("Button",{on:{click:function(e){t.orgnizationModalVsible=!1}}},[t._v("取消")])],1)])],1)},s=[];r._withStripped=!0;var i={render:r,staticRenderFns:s};t.default=i},678:function(e,t,a){"use strict";function r(e){d||(a(1929),a(1931))}Object.defineProperty(t,"__esModule",{value:!0});var s=a(1560),i=a.n(s);for(var n in s)"default"!==n&&function(e){a.d(t,e,function(){return s[e]})}(n);var o=a(1933),l=a.n(o),d=!1,c=a(13),u=r,p=c(i.a,l.a,!1,u,"data-v-7dd507ad",null);p.options.__file="src/views/permission-manage/authority.vue",t.default=p.exports},898:function(e,t,a){"use strict";function r(e,t){if(!t)var t="yyyy-MM-DD hh:mm:ss";var a={"M+":e.getMonth()+1,"D+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var r in a)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?a[r]:("00"+a[r]).substr((""+a[r]).length)));return t}function s(e,t){if(!t)var t="yyyy-MM-dd";(e=Number(e))<1e10&&(e*=1e3);var a=new Date(e),r={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length)));for(var s in r)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?r[s]:("00"+r[s]).substr((""+r[s]).length)));return t}Object.defineProperty(t,"__esModule",{value:!0}),t.formatDate=r,t.timestampToDay=s}});