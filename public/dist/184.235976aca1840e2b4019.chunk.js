webpackJsonp([184],{1687:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(898),i=a(239),s=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default={data:function(){var e=this;return{apiGroup:this.$util.apiConfig.purchaseDelivery.sendManage.signExpressBillList,query:{receiptOrderNo:"",despatchOrderNo:"",salesOrderNo:"",status:"",submitStartTime:"",submitEndTime:""},columns1:[{title:"序号",type:"index",minWidth:60,fixed:"left"},{title:"签收单编号",key:"receiptOrderNo",minWidth:200},{title:"销售订单编号",key:"salesOrderNo",minWidth:200},{title:"状态",key:"status",minWidth:100},{title:"整箱数",key:"carNum",minWidth:100},{title:"散件数",key:"eaNum",minWidth:100}],entity:[{receiptOrderNo:"QSD2018070600000808",despatchOrderNo:"QSD2018070600000808",salesOrderNo:"QSD2018070600000808",status:"0",carNum:444,eaNum:333},{receiptOrderNo:"QSD2018070600000808",despatchOrderNo:"QSD2018070600000808",salesOrderNo:"QSD2018070600000808",status:"0",carNum:444,eaNum:333},{receiptOrderNo:"QSD2018070600000808",despatchOrderNo:"QSD2018070600000808",salesOrderNo:"QSD2018070600000808",status:"0",carNum:444,eaNum:333}],billDetial:{carPlateNo:"粤A520",carLoad:6.9,carCapacity:78,driverName:"老司机",driverContact:"1368876667888"},columns2:[{title:"序号",type:"index",width:60},{title:"销售编码",key:"materialCode79",width:120},{title:"商品描述",key:"name",width:150},{title:"计发货整件",key:"planCarNum"},{title:"计发货散个",key:"planEaNum"},{title:"发货整件",key:"deliveryCarNum"},{title:"发货散个",key:"deliveryEaNum"},{title:"签收整件",key:"receiptCarNum"},{title:"签收散个",key:"receiptEaNum"},{title:"单价",key:"price"},{title:"吨位",key:"tonnage"},{title:"体积",key:"totalVolume"},{title:"总金额",key:"totalPrice"}],dispatchOrderProductList:[{materialCode69:"uuuuuuuuuuuuu",name:"ttttttttr",planCarNum:"ooooooooo",planEaNum:"fffffffffff",deliveryCarNum:"ppppppppppp",deliveryEaNum:"yyyyyyyyyyy",receiptCarNum:"lllllllllll",receiptEaNum:"qqqqqqqqqqq",price:"eeeeeeeeeee",tonnage:"gggggggg",totalVolume:"wwwwwwwww",totalPrice:"6666668.55"}],dataDto:{receiptTime:"2015-06-06",receiptUser:"悟空",receiptRemark:"yyyyyyyyyyyy"},showOrderDetail:!1,pager:{},loading:!1,submitDateOptions:{disabledDate:function(t){return t&&t.valueOf()<new Date(e.query.submitStartTime)}}}},created:function(){console.log("purchase-send-list created"),this.jumpPageHandle(1)},methods:{closeOrderDetail:function(){this.showOrderDetail=!1},submitSTimeChangeHandle:function(e){this.query.submitStartTime=e,this.query.submitStartTime>this.query.submitEndTime&&(this.query.submitEndTime="")},submitETimeChangeHandle:function(e){this.query.submitEndTime=e},openOrder:function(e){var t=this;console.log(e),this.loading=!0,this.$util.ajax.post(this.apiGroup.getDetailUrl,s.default.stringify({receiptOrderNo:e.receiptOrderNo})).then(function(a){console.log("签收单详情返回数据：",a),t.loading=!1,200==a.data.errCode?(t.dispatchOrderProductList=[],a.data.data.forEach(function(e){var a={};a.materialCode79=e.materialCode79,a.name=e.materialName79?e.materialName79:"-",a.planCarNum=e.submitByEa?0==e.transformRule?0:parseInt(e.submitByEa/e.transformRule):"0",a.planEaNum=e.submitByEa?0==e.transformRule?e.submitByEa:(e.submitByEa%e.transformRule).toFixed(0):"0",a.deliveryCarNum=e.deliveryByEa?0==e.transformRule?0:parseInt(e.deliveryByEa/e.transformRule):"0",a.deliveryEaNum=e.deliveryByEa?0==e.transformRule?e.deliveryByEa:(e.deliveryByEa%e.transformRule).toFixed(0):"0",a.receiptCarNum=e.receiptByEa?0==e.transformRule?0:parseInt(e.receiptByEa/e.transformRule):"0",a.receiptEaNum=e.receiptByEa?0==e.transformRule?e.receiptByEa:(e.receiptByEa%e.transformRule).toFixed(0):"0",a.price=e.eaBasePrice?e.eaBasePrice.toFixed(2):"0",a.tonnage=e.totalWeight?e.totalWeight:"0",a.totalVolume=e.eaVolume?e.eaVolume:"0",a.totalPrice=e.receiptByEa?(e.receiptByEa*e.eaBasePrice).toFixed(2):"0",t.dispatchOrderProductList.push(a)}),t.dataDto.receiptTime=(0,r.timestampToDay)(e.receiptTime),t.dataDto.receiptUser=e.receiptUser,t.dataDto.receiptRemark=e.note,t.showOrderDetail=!0):t.$Modal.error({title:"HTTP请求错误",content:a.data.data.errMsg})}).catch(function(e){console.log(e),t.$Modal.error({title:"HTTP请求错误",content:"HTTP请求错误"})})},jumpPageHandle:function(e){var t=this;this.pager.page=e;var a={currentPage:this.pager.page,receiptOrderNo:this.query.receiptOrderNo,despatchOrderNo:this.query.despatchOrderNo,status:this.query.status,salesOrderNo:this.query.salesOrderNo,submitStartTime:this.query.submitStartTime,submitEndTime:this.query.submitEndTime};console.log("查询参数：",a),this.loading=!0,this.$util.ajax.post(this.apiGroup.listUrl,s.default.stringify(a)).then(function(e){if(console.log("签收单列表返回数据：",e),t.loading=!1,200==e.status){t.pager=e.data.result.pager,t.entity=e.data.result.dataList;for(var a=0;a<t.entity.length;a++)t.entity[a].createTime=(0,r.timestampToDay)(t.entity[a].createTime,"yyyy-MM-dd hh:mm:ss"),"1"==t.entity[a].status?t.entity[a].status="已签收":t.entity[a].status="待签收"}else t.$Modal.error({title:"HTTP请求错误",content:e.statusText})}).catch(function(e){console.log(e),t.$Modal.error({title:"HTTP请求错误",content:"HTTP请求错误"})})},lookup:function(){console.log("lookup"),this.jumpPageHandle(1)}}}},2334:function(e,t,a){var r=a(2335);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(43)("69f57874",r,!1,{})},2335:function(e,t,a){t=e.exports=a(42)(!1),t.push([e.i,"\n.cmain[data-v-6d759ce5] {\n  background-color: white;\n  position: relative;\n  /* min-width: 1020px; */\n}\n.checkForm .ivu-col[data-v-6d759ce5] {\n  margin: 10px 0px;\n}\n.lebals[data-v-6d759ce5] {\n  display: inline-block;\n  width: 90px;\n}\n.qianshouCol .ivu-col[data-v-6d759ce5] {\n  margin: 5px 0px;\n}\n.line[data-v-6d759ce5] {\n  border-bottom: 1px solid #dddee1;\n}\n",""])},2336:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cmain"},[a("div",{staticStyle:{padding:"20px 50px"}},[a("Row",{staticClass:"checkForm"},[a("Col",{attrs:{sm:12,md:12,lg:8}},[a("span",{staticClass:"lebals"},[e._v("签收单编号：")]),e._v(" "),a("Input",{staticStyle:{width:"160px"},attrs:{type:"text"},model:{value:e.query.receiptOrderNo,callback:function(t){e.$set(e.query,"receiptOrderNo","string"==typeof t?t.trim():t)},expression:"query.receiptOrderNo"}})],1),e._v(" "),a("Col",{attrs:{sm:12,md:12,lg:8}},[a("span",{staticClass:"lebals"},[e._v("发货单号：")]),e._v(" "),a("Input",{staticStyle:{width:"160px"},attrs:{type:"text"},model:{value:e.query.despatchOrderNo,callback:function(t){e.$set(e.query,"despatchOrderNo","string"==typeof t?t.trim():t)},expression:"query.despatchOrderNo"}})],1),e._v(" "),a("Col",{attrs:{sm:12,md:12,lg:8}},[a("span",{staticClass:"lebals"},[e._v("销售订单编号：")]),e._v(" "),a("Input",{staticStyle:{width:"160px"},attrs:{type:"text"},model:{value:e.query.salesOrderNo,callback:function(t){e.$set(e.query,"salesOrderNo","string"==typeof t?t.trim():t)},expression:"query.salesOrderNo"}})],1),e._v(" "),a("Col",{attrs:{sm:8,md:12,lg:8}},[a("span",{staticClass:"lebals"},[e._v("签收状态：")]),e._v(" "),a("i-select",{staticStyle:{width:"160px"},model:{value:e.query.status,callback:function(t){e.$set(e.query,"status",t)},expression:"query.status"}},[a("i-option",{attrs:{value:""}},[e._v("请选择")]),e._v(" "),a("i-option",{attrs:{value:"0"}},[e._v("待签收")]),e._v(" "),a("i-option",{attrs:{value:"1"}},[e._v("已签收")])],1)],1),e._v(" "),a("Col",{attrs:{sm:24,md:16,lg:10}},[a("span",{staticClass:"lebals"},[e._v("创建时间:")]),e._v(" "),a("date-picker",{staticStyle:{width:"143px"},attrs:{value:e.query.submitStartTime,format:"yyyy-MM-dd",type:"date",placeholder:"请选择时间"},on:{"on-change":e.submitSTimeChangeHandle}}),e._v(" "),a("i",{staticClass:"demo-icons"},[e._v("-")]),e._v(" "),a("date-picker",{staticStyle:{width:"143px"},attrs:{value:e.query.submitEndTime,options:e.submitDateOptions,format:"yyyy-MM-dd",type:"date",placeholder:"请选择时间"},on:{"on-change":e.submitETimeChangeHandle}})],1),e._v(" "),a("Col",{staticStyle:{float:"right"},attrs:{sm:8,md:8,lg:6}},[a("i-button",{staticStyle:{width:"115px",margin:"0 20px",float:"right"},attrs:{type:"primary"},on:{click:e.lookup}},[e._v("查询")])],1)],1),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"line"}),e._v(" "),a("br"),e._v(" "),a("Table",{attrs:{stripe:"",columns:e.columns1,data:e.entity},on:{"on-row-click":e.openOrder}}),e._v(" "),a("Row",{staticStyle:{margin:"10px"},attrs:{type:"flex",justify:"end"}},[a("page",{attrs:{current:e.pager.page,total:e.pager.totalCount,"page-size":e.pager.rows,"show-elevator":"","show-total":""},on:{"on-change":e.jumpPageHandle}})],1)],1),e._v(" "),a("modal",{attrs:{width:"1200",title:"签收单详情"},model:{value:e.showOrderDetail,callback:function(t){e.showOrderDetail=t},expression:"showOrderDetail"}},[a("div",[a("div",{staticStyle:{"overflow-y":"auto"}},[a("Table",{attrs:{stripe:"",columns:e.columns2,data:e.dispatchOrderProductList}})],1),e._v(" "),a("br"),e._v(" "),a("Row",[a("Col",{attrs:{sm:12,md:8,lg:6}},[a("span",[e._v("签收时间:")]),e._v(" "),a("Input",{staticStyle:{width:"143px","margin-left":"15px"},attrs:{readonly:!0,disabled:!0,type:"text"},model:{value:e.dataDto.receiptTime,callback:function(t){e.$set(e.dataDto,"receiptTime",t)},expression:"dataDto.receiptTime"}})],1),e._v(" "),a("Col",{attrs:{sm:12,md:8,lg:6}},[a("span",[e._v("签收人:")]),e._v(" "),a("Input",{staticStyle:{width:"143px","margin-left":"15px"},attrs:{readonly:!0,disabled:!0,type:"text"},model:{value:e.dataDto.receiptUser,callback:function(t){e.$set(e.dataDto,"receiptUser",t)},expression:"dataDto.receiptUser"}})],1),e._v(" "),a("Col",{attrs:{sm:12,md:8,lg:6}},[a("span",[e._v("签收备注:")]),e._v(" "),a("Input",{staticStyle:{width:"143px","margin-left":"15px"},attrs:{readonly:!0,disabled:!0,type:"text"},model:{value:e.dataDto.receiptRemark,callback:function(t){e.$set(e.dataDto,"receiptRemark",t)},expression:"dataDto.receiptRemark"}})],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("i-button",{staticStyle:{width:"92px"},attrs:{type:"primary"},on:{click:e.closeOrderDetail}},[e._v("确认")]),e._v(" "),a("i-button",{staticStyle:{width:"92px"},on:{click:e.closeOrderDetail}},[e._v("取消")])],1)]),e._v(" "),e.loading?a("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)},i=[];r._withStripped=!0;var s={render:r,staticRenderFns:i};t.default=s},804:function(e,t,a){"use strict";function r(e){d||a(2334)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(1687),s=a.n(i);for(var l in i)"default"!==l&&function(e){a.d(t,e,function(){return i[e]})}(l);var o=a(2336),n=a.n(o),d=!1,u=a(13),c=r,p=u(s.a,n.a,!1,c,"data-v-6d759ce5",null);p.options.__file="src/views/purchase-send/send-manage/sign-express-bill-list/sign-express-bill-list.vue",t.default=p.exports},898:function(e,t,a){"use strict";function r(e,t){if(!t)var t="yyyy-MM-DD hh:mm:ss";var a={"M+":e.getMonth()+1,"D+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var r in a)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?a[r]:("00"+a[r]).substr((""+a[r]).length)));return t}function i(e,t){if(!t)var t="yyyy-MM-dd";(e=Number(e))<1e10&&(e*=1e3);var a=new Date(e),r={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in r)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?r[i]:("00"+r[i]).substr((""+r[i]).length)));return t}Object.defineProperty(t,"__esModule",{value:!0}),t.formatDate=r,t.timestampToDay=i}});