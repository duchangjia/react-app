webpackJsonp([190],{1677:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(i(898),i(239));!function(e){e&&e.__esModule}(n);t.default={data:function(){return{apiGroup:this.$util.apiConfig.purchaseDelivery.baseData.inventoryInit,file:null,filePath:"",loadingStatus:!1,showTable:!1,uploading:!1,uploadResMsg:"",columns1:[{title:"序号",type:"index",minWidth:60,fixed:"left"},{title:"仓库编码",key:"warehouseCode",minWidth:100},{title:"仓库名称",key:"warehouseName",minWidth:180},{title:"销售编码",key:"code79",minWidth:120},{title:"销售编码物料描述",key:"description79",minWidth:150},{title:"总库存",key:"totalNum",minWidth:100},{title:"错误详情",key:"errorMsg",minWidth:150}],entity:[]}},created:function(){},methods:{selectFile:function(){this.$refs.inputFile.click()},inputFileChange:function(e){console.log(e),this.file=e.target.files[0],this.filePath=e.target.value},submitFile:function(){var e=this,t=this;if(""==this.filePath)return void this.$Modal.error({title:"上传文件为空",content:"请选择上传文件"});var i=new FormData;i.append("beginnInventoryFile",this.file),console.log("上传文件发送参数：",i),t.showTable=!1,t.uploading=!0,t.$util.ajax.post(t.apiGroup.uploadExcelUrl,i).then(function(t){if(console.log(t),e.uploading=!1,e.uploadResMsg=t.data.errMsg,200==t.data.errCode){e.showTable=!0;var i=t.data.data;e.entity=[],i.forEach(function(t){var i={};i.warehouseCode=t[0],i.warehouseName=t[1],i.code79=t[2],i.description79=t[3],i.totalNum=t[4],i.errorMsg=t[5],e.entity.push(i)})}else e.$Modal.error({title:"文件上传失败",content:t.data.errMsg})}).catch(function(t){console.log(t),e.uploading=!1,e.$Modal.error({title:"HTTP请求错误",content:"HTTP请求错误"})})},downloadFile:function(){var e=this;window.location.href=e.$util.baseUrl+this.apiGroup.downloadDomeUrl}}}},2300:function(e,t,i){var n=i(2301);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i(43)("16367360",n,!1,{})},2301:function(e,t,i){t=e.exports=i(42)(!1),t.push([e.i,"\n.cmain[data-v-fa03397e] {\n  background-color: white;\n  position: relative;\n  /* min-width: 1020px; */\n}\n.line[data-v-fa03397e] {\n  border-bottom: 1px solid #dddee1;\n}\n",""])},2302:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"cmain"},[i("div",{staticStyle:{padding:"20px 50px"}},[i("div",[i("input",{ref:"inputFile",staticStyle:{display:"none"},attrs:{name:"beginnInventoryFile",type:"file"},on:{change:e.inputFileChange}}),e._v(" "),i("i-button",{staticStyle:{width:"115px"},attrs:{loading:e.uploading,icon:"plus",type:"info"},on:{click:e.selectFile}},[e._v("选择文件")]),e._v(" "),""!=e.filePath?i("span",{staticStyle:{"margin-left":"30px"}},[e._v("文件路径："+e._s(e.filePath))]):e._e()],1),e._v(" "),i("br"),e._v(" "),i("Row",[i("i-button",{staticStyle:{width:"115px"},attrs:{loading:e.uploading,icon:"upload",type:"primary"},on:{click:e.submitFile}},[e._v("导入")]),e._v(" "),i("i-button",{staticStyle:{width:"115px","margin-left":"30px"},attrs:{icon:"android-download",type:"success"},on:{click:e.downloadFile}},[e._v("下载模版")])],1),e._v(" "),i("br"),e._v(" "),""!=e.uploadResMsg?i("Alert",{attrs:{type:"warning","show-icon":""}},[e._v(e._s(e.uploadResMsg))]):e._e(),e._v(" "),i("br"),e._v(" "),i("div",{staticClass:"line"}),e._v(" "),i("br"),e._v(" "),i("Alert",{attrs:{"show-icon":""}},[e._v("期初库存就是在一个库存会计时期开始时，可供使用或出售的存货（如：货品、物资或原料）的账面价值。")]),e._v(" "),i("br"),e._v(" "),e.showTable?i("Table",{ref:"selection",attrs:{height:"430",size:"small",stripe:"",columns:e.columns1,data:e.entity}}):e._e()],1)])},a=[];n._withStripped=!0;var o={render:n,staticRenderFns:a};t.default=o},794:function(e,t,i){"use strict";function n(e){u||i(2300)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1677),o=i.n(a);for(var l in a)"default"!==l&&function(e){i.d(t,e,function(){return a[e]})}(l);var r=i(2302),s=i.n(r),u=!1,d=i(13),c=n,p=d(o.a,s.a,!1,c,"data-v-fa03397e",null);p.options.__file="src/views/purchase-send/base-data/inventory-init/inventory-init.vue",t.default=p.exports},898:function(e,t,i){"use strict";function n(e,t){if(!t)var t="yyyy-MM-DD hh:mm:ss";var i={"M+":e.getMonth()+1,"D+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in i)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?i[n]:("00"+i[n]).substr((""+i[n]).length)));return t}function a(e,t){if(!t)var t="yyyy-MM-dd";(e=Number(e))<1e10&&(e*=1e3);var i=new Date(e),n={"M+":i.getMonth()+1,"d+":i.getDate(),"h+":i.getHours(),"m+":i.getMinutes(),"s+":i.getSeconds(),"q+":Math.floor((i.getMonth()+3)/3),S:i.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(i.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in n)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[a]:("00"+n[a]).substr((""+n[a]).length)));return t}Object.defineProperty(t,"__esModule",{value:!0}),t.formatDate=n,t.timestampToDay=a}});