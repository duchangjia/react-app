webpackJsonp([203],{1777:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(241),i=r(a),o=n(242),s=r(o),u=n(146),l=r(u),d=n(252),c=r(d),p=n(239),m=r(p);e.default={name:"returnOrderList",data:function(){var t=this,e=this;return{watchRouterQuery:!0,queryModel:1,query:{storeName:"",returnNo:"",operatePerson:"",remark:"",goodsName:"",code69:"",code79:""},query1:{keyWord:""},query2:{beginTime:"",endTime:"",page:1},lessThanEndDate:{disabledDate:function(t){return t&&e.query2.endTime&&t.valueOf()>e.query2.endTime}},moreThanStartDate:{disabledDate:function(t){return t&&t.valueOf()<e.query2.beginTime}},totalCount:0,returnStatusList:[{name:"待入库",value:3},{name:"待确认",value:5},{name:"待核销",value:6},{name:"已完成",value:4},{name:"全部",value:""},{name:"明细",value:"goodsDetail"}],activeReturnStatus:"",loading:!1,columnsList:[{title:"序号",width:62,align:"center",fixed:"left",render:function(t,e){return e.row.rowTitle?t("span",e.row.rowTitle):t("span",e.index+1)}},{title:"退货单号",align:"center",key:"returnNo",fixed:"left",width:180,render:function(e,n){return e("a",{props:{size:"small"},style:{margin:"5px"},on:{click:function(e){return t.openDetail(n.row.id)}}},n.row.returnNo)}},{title:"退货来源",key:"sourceChannel",width:150},{title:"创建时间",key:"createTime",align:"center",width:100},{title:"CAR数量",key:"totalCRTItemNum",align:"center",width:100},{title:"EA数量",key:"totalEAItemNum",align:"center",width:100},{title:"退货单金额",key:"returnAmount",align:"center",width:100,render:function(t,e){return t("span",Number(e.row.returnAmount).toFixed(2))}},{title:"门店名称",key:"storeName",width:200},{title:"业务员",key:"operatePerson",width:100},{title:"状态",key:"returnStatusText",width:120},{title:"操作",key:"action",width:130,align:"center",fixed:"right",render:function(n,r){var a=[];return r.row.rowTitle?n("span",""):(a.push(n("Button",{props:{size:"small"},style:{margin:"4px 2px"},on:{click:function(){t.openDetail(r.row.id)}}},"查看")),a.push(n("Button",{props:{size:"small"},style:{margin:"4px 2px"},on:{click:function(){e.print(r.row.id)}}},"打印")),3==r.row.returnStatus&&a.push(n("Button",{props:{size:"small"},style:{margin:"4px 2px"},on:{click:function(){e.$router.push({name:"return-manual",query:{id:r.row.id}})}}},"修改")),3==r.row.returnStatus&&a.push(n("Button",{props:{size:"small"},style:{margin:"4px 2px"},on:{click:function(){e.toOnshelf(r.row)}}},"入库")),5==r.row.returnStatus&&a.push(n("Button",{props:{size:"small"},style:{margin:"4px 2px"},on:{click:function(){e.$router.push({name:"return-confirm",query:{id:r.row.id}})}}},"确认")),n("div",a))}}],thisTableData:[],totalAmount:"",inbundVisible:!1,inbundId:"",inboundLoading:!1,inboundGoods:[],inbundGoodsColumns:[{title:"序号",width:75,align:"center",render:function(t,e){return t("span",e.index+1)}},{title:"商品名称",align:"center",width:350,key:"name"},{title:"商品行号",align:"center",key:"purchaseEntryNo"},{title:"退货整件数(CAR)",align:"center",key:"carNum"},{title:"退货散个数(EA)",align:"center",key:"eaNum"},{title:"入库整件数(CAR)",align:"center",key:"inboundCarNum",render:function(t,n){return t("Input",{props:{value:n.row.inboundCarNum},on:{"on-blur":function(t){return e.checkInboundNum(n,t)}}})}},{title:"入库散个数(EA)",align:"center",key:"inboundEaNum",render:function(t,n){return t("Input",{props:{value:n.row.inboundEaNum},on:{"on-blur":function(t){return e.checkInboundNum(n,t)}}})}}],goodsDetail:[],goodsDetailColumns:[{title:"序号",align:"center",width:60,fixed:"left",type:"index"},{title:"退货单号",align:"center",key:"returnNo",fixed:"left",width:180,render:function(e,n){return e("a",{props:{size:"small"},style:{margin:"5px"},on:{click:function(e){return t.openDetail(n.row.id)}}},n.row.returnNo)}},{title:"创建时间",key:"createTime",align:"center",width:100},{title:"条形码",align:"center",key:"code69",width:150},{title:"商品名称",align:"center",width:400,key:"itemName"},{title:"CAR数量",align:"center",width:100,key:"totalCRTItemNum"},{title:"EA数量",align:"center",width:100,key:"totalEAItemNum"},{title:"退款金额",align:"center",key:"returnAmount",width:150},{title:"操作",align:"center",fixed:"right",width:100,render:function(t,n){return t("Button",{on:{click:function(t){return e.openDetail(n.row.id)}}},"查看")}}],oms:!(!localStorage.promotionMode||2!=localStorage.promotionMode)}},computed:{formatTableData:function(){var t=0;return this.thisTableData.forEach(function(e){t+=Number(e.returnAmount)}),[].concat((0,c.default)(this.thisTableData),[{rowTitle:"小计",returnAmount:t.toFixed(2)},{rowTitle:"总计",returnAmount:Number(this.totalAmount).toFixed(2)}])}},methods:{openDetail:function(t){this.$router.push({name:"return-detail",query:{id:t}})},formatDate:function(t,e){if(""===t)return"";var n=new Date;if(n.setTime(t),!e)var e="yyyy-MM-DD hh:mm:ss";var r={"M+":n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1,"D+":n.getDate()<10?"0"+n.getDate():n.getDate(),"h+":n.getHours()<10?"0"+n.getHours():n.getHours(),"m+":n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes(),"s+":n.getSeconds()<10?"0"+n.getSeconds():n.getSeconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in r)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?r[a]:("00"+r[a]).substr((""+r[a]).length)));return e},resetOption:function(t){this.stateModel="",this.sourceModel="";for(var e in this.query)this.query[e]="";for(var e in this.query1)this.query1[e]="";t||(this.query2={beginTime:"",endTime:"",page:1}),this.loadList(1)},exportList:function(){var t=this,e=document.getElementById("export-form-input");this.queryModel&&(e=this.$refs.keyWordForm),this.$Modal.confirm({title:"导出",content:"<p>是否确认导出？</p>",onOk:function(n){e.method="get",e.action=t.$util.baseUrl+"/trade/return/exportReturn",e.submit()}})},renderTable:function(t){var e=this;this.thisTableData=[];this.totalCount=t.result.pager.totalCount||0,this.totalAmount=t.result.totalAmount||0,t.result.pager.records instanceof Array&&t.result.pager.records.forEach(function(n){var r="",a=t.result.returnStatuss[n.returnMain.returnStatus-1];a&&(r=a.name),e.thisTableData.push({id:n.returnMain.id,returnNo:n.returnMain.returnNo,sourceChannel:n.returnMain.sourceChannel?t.result.channels[n.returnMain.sourceChannel-1].name:"",createTime:e.formatDate(n.returnMain.createTime),totalCRTItemNum:n.returnMain.totalCRTItemNum,totalEAItemNum:n.returnMain.totalEAItemNum,returnAmount:n.returnMain.returnAmount,storeName:n.returnMain.storeName,operatePerson:n.returnMain.operatePerson,returnStatus:n.returnMain.returnStatus,inBoundNo:n.returnMain.inBoundNo,returnStatusText:r,state:1})})},loadList:function(t){var e=this;this.loading=!0,t&&(this.query2.page="number"==typeof t?t:1),this.query2.page||(this.query2.page=1);var n="",r="",a=this.query2.beginTime,i=this.query2.endTime;a&&(n=this.formatDate(a,"yyyy-MM-DD")),i&&(r=this.formatDate(i,"yyyy-MM-DD"));var o=this.activeReturnStatus,s="",u=(0,l.default)({},this.query2,{beginTime:n,endTime:r});this.queryModel&&(u=(0,l.default)({},this.query1,u)),"goodsDetail"===o?(s=this.$util.apiConfig.traderManage.returnManage.returnGoodsDetail,this.queryModel||(u=(0,l.default)({},this.query,u))):(s=this.$util.apiConfig.traderManage.returnManage.listUrl,u.returnStatus=o,this.queryModel||(u=(0,l.default)({},u,this.query))),this.watchRouterQuery=!1,this.$router.replace({name:this.$route.name,query:(0,l.default)({},u,{returnStatus:o})}),setTimeout(function(t){return e.watchRouterQuery=!0}),this.$util.ajax({method:"post",url:s,data:m.default.stringify(u)}).then(function(t){if(200===t.data.code)"goodsDetail"!==e.activeReturnStatus?e.renderTable(t.data):e.renderGoodsDetail(t.data);else{var n=t.data.message||"列表数据请求失败";e.$Modal.error({content:n})}setTimeout(function(t){return e.loading=!1},0)}).catch(function(t){console.error(t),e.$Modal.error({content:"列表数据请求失败"}),setTimeout(function(t){return e.loading=!1},0)})},toOnshelf:function(t){this.getOnShelfData(t)},getOnShelfData:function(){function t(t){return e.apply(this,arguments)}var e=(0,s.default)(i.default.mark(function t(e){var n,r,a,o=this,s=e.inBoundNo;e.returnNo;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=s,t.prev=1,this.inboundGoods=[],t.next=5,this.$ajax.post(this.$util.apiConfig.stockManage.warehouseIn.refundInBound.detail,m.default.stringify({purchaseOrderNo:n,isView:!1}));case 5:if(r=t.sent,a=r.data,!(a.inboundBillProduct instanceof Array)){t.next=13;break}this.inboundGoods=a.inboundBillProduct.map(function(t){return(0,l.default)({},t,{inboundEaNum:t.eaNum,inboundCarNum:t.carNum})}),this.inbundId=a.countBillId||"",this.oms?this.$Modal.confirm({title:"退货入库",content:"此退货单即将入库,确认吗?",onOk:function(t){o.onShelf()}}):this.inbundVisible=!0,t.next=14;break;case 13:return t.abrupt("return",this.$Modal.warning({content:"无退货入库商品"}));case 14:t.next=20;break;case 16:t.prev=16,t.t0=t.catch(1),console.error(t.t0),this.$Modal.warning({content:"入库信息获取失败"});case 20:case"end":return t.stop()}},t,this,[[1,16]])}));return t}(),onShelf:function(){function t(){return e.apply(this,arguments)}var e=(0,s.default)(i.default.mark(function t(){var e,n,r,a,o=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.inboundLoading){t.next=2;break}return t.abrupt("return");case 2:if(this.inboundLoading=!0,e=this.inbundId,n=this.inboundGoods.map(function(t){return{carNum:t.carNum,eaNum:t.eaNum,id:t.id,countBillId:e,inboundCarNum:t.inboundCarNum,inboundEaNum:t.inboundEaNum}}),!(r=this.inboundGoods.some(function(t){return t.eaNum+t.carNum*t.transformRule<t.inboundEaNum+t.inboundCarNum*t.transformRule}))){t.next=9;break}return this.$Modal.error({content:"实际入库数量不能大于退货数量",onOk:function(t){return!1}}),t.abrupt("return",!1);case 9:return t.prev=9,t.next=12,this.$ajax.post(this.$util.apiConfig.stockManage.warehouseIn.refundInBound.submitInbound,n);case 12:if(a=t.sent,!a.data.success){t.next=17;break}return this.$Modal.success({content:"入库成功",onOk:function(t){o.inbundVisible=!1,o.loadList()}}),this.inboundLoading=!1,t.abrupt("return");case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(9),console.error(t.t0);case 22:this.inboundLoading=!1,this.$Modal.error({content:"入库失败"});case 24:case"end":return t.stop()}},t,this,[[9,19]])}));return t}(),checkInboundNum:function(t,e){var n=t.column.key,r=t.index,a=parseInt(e.target.value),i=!0,o="";if(isNaN(a)&&(i=!1,o="请输入数字"),a<0&&i&&(i=!1,o="不能小于0"),!i)return setTimeout(function(r){return e.target.value=t.row[n]}),void this.$Message.error(o);t.row[n]=a,this.inboundGoods[r]=t.row},activeReturnStatusChange:function(t){this.activeReturnStatus!==t.value&&(this.activeReturnStatus=t.value,this.loadList(1))},setQuery:function(){var t=this.$route.query,e=0,n=0;for(var r in t){n++;var a=t[r];if("keyWord"===r&&(e=1),"page"===r&&(a=Number(a)),"returnStatus"!==r){"beginTime"!==r&&"endTime"!==r||(a=a?new Date(a):"");for(var i in this.query)r===i&&(this.query[i]=a);for(var o in this.query1)r===o&&(this.query1[o]=a);for(var s in this.query2)r===s&&(this.query2[s]=a)}else this.activeReturnStatus=a}n<1&&(e=1),this.queryModel=e},renderGoodsDetail:function(t){var e=this;this.goodsDetail=[];var n=t.result.records;this.totalCount=Number(t.result.totalCount)||0,setTimeout(function(t){n instanceof Array&&(e.goodsDetail=n.map(function(t){var n="";return t.createTime&&(n=e.formatDate(new Date(t.createTime))),(0,l.default)({},t,{createTime:n,returnAmount:Number(t.returnAmount).toFixed(2)})}))},100),this.loading=!1},print:function(t){if(t){var e=window.location.href;e=e.replace(this.$route.fullPath,"/print/return-print?id="+t),window.open(e,"_blank")}}},mounted:function(){this.setQuery(),this.loadList()},watch:{"$route.query":function(t,e){if(this.watchRouterQuery){var n=0;for(var r in t)n++;if(0===n){for(var a in this.query)this.query[a]="";for(var i in this.query1)this.query1[i];for(var o in this.query2)this.query2[o]="";this.activeReturnStatus="",this.queryModel=1}else this.setQuery();this.loadList()}}}}},2693:function(t,e,n){var r=n(2694);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(43)("df4c9f34",r,!1,{})},2694:function(t,e,n){e=t.exports=n(42)(!1),e.push([t.i,"\n.width-100 {\n  width: 100%;\n}\n.lb-left {\n  float: left;\n}\n.lb-right {\n  float: right;\n}\n.lb-center {\n  text-align: center;\n}\n.lb-promotion-main {\n  height: auto;\n  background-color: #fff;\n}\n.lb-promotion-main .lb-promotion-search {\n  border-bottom: 1px dashed #e5e5e5;\n}\n.lb-promotion-main .lb-promotion-search .lb-promotion-row {\n  margin-bottom: 14px;\n}\n.lb-promotion-main .lb-promotion-search .lb-promotion-row .ListName {\n  text-align: right;\n  line-height: 32px;\n  color: #747474;\n  font-size: 12px;\n  margin-right: 8px;\n}\n.promotion-page {\n  margin: 1rem 0 0 0;\n}\n.container {\n  background: #fff;\n  color: #747474;\n  border: 1px solid #E8E8E8;\n  padding: 1% 1% 3%;\n}\n.margin-top-8 {\n  margin-top: 8px;\n}\n.margin-top-10 {\n  margin-top: 10px;\n}\n.margin-top-20 {\n  margin-top: 20px;\n}\n.margin-left-10 {\n  margin-left: 10px;\n}\n.margin-bottom-10 {\n  margin-bottom: 10px;\n}\n.margin-bottom-12 {\n  margin-bottom: 12px;\n}\n.margin-bottom-14 {\n  margin-bottom: 14px;\n}\n.margin-bottom-100 {\n  margin-bottom: 100px;\n}\n.margin-right-10 {\n  margin-right: 10px;\n}\n.padding-left-6 {\n  padding-left: 6px;\n}\n.padding-left-8 {\n  padding-left: 5px;\n}\n.padding-left-10 {\n  padding-left: 10px;\n}\n.padding-left-20 {\n  padding-left: 20px;\n}\n.height-100 {\n  height: 100%;\n}\n.height-120px {\n  height: 100px;\n}\n.height-200px {\n  height: 200px;\n}\n.height-492px {\n  height: 492px;\n}\n.height-460px {\n  height: 460px;\n}\n.line-gray {\n  height: 0;\n  border-bottom: 2px solid #dcdcdc;\n}\n.notwrap {\n  word-break: keep-all;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.padding-left-5 {\n  padding-left: 10px;\n}\n[v-cloak] {\n  display: none;\n}\n.mb--12 {\n  margin-bottom: 12px;\n}\n.mb--14 {\n  margin-bottom: 14px;\n}\n.border-b--dashed {\n  border-bottom: 1px dashed #e5e5e5;\n}\n.pd--20 {\n  padding: 20px;\n}\n.ml--50 {\n  margin-left: 50px;\n}\n.fr {\n  float: right;\n}\n.fl {\n  float: left;\n}\n.bg--white {\n  background: #fff;\n}\n.clearfix:after {\n  content: '';\n  display: block;\n  height: 0;\n  clear: both;\n}\n.text-center {\n  text-align: center;\n}\n.white {\n  background-color: white;\n}\n.select_box {\n  padding: 20px;\n  border-bottom: 1px dashed #E8E8E8;\n}\n.ling_height {\n  padding-top: 15px;\n}\n.text_align_right {\n  text-align: right;\n}\n.text_align_center {\n  text-align: center;\n}\n.operation_box {\n  padding: 10px 20px;\n  text-align: right;\n}\n.page_right {\n  text-align: right;\n  padding: 10px 20px;\n}\n.input_width {\n  width: 120px;\n}\n.search_btn {\n  width: 100px;\n}\n.margin_bottom_0 {\n  margin-bottom: 0;\n}\n.ivu-breadcrumb a {\n  color: #999;\n}\n.ivu-breadcrumb {\n  font-size: 12px;\n}\n.ivu-breadcrumb > span:last-child {\n  color: #426196;\n}\n.box_shadow {\n  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.2);\n  border-color: #eee;\n}\n.border_bottom_dashed {\n  border-bottom: 1px dashed #E8E8E8;\n}\n.problem_table .ivu-checkbox-wrapper {\n  margin-right: 0px;\n}\n.order-list-body {\n  height: auto;\n  background: #fff;\n}\n.order-list-body .order-list-option {\n  min-height: 150px;\n}\n.order-list-body .order-list-option .text-center {\n  text-align: center;\n}\n.order-list-body .order-list-option .middle-line {\n  width: 10px;\n  padding-top: 18px;\n  padding-left: 3px;\n  float: left;\n}\n.order-list-body .order-list-option .input-date {\n  width: 100%;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  float: left;\n}\n.order-list-body .order-list-option .input-date .ivu-date-picker {\n  display: block;\n}\n.order-list-body .order-list-option .button-right {\n  text-align: right;\n  padding-right: 10px;\n}\n.order-list-body .order-list-option .button-left {\n  text-align: left;\n  padding: 10px;\n}\n.order-list-body .order-list-option .input-text {\n  padding-top: 10px;\n  padding-bottom: 10px;\n}\n.order-list-body .order-list-option .input-select {\n  max-width: 178px;\n  width: 100%;\n  padding-top: 10px;\n  padding-bottom: 10px;\n}\n.order-list-body .page-bar {\n  padding: 10px 0;\n  overflow: hidden;\n}\n.order-list-body .fr {\n  float: right;\n}\n.order-list-body .width200 {\n  width: 200px;\n}\n",""])},2695:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"order-list-body"},[n("div",{staticClass:"order-list-option"},[n("form",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"keyWordForm",attrs:{action:t.$util.baseUrl+"/trade/return/exportReturn",method:"get"}},[n("input",{attrs:{type:"text",name:"keyWord"},domProps:{value:t.query1.keyWord}}),t._v(" "),n("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"text",name:"returnStatus"},domProps:{value:t.activeReturnStatus}}),t._v(" "),n("DatePicker",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{name:"beginTime",value:t.query2.beginTime}}),t._v(" "),n("DatePicker",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{name:"endTime",value:t.query2.endTime}})],1),t._v(" "),n("form",{attrs:{id:"export-form-input"}},[n("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"text",name:"returnStatus"},domProps:{value:t.activeReturnStatus}}),t._v(" "),n("Row",{attrs:{type:"flex",justify:"center",align:"middle"}},[n("Col",{attrs:{span:"2"}},[n("div",{staticClass:"text-center"},[t._v("开始日期：")])]),t._v(" "),n("Col",{attrs:{span:"4"}},[n("div",{staticClass:"input-date"},[n("DatePicker",{attrs:{type:"date",name:"beginTime",placeholder:"开始时间",options:t.lessThanEndDate},model:{value:t.query2.beginTime,callback:function(e){t.$set(t.query2,"beginTime",e)},expression:"query2.beginTime"}})],1)]),t._v(" "),n("Col",{attrs:{span:"2"}},[n("div",{staticClass:"text-center"},[t._v("结束日期：")])]),t._v(" "),n("Col",{attrs:{span:"4"}},[n("div",{staticClass:"input-date"},[n("DatePicker",{attrs:{type:"date",name:"endTime",placeholder:"截止时间",options:t.moreThanStartDate},model:{value:t.query2.endTime,callback:function(e){t.$set(t.query2,"endTime",e)},expression:"query2.endTime"}})],1)]),t._v(" "),n("Col",{attrs:{span:"2"}},[n("div",{staticClass:"text-center"},[t._v("关键字：")])]),t._v(" "),n("Col",{attrs:{span:"4"}},[n("div",{staticClass:"input-text"},[n("Input",{attrs:{clearable:"",disabled:!t.queryModel,placeholder:"全文搜索"},on:{"on-enter":t.loadList},model:{value:t.query1.keyWord,callback:function(e){t.$set(t.query1,"keyWord",e)},expression:"query1.keyWord"}})],1)]),t._v(" "),n("Col",{attrs:{span:"6"}},[n("div",{staticClass:"button-right"},[n("span",{staticStyle:{float:"left","margin-top":"8px","margin-left":"5px",color:"#2d8cf0",cursor:"pointer"},on:{click:function(e){t.queryModel=Number(!t.queryModel)}}},[t.queryModel?n("span",[t._v("高级搜索")]):n("span",[t._v("关闭高级搜索")])]),t._v(" "),n("Button",{on:{click:t.loadList}},[t._v("查询")])],1)])],1),t._v(" "),n("Row",{directives:[{name:"show",rawName:"v-show",value:0===t.queryModel,expression:"queryModel===0"}],attrs:{type:"flex",justify:"center",align:"middle"}},[n("Col",{attrs:{span:"2"}},[n("div",{staticClass:"text-center",staticStyle:{"line-height":"50px"}},[t._v("门店名称：")])]),t._v(" "),n("Col",{attrs:{span:"4"}},[n("div",{staticClass:"input-text"},[n("Input",{attrs:{name:"storeName",clearable:""},model:{value:t.query.storeName,callback:function(e){t.$set(t.query,"storeName",e)},expression:"query.storeName"}})],1)]),t._v(" "),n("Col",{attrs:{span:"2"}},[n("div",{staticClass:"text-center"},[t._v("退货单号：")])]),t._v(" "),n("Col",{attrs:{span:"4"}},[n("div",{staticClass:"text-center"},[n("Input",{attrs:{name:"returnNo",clearable:""},model:{value:t.query.returnNo,callback:function(e){t.$set(t.query,"returnNo",e)},expression:"query.returnNo"}})],1)]),t._v(" "),n("Col",{attrs:{span:"2"}},[n("div",{staticClass:"text-center"},[t._v("业务员：")])]),t._v(" "),n("Col",{attrs:{span:"4"}},[n("div",{staticClass:"input-text"},[n("Input",{attrs:{name:"operatePerson",clearable:""},model:{value:t.query.operatePerson,callback:function(e){t.$set(t.query,"operatePerson",e)},expression:"query.operatePerson"}})],1)]),t._v(" "),n("Col",{attrs:{span:"6"}},[n("div",{staticClass:"button-right"})])],1),t._v(" "),n("Row",{directives:[{name:"show",rawName:"v-show",value:0===t.queryModel,expression:"queryModel===0"}],attrs:{type:"flex",justify:"center",align:"middle"}},[n("Col",{attrs:{span:"2"}},[n("div",{staticClass:"text-center"},[t._v("退货备注：")])]),t._v(" "),n("Col",{attrs:{span:"4"}},[n("div",{staticClass:"input-text"},[n("Input",{attrs:{name:"remark",clearable:""},model:{value:t.query.remark,callback:function(e){t.$set(t.query,"remark",e)},expression:"query.remark"}})],1)]),t._v(" "),n("Col",{attrs:{span:"2"}},[n("div",{staticClass:"text-center"},[t._v("商品名称：")])]),t._v(" "),n("Col",{attrs:{span:"4"}},[n("div",{staticClass:"input-text"},[n("Input",{attrs:{name:"goodsName",clearable:""},model:{value:t.query.goodsName,callback:function(e){t.$set(t.query,"goodsName",e)},expression:"query.goodsName"}})],1)]),t._v(" "),n("Col",{attrs:{span:"2"}},[n("div",{staticClass:"text-center"},[t._v("条形码：")])]),t._v(" "),n("Col",{attrs:{span:"4"}},[n("div",{staticClass:"input-text"},[n("Input",{attrs:{name:"code69",clearable:""},model:{value:t.query.code69,callback:function(e){t.$set(t.query,"code69",e)},expression:"query.code69"}})],1)]),t._v(" "),n("Col",{staticStyle:{float:"right",padding:"10px 0"},attrs:{span:"6"}},[n("div",{staticClass:"button-right"})])],1),t._v(" "),n("Row",{directives:[{name:"show",rawName:"v-show",value:0===t.queryModel,expression:"queryModel===0"}],attrs:{type:"flex",justify:"center",align:"middle"}},[n("Col",{attrs:{span:"2"}},[n("div",{staticClass:"text-center"},[t._v("销售编码：")])]),t._v(" "),n("Col",{attrs:{span:"4"}},[n("div",{staticClass:"input-text"},[n("Input",{attrs:{name:"code79",clearable:""},model:{value:t.query.code79,callback:function(e){t.$set(t.query,"code79",e)},expression:"query.code79"}})],1)]),t._v(" "),n("Col",{attrs:{span:"2"}}),t._v(" "),n("Col",{attrs:{span:"4"}}),t._v(" "),n("Col",{attrs:{span:"2"}}),t._v(" "),n("Col",{attrs:{span:"4"}}),t._v(" "),n("Col",{staticStyle:{float:"right",padding:"10px 0"},attrs:{span:"6"}},[n("div",{staticClass:"button-right"})])],1),t._v(" "),n("Row",[n("Col",{attrs:{span:"2"}},[n("div",{staticClass:"text-center",staticStyle:{"line-height":"50px"}},[t._v("\n                        分类筛选：\n                    ")])]),t._v(" "),n("Col",[n("div",{staticStyle:{"line-height":"50px"}},t._l(t.returnStatusList,function(e,r){return n("Button",{key:r,staticStyle:{"margin-right":"5px"},attrs:{type:t.activeReturnStatus==e.value?"primary":"default"},on:{click:function(n){t.activeReturnStatusChange(e)}}},[t._v("\n                            "+t._s(e.name)+"\n                        ")])}))])],1),t._v(" "),n("Row",[n("Col",{attrs:{span:"24"}},[n("div",{staticStyle:{"line-height":"50px","margin-left":"20px"}},[n("Button",{staticStyle:{"margin-right":"20px"},on:{click:function(e){t.$router.push({name:"return-manual"})}}},[t._v("新建")]),t._v(" "),n("Button",{directives:[{name:"show",rawName:"v-show",value:"goodsDetail"!==t.activeReturnStatus,expression:"activeReturnStatus!=='goodsDetail'"}],staticStyle:{"margin-right":"20px"},on:{click:t.exportList}},[t._v("导出")]),t._v(" "),n("Button",{on:{click:function(e){t.resetOption()}}},[t._v("重置")])],1)])],1)],1)]),t._v(" "),n("Table",{directives:[{name:"show",rawName:"v-show",value:"goodsDetail"!==t.activeReturnStatus,expression:"activeReturnStatus!=='goodsDetail'"}],attrs:{columns:t.columnsList,data:t.formatTableData,loading:t.loading}}),t._v(" "),n("Table",{directives:[{name:"show",rawName:"v-show",value:"goodsDetail"===t.activeReturnStatus,expression:"activeReturnStatus==='goodsDetail'"}],attrs:{columns:t.goodsDetailColumns,data:t.goodsDetail,loading:t.loading}}),t._v(" "),n("div",{staticClass:"page-bar"},[n("Page",{staticClass:"fr",attrs:{total:t.totalCount,current:t.query2.page,"show-total":"","show-elevator":""},on:{"on-change":t.loadList}})],1),t._v(" "),n("Modal",{attrs:{title:"入库",width:1e3},model:{value:t.inbundVisible,callback:function(e){t.inbundVisible=e},expression:"inbundVisible"}},[n("div",[n("Table",{attrs:{columns:t.inbundGoodsColumns,data:t.inboundGoods}})],1),t._v(" "),n("div",{staticClass:"detail-modal-btn-group",attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"primary"},on:{click:function(e){t.onShelf()}}},[t._v("入库")]),t._v(" "),n("Button",{on:{click:function(e){return t.inbundVisible=!1}}},[t._v("关闭")])],1)])],1)},a=[];r._withStripped=!0;var i={render:r,staticRenderFns:a};e.default=i},885:function(t,e,n){"use strict";function r(t){l||n(2693)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(1777),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);var s=n(2695),u=n.n(s),l=!1,d=n(13),c=r,p=d(i.a,u.a,!1,c,null,null);p.options.__file="src/views/trader-manage/return-manage/return-list.vue",e.default=p.exports}});