webpackJsonp([21,58,176,204,269,296,297],{1087:function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(241),i=r(n),o=a(242),s=r(o),l=a(146),u=r(l),d=a(239);e.default={props:{visible:{type:Boolean,default:!1},storeCode:{type:String,default:""}},data:function(){var t=this;return{dialogVisible:!1,query:{empName:"",currentPage:1,row:10},empColumns:[{title:"选择",render:function(e,a){return e("input",{attrs:{type:"radio",checked:a.row.checked},on:{change:function(){t.handleEmpSelectChange(a.row)}}})}},{title:"工号",key:"empCode"},{title:"姓名",key:"empName"},{title:"门店数量",key:"storeCount"}],empList:[],total:0}},methods:{handleOk:function(){for(var t=void 0,e=0;e<this.empList.length;e++)this.empList[e].checked&&(t=(0,u.default)({},this.empList[e]));if(!t)return void this.$Message.error("未选择业务员");this.dialogVisible=!1,this.$emit("on-select",t),this.$emit("update:visible",!1)},handleCancel:function(){this.dialogVisible=!1,this.$emit("update:visible",!1)},reloadStoreSelect:function(){this.query={empName:"",currentPage:1,row:10},this.queryEmpList()},handleSearch:function(){this.query.currentPage=1,this.queryEmpList()},queryEmpList:function(){function t(){return e.apply(this,arguments)}var e=(0,s.default)(i.default.mark(function t(){var e,a,r,n;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,u.default)({},this.query,{storeCode:this.storeCode}),delete e.row,a=this,t.prev=3,t.next=6,this.$ajax.post(a.$util.apiConfig.traderManage.flowManage.costManage.queryEmp,d.stringify(e));case 6:r=t.sent,n=r.data,200==r.status?null!=n.dto&&null!=n.page.records&&(this.empList=n.page.records.map(function(t,e){return(0,u.default)({},t,{storeCount:n.dto[e].storeCount,checked:!1})}),this.total=n.page.totalCount||0):this.$Message.error("业务员列表获取失败"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),this.$Message.error("业务员列表获取失败");case 14:case"end":return t.stop()}},t,this,[[3,11]])}));return t}(),handleEmpSelectChange:function(t){var e=this.empList.map(function(e){var a=(0,u.default)({},e);return a.empCode!=t.empCode?a.checked=!1:a.checked=!0,a});this.empList=e}},watch:{visible:function(t,e){1==t?(this.dialogVisible=!0,this.reloadStoreSelect()):this.dialogVisible=!1}}}},1088:function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(241),i=r(n),o=a(242),s=r(o),l=a(146),u=r(l),d=a(239);e.default={props:{visible:{type:Boolean,default:!1}},data:function(){var t=this;return{dialogVisible:!1,query:{storeName:"",storeCode:"",currentPage:1,row:10},storeColumns:[{title:"选择",width:60,render:function(e,a){return e("input",{attrs:{type:"radio",checked:a.row.checked},on:{change:function(){t.handleStoreSelectChange(a.row)}}})}},{title:"门店名称",key:"storeName"},{title:"门店编号",key:"storeCode"},{title:"门店地址",key:"addressDetail"}],storeList:[],total:0}},methods:{handleOk:function(){for(var t=void 0,e=0;e<this.storeList.length;e++)this.storeList[e].checked&&(t=(0,u.default)({},this.storeList[e]));if(!t)return void this.$Message.error("未选择门店");this.dialogVisible=!1,this.$emit("on-select",t),this.$emit("update:visible",!1)},handleCancel:function(){this.$emit("update:visible",!1)},reloadStoreSelect:function(){this.query={storeName:"",storeCode:"",currentPage:1,row:10},this.queryStoreList()},handleSearch:function(){this.query.currentPage=1,this.queryStoreList()},queryStoreList:function(){function t(){return e.apply(this,arguments)}var e=(0,s.default)(i.default.mark(function t(){var e,a,r,n;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,u.default)({},this.query),delete e.row,this.storeList=[],a=this,t.prev=4,t.next=7,this.$ajax({method:"POST",url:a.$util.apiConfig.traderManage.flowManage.costManage.queryStores,data:d.stringify(e)});case 7:r=t.sent,n=r.data,n.records instanceof Array&&(this.storeList=n.records,this.total=n.totalCount||0),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),this.$Message.error("门店列表获取失败");case 15:case"end":return t.stop()}},t,this,[[4,12]])}));return t}(),handleStoreSelectChange:function(t){var e=this.storeList.map(function(e){var a=(0,u.default)({},e);return a.storeCode!=t.storeCode?a.checked=!1:a.checked=!0,a});this.storeList=e}},watch:{visible:function(t,e){1==t?(this.dialogVisible=!0,this.reloadStoreSelect()):this.dialogVisible=!1}}}},1110:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(239),n=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default={props:{visible:{default:!1,type:Boolean},orderId:{default:"2018092000007423",type:[String,Number]},orderDetail:{default:function(){return{}},type:Object}},data:function(){return{modalVisible:!1,orderMain:{},orderItems:[],warehouseList:[],outWarehouse:"",submiting:!1,toggleRender:!1}},mounted:function(){this.modalVisible=this.visible},methods:{outWarehouseChangeHandle:function(t){var e=this;if(""!=t){var a={};a.warehouseCode=t,a.materialCode79List=[],this.orderItems.forEach(function(t){a.materialCode79List.push(t.item79)}),this.$util.ajax.post("/omsCenter/logicStock/toWarehouseCode",a).then(function(t){if(console.log("仓库商品存量:",t),t.data.result){var a=t.data.result;e.orderItems.forEach(function(t){t.notEnoughStore=!0,t.sendCarNum=0,t.sendEaNum=0,a.forEach(function(e){t.item79==e.materialCode79&&(Number(t.needSendTotal)<=Number(e.totalNum)?(t.notEnoughStore=!1,t.sendCarNum=t.needSendCar,t.sendEaNum=t.needSendEa,e.totalNum-=t.needSendTotal):(t.sendCarNum=parseInt(Number(e.totalNum)/Number(t.packageNum)),t.sendCarNum<=0&&(t.sendCarNum=0),t.sendEaNum=Number(e.totalNum)%Number(t.packageNum),t.sendEaNum<=0&&(t.sendEaNum=0),e.totalNum=0))}),0==t.needSendTotal&&(t.notEnoughStore=!1)})}else e.orderItems.forEach(function(t){t.notEnoughStore=!0,t.sendCarNum=0,t.sendEaNum=0,0==t.needSendTotal&&(t.notEnoughStore=!1)});e.toggleRender=!e.toggleRender})}},cancel:function(){this.$emit("update:visible",!1)},submit:function(){var t=this,e=1;if(this.$store.state.app.statusInfo.promotionMode?e=this.$store.state.app.statusInfo.promotionMode:localStorage.promotionMode&&(e=localStorage.promotionMode),1==e){if(""==this.outWarehouse||void 0==this.outWarehouse||null==this.outWarehouse)return void this.$Modal.error({title:"请选择出库仓库",content:"出库仓库不存在"});var a={};a.orderId=this.orderId,a.warehouseCode=this.outWarehouse,a.orderState=this.orderMain.orderStatus,a.list=[];var r=!1,n=0;if(this.orderItems.forEach(function(t){var e=Number(t.sendCarNum)*Number(t.packageNum)+Number(t.sendEaNum);return e>Number(t.needSendTotal)?void(r=!0):(""===t.sendCarNum&&(t.sendCarNum=0),""===t.sendEaNum&&(t.sendEaNum=0),t.sendCarNum<=0&&t.sendEaNum<=0?void n++:void a.list.push({entryNo:t.id,code79:t.item79,carNum:t.needSendCar,eaNum:t.needSendEa,sendCarNum:t.sendCarNum,sendEaNum:t.sendEaNum,transformRule:t.packageNum,num:e}))}),r)return void this.$Modal.error({title:"出库数量填写错误",content:"填写的出库数量不能大于应发数"});if(n==this.orderItems.length)return void this.$Modal.error({title:"出库数量填写错误",content:"所有商品的出库数量不能全为0"});console.log("出库发送参数：",a),this.submiting=!0,this.$util.ajax.post("/trade/order/tcc/outToOrder",a).then(function(e){t.submiting=!1,console.log("出库返回结果",e),200==e.data.code?t.$Modal.success({title:"操作成功",content:e.data.message,onOk:function(){t.$emit("successCallback"),t.cancel()}}):t.$Modal.error({title:"操作失败",content:e.data.message})}).catch(function(e){console.error(e),t.$Modal.error({title:"http请求失败",content:"出库请求失败"})})}else 2==e&&(this.submiting=!0,this.$util.ajax.post("/trade/order/tcc/outToOrderV2",{orderId:this.orderId}).then(function(e){t.submiting=!1,console.log("出库返回结果",e),200==e.data.code?t.$Modal.success({title:"操作成功",content:e.data.message,onOk:function(){t.$emit("successCallback"),t.cancel()}}):t.$Modal.error({title:"操作失败",content:e.data.message})}).catch(function(e){t.$Modal.error({title:"http请求失败",content:"出库请求失败"})}))},formatNum:function(t){t.target.value=t.target.value.replace(/[^\d]/g,"")}},watch:{visible:function(t){var e=this;1==t?(this.outWarehouse="",this.warehouseList=this.$store.state.app.statusInfo.ware,this.$util.ajax.post("/trade/order/getDetail/json",n.default.stringify({orderId:this.orderId})).then(function(a){if(console.log("订单详情数据：",a),200==a.status){e.modalVisible=t,e.orderMain=a.data.result.tradeOrder.orderMain,e.orderItems=a.data.result.tradeOrder.orderItems;for(var r=0;r<e.orderItems.length;r++)e.orderItems[r].itemName+=" * "+e.orderItems[r].packageNum,e.orderItems[r].auditEaNum=e.orderItems[r].auditEaNum?Number(e.orderItems[r].auditEaNum):0,e.orderItems[r].outEaNum=e.orderItems[r].outEaNum?Number(e.orderItems[r].outEaNum):0,e.orderItems[r].auditEaNum>e.orderItems[r].outEaNum?(e.orderItems[r].needSendTotal=e.orderItems[r].auditEaNum-e.orderItems[r].outEaNum,e.orderItems[r].needSendCar=parseInt(e.orderItems[r].needSendTotal/e.orderItems[r].packageNum),e.orderItems[r].needSendEa=e.orderItems[r].needSendTotal%e.orderItems[r].packageNum,e.orderItems[r].sendCarNum=0,e.orderItems[r].sendEaNum=0,e.orderItems[r].notEnoughStore=!0):(e.orderItems[r].needSendTotal=0,e.orderItems[r].needSendCar=0,e.orderItems[r].needSendEa=0,e.orderItems[r].sendCarNum=0,e.orderItems[r].sendEaNum=0,e.orderItems[r].notEnoughStore=!1)}else e.$Modal.error({title:"HTTP请求错误",content:a.statusText})}).catch(function(t){console.log(t),e.$Modal.error({title:"HTTP请求错误",content:"HTTP请求错误"})})):this.modalVisible=t}}}},1111:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(239),n=function(t){return t&&t.__esModule?t:{default:t}}(r),i=a(898);e.default={props:{visible:{default:!1,type:Boolean},orderId:{default:"2018092000007423",type:[String,Number]},orderDetail:{default:function(){return{}},type:Object}},data:function(){return{modalVisible:!1,remark:"",signTime:"",isCreateReceipt:!1,orderItems:[],orderMain:{},submiting:!1,voucherInfo:""}},mounted:function(){this.modalVisible=this.visible},methods:{cancel:function(){this.$emit("update:visible",!1)},submit:function(){var t=this;if(""==this.signTime)return void this.$Modal.error({title:"签收信息有误",content:"签收时间不能为空"});var e={};e.orderId=this.orderId,e.storeCode=this.orderMain.storeCode,e.receiptBy=this.orderMain.receiverName,e.receiptTime=this.signTime,e.receiptNote=this.remark,e.orderReceiptProductDTOList=[],e.isCreateReceipt=this.isCreateReceipt?1:0;var a=!1,r=0;if(this.orderItems.forEach(function(t){var n=Number(t.signCar)*Number(t.packageNum)+Number(t.signEa);if(n>Number(t.outEaNum))return void(a=!0);""===t.signCar&&(t.signCar=0),""===t.signEa&&(t.signEa=0),0==t.signCar&&0==t.signEa&&r++,e.orderReceiptProductDTOList.push({originalEntryNo:t.id,code79:t.item79,transformRule:t.packageNum,carNum:t.chuKuCar,eaNum:t.chuKuEA,deliveryByEa:t.outEaNum,receiptCarNum:t.signCar,receiptEaNum:t.signEa,totalNum:n,itemType:t.itemType})}),a)return void this.$Modal.error({title:"签收数量填写错误",content:"填写的签收数量不能大于发货数"});if(r==this.orderItems.length)return void this.$Modal.error({title:"签收数量填写错误",content:"所有商品的签收数量不能全为0"});var n=1;this.$store.state.app.statusInfo.promotionMode?n=this.$store.state.app.statusInfo.promotionMode:localStorage.promotionMode&&(n=localStorage.promotionMode);var i="/trade/order/updateOrderReceiptDTOSignIn";2==n&&(i="/trade/order/updateOrderReceiptDTOSignInV2"),console.log("签收发送数据：",e),this.submiting=!0,this.$util.ajax.post(i,e).then(function(e){t.submiting=!1,e.data.success?t.$Modal.success({title:"操作成功",content:e.data.message,onOk:function(){t.$emit("successCallback"),t.cancel()}}):t.$Modal.error({title:"操作失败",content:e.data.message})}).catch(function(e){t.submiting=!1,t.$Modal.error({title:"http请求失败",content:"签收请求失败"})})},signTimeChangeHandle:function(t){this.signTime=t},formatNum:function(t){event.target.value=event.target.value.replace(/[^\d]/g,"")}},watch:{visible:function(t){var e=this;1==t?(this.voucherInfo="",this.$util.ajax.post("/trade/order/getDetail/json",n.default.stringify({orderId:this.orderId})).then(function(a){if(console.log("订单详情数据：",a),200==a.status){e.modalVisible=t;var r=(new Date).getTime();e.signTime=(0,i.timestampToDay)(r,"yyyy-MM-dd hh:mm:ss"),e.orderMain=a.data.result.tradeOrder.orderMain,e.orderItems=a.data.result.tradeOrder.orderItems;for(var n=0;n<e.orderItems.length;n++)e.orderItems[n].itemName+=" * "+e.orderItems[n].packageNum,e.orderItems[n].outEaNum=e.orderItems[n].outEaNum?Number(e.orderItems[n].outEaNum):0,0!=e.orderItems[n].outEaNum?(e.orderItems[n].chuKuCar=Math.floor(e.orderItems[n].outEaNum/e.orderItems[n].packageNum),e.orderItems[n].chuKuEA=e.orderItems[n].outEaNum%e.orderItems[n].packageNum,e.orderItems[n].signCar=e.orderItems[n].chuKuCar,e.orderItems[n].signEa=e.orderItems[n].chuKuEA):(e.orderItems[n].chuKuEA=0,e.orderItems[n].chuKuCar=0,e.orderItems[n].signEaNum=0,e.orderItems[n].signCar=0,e.orderItems[n].signEa=0);var o=1;if(e.$store.state.app.statusInfo.promotionMode?o=e.$store.state.app.statusInfo.promotionMode:localStorage.promotionMode&&(o=localStorage.promotionMode),"O2O"==e.orderMain.tradeSourcePlatform&&2==o){var s={};s.orderMain={orderCode:e.orderMain.sourceOrderNo,orderPlatform:e.orderMain.tradeSourcePlatform,salesmanCode:e.orderMain.createPerson,storeCode:e.orderMain.storeCode,totalAmount:e.orderMain.itemToalAmount},s.orderItemList=[],e.orderItems.forEach(function(t){s.orderItemList.push({code79:t.code79,itemCnt:t.auditEaNum,itemUnit:0})}),e.$util.ajax.post("/trade/order/previewRealTimeIssueVoucher",s).then(function(t){if(200==t.data.code){var a=t.data.result.result.rows;if(a instanceof Array&&a.length>0){var r="";a.forEach(function(t){r+="【"+t.voucherTypeName+"】,【"+t.voucherPrice+"元】|"}),r=r.replace(/\|*$/g,""),e.voucherInfo="签收后，将发放如下代金券："+r+"（最终发券以实际发放为准）"}}})}}else e.$Modal.error({title:"HTTP请求错误",content:a.statusText})}).catch(function(t){console.log(t),e.$Modal.error({title:"HTTP请求错误",content:"HTTP请求错误"})})):this.modalVisible=t}}}},1405:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{"mask-closable":!1,title:"选择业务员"},on:{"on-ok":t.handleOk,"on-cancel":t.handleCancel},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[a("Row",[a("span",[t._v("业务员")]),t._v(" "),a("Input",{staticStyle:{width:"150px"},attrs:{clearable:""},model:{value:t.query.empName,callback:function(e){t.$set(t.query,"empName",e)},expression:"query.empName"}}),t._v(" "),a("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSearch()}}},[t._v("查询")])],1),t._v(" "),a("Row",{staticStyle:{"margin-top":"20px"}},[a("Table",{attrs:{height:"280",columns:t.empColumns,data:t.empList}})],1),t._v(" "),a("Row",[a("Page",{staticStyle:{float:"right","margin-top":"20px"},attrs:{current:t.query.currentPage,total:t.total},on:{"update:current":function(e){t.$set(t.query,"currentPage",e)},"on-change":t.queryEmpList}})],1),t._v(" "),a("div",{staticStyle:{overflow:"hidden"},attrs:{slot:"footer"},slot:"footer"},[a("span",{staticStyle:{float:"right"}},[a("Button",{attrs:{size:"large"},on:{click:function(e){t.handleCancel()}}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"primary",size:"large"},on:{click:function(e){t.handleOk()}}},[t._v("确定")])],1)])],1)},n=[];r._withStripped=!0;var i={render:r,staticRenderFns:n};e.default=i},1406:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{"mask-closable":!1,title:"选择门店"},on:{"on-ok":t.handleOk,"on-cancel":t.handleCancel},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[a("Row",[a("span",[t._v("门店名称")]),t._v(" "),a("Input",{staticStyle:{width:"150px"},attrs:{clearable:""},model:{value:t.query.storeName,callback:function(e){t.$set(t.query,"storeName",e)},expression:"query.storeName"}}),t._v(" "),a("span",[t._v("门店编码")]),t._v(" "),a("Input",{staticStyle:{width:"150px"},attrs:{clearable:""},model:{value:t.query.storeCode,callback:function(e){t.$set(t.query,"storeCode",e)},expression:"query.storeCode"}}),t._v(" "),a("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSearch()}}},[t._v("查询")])],1),t._v(" "),a("Row",{staticStyle:{"margin-top":"20px"}},[a("Table",{attrs:{height:"280",columns:t.storeColumns,data:t.storeList}})],1),t._v(" "),a("Row",[a("Page",{staticStyle:{float:"right","margin-top":"20px"},attrs:{current:t.query.currentPage,total:t.total},on:{"update:current":function(e){t.$set(t.query,"currentPage",e)},"on-change":t.queryStoreList}})],1),t._v(" "),a("div",{staticStyle:{overflow:"hidden"},attrs:{slot:"footer"},slot:"footer"},[a("span",{staticStyle:{float:"right"}},[a("Button",{attrs:{size:"large"},on:{click:function(e){t.handleCancel()}}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"primary",size:"large"},on:{click:function(e){t.handleOk()}}},[t._v("确定")])],1)])],1)},n=[];r._withStripped=!0;var i={render:r,staticRenderFns:n};e.default=i},1407:function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(241),i=r(n),o=a(146),s=r(o),l=a(242),u=r(l),d=a(239);e.default={props:{storeCode:"",visible:!1,edit:!1},data:function(){return{dialogVisible:!1,total:0,apiGroup:this.$util.apiConfig.traderManage.orderManage,query:{queryItemName:"",queryItem69:"",queryItem79:"",page:1},dataSource:[],dataSourceSelected:[],dataColumns:function(){var t=this,e=[{type:this.edit?"html":"selection",width:this.edit?0:60,align:"center"},{title:"商品名称",align:"center",width:200,key:"itemName"},{title:"商品类型",align:"center",key:"itemType",render:function(t,e){var a="-";if(e.row.itemType)switch(parseInt(e.row.itemType)){case 1:a="常规装";break;case 2:a="促销装";break;case 3:a="赠品/非单卖品";break;case 4:a="广宣品";break;default:a="-"}return t("span",a)}},{title:"商品标识",align:"center",key:"promotionType",render:function(t,e){var a="商品";if(e.row.promotionType)switch(parseInt(e.row.promotionType)){case 1:a="赠品";break;case 2:a="返利";break;case 3:a="特价";break;case 4:a="组合";break;default:a="-"}return t("span",a)}},{title:"条形码",align:"center",key:"code69",width:120},{title:"销售编码",align:"center",key:"code79",width:120},{title:"转化系数",align:"center",key:"changeUnitRate"},{title:"原价",align:"center",key:"marketPrice"},{title:"实际价格CAR",align:"center",key:"realMarketPrice",width:80,render:function(e,a){return e("input",{domProps:{value:a.row.realMarketPrice},on:{input:function(e){var r=e.target.value;r=r.replace(/[^\d.]/g,""),r=r.replace(/^\./g,""),r=r.replace(/\.{2,}/g,"."),r=r.replace(".","$#$").replace(/\./g,"").replace("$#$","."),r=r.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),a.row.realMarketPrice=r,e.target.value=r,t.dataSource[a.index]=a.row}},class:{"ivu-input":!0}})}},{title:"库存",align:"center",key:"validNum"},{title:"CAR数量",align:"center",key:"carNum",width:80,render:function(e,a){return e("input",{domProps:{value:a.row.carNum},class:"ivu-input",on:{input:function(e){var r=e.target.value;r=r.replace(/[^\d]/g,""),""!==r&&(r=parseInt(r)),a.row.carNum=r,e.target.value=r,t.dataSource[a.index]=a.row}}})}},{title:"EA数量",align:"center",key:"eaNum",width:80,render:function(e,a){return e("input",{domProps:{value:a.row.eaNum},class:"ivu-input",on:{input:function(e){var r=e.target.value;r=r.replace(/[^\d]/g,""),""!==r&&(r=parseInt(r)),a.row.eaNum=r,e.target.value=r,t.dataSource[a.index]=a.row}}})}}];return this.edit&&e.splice(0,1),e},currentRow:null}},methods:{add:function(){this.returnSelectedGoods()},handleCancel:function(){this.$emit("update:visible",!1)},addAndClose:function(){this.returnSelectedGoods(),this.$emit("update:visible",!1)},returnSelectedGoods:function(){var t=this.$refs.goodsTable.getSelection();this.$emit("on-selected",t)},search:function(){this.query.page=1,this.queryList()},resetQuery:function(){this.query={queryItemName:"",queryItem69:"",queryItem79:"",page:1},this.queryList()},queryList:function(){function t(){return e.apply(this,arguments)}var e=(0,u.default)(i.default.mark(function t(){var e,a,r,n,o;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.dataSource=[],this.dataSourceSelected=[],e=[],a=[],t.prev=4,t.next=7,this.$ajax.post(this.apiGroup.orderItemssurUrl+"?number="+Math.random(),d.stringify((0,s.default)({},this.query,{storecode:this.storeCode})));case 7:r=t.sent,n=r.data,200==n.code?(o=n.result.pager,o.records instanceof Array&&(this.dataSource=o.records.map(function(t){a.push(t.code79);var e=parseFloat(t.marketPrice).toFixed(2),r=0;isNaN(e)&&(e="0.00");var n=t.inventory,i=t.changeUnitRate,o="0/0";if(0!=n&&0!=i&&null!=i){o=(parseInt(n/i)||0)+"/"+(n%i||0)}return r=e,(0,s.default)({},t,{validNum:o,marketPrice:e,realMarketPrice:r,carNum:0,eaNum:0,itemComments:"",promotionType:""})})),isNaN(Number(o.totalCount))||(this.total=parseInt(o.totalCount))):e.push("商品数据获取失败"),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(4),console.error(t.t0),e.push("商品数据获取失败");case 16:e.length>0&&this.$Message.error(e.join(",")),this.setStock();case 18:case"end":return t.stop()}},t,this,[[4,12]])}));return t}(),handleInput:function(t,e,a){var r=e.target.value,n=t.column.key;r=r.replace(/[^\-?\d.]/g,""),t.row[n]=r,r.length>1&&"0"==r[0]&&"."!=r[1]&&(t.row[n]=r.substr(1)),""==e.target.value&&(t.row[n]=0),this.dataSource[t.index]=(0,s.default)({},this.dataSource[t.index],t.row),setTimeout(function(a){return e.target.value=t.row[n]})},setStock:function(){var t=this;this.dataSource.map(function(){var e=(0,u.default)(i.default.mark(function e(a){var r,n,o,s,l,u,d;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$ajax(t.apiGroup.warehouseStock+"?materialCode79="+a.code79);case 3:r=e.sent,n=r.data,200==n.code&&n.result.resultList instanceof Array&&n.result.resultList.length>0&&(o=0,s=n.result.resultList[0].validBoxNum,l=n.result.resultList[0].validNum,u=n.result.resultList[0].validSingleNum,isNaN(l)&&(l=0),isNaN(s)&&(s=0),isNaN(u)&&(u=0),o=l,d="0/0",0!=o&&(d=s+"/"+u),a.inventory=o,a.validNum=d),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}},e,t,[[0,8]])}));return function(t){return e.apply(this,arguments)}}())},handleCurrentChange:function(t){this.currentRow=t},editGoods:function(){var t=this,e=[];this.dataSource.forEach(function(a){a.code79==t.currentRow.code79&&(e=[a])}),this.$emit("on-selected",e),this.$emit("update:visible",!1)}},watch:{visible:function(t,e){1==t?(this.dialogVisible=!0,this.resetQuery()):this.dialogVisible=!1}}}},1412:function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(241),i=r(n),o=a(242),s=r(o),l=a(239),u=r(l),d=a(984);e.default={name:"AddrSel",model:{prop:"addrValue",event:"addr-change"},props:{inputStyles:{type:Object,default:function(){return{height:"32px",width:"150px"}}},addrValue:{type:Object,default:function(){return{shengNum:"",shiNum:"",quNum:"",shengValue:"",shiValue:"",quValue:""}}},shengDisable:{type:Boolean,default:!1},shiDisable:{type:Boolean,default:!1},quDisable:{type:Boolean,default:!1}},data:function(){return{initAddrCode:Number((0,d.createUniqueRandomNum24)()),sheng:[],shengValue:"",shengNum:0,shi:[],shiValue:"",shiNum:0,qu:[],quValue:"",quNum:0,shengLoading:!1,shiLoading:!1,quLoading:!1}},created:function(){var t=this;this.shengNum=this.initAddrCode,this.shiNum=this.initAddrCode,this.quNum=this.initAddrCode,this.shengLoading=!0,this.sheng=[];var e=this;this.$util.ajax.post(e.$util.apiConfig.traderManage.infoManage.storeManage.addrSelUrl,u.default.stringify({parentCode:0})).then(function(e){t.shengLoading=!1,200==e.status?t.sheng=e.data:console.warn("获取省选择列表数据失败")}).catch(function(t){console.log(t)})},mounted:function(){this.init()},methods:{init:function(){function t(){return e.apply(this,arguments)}var e=(0,s.default)(i.default.mark(function t(){var e,a,r;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this,this.shengNum!=this.initAddrCode||this.shiNum!=this.initAddrCode||this.quNum!=this.initAddrCode||""!=this.shengValue||""!=this.shiValue||""!=this.quValue){t.next=3;break}return t.abrupt("return");case 3:if(this.shengNum==this.initAddrCode){t.next=13;break}return this.shiLoading=!0,this.shi=[],t.next=8,this.$util.ajax.post(e.$util.apiConfig.traderManage.infoManage.storeManage.addrSelUrl,u.default.stringify({parentCode:this.shengNum}));case 8:a=t.sent,console.log(a),200==a.status?(this.shiLoading=!1,this.shi=a.data):console.warn("获取市选择列表数据失败"),t.next=19;break;case 13:this.shengValue="",this.shengNum=this.initAddrCode,this.shiValue="",this.shiNum=this.initAddrCode,this.quValue="",this.quNum=this.initAddrCode;case 19:if(this.shiNum==this.initAddrCode){t.next=28;break}return this.quLoading=!0,this.qu=[],t.next=24,this.$util.ajax.post(e.$util.apiConfig.traderManage.infoManage.storeManage.addrSelUrl,u.default.stringify({parentCode:this.shiNum}));case 24:r=t.sent,200==r.status?(this.quLoading=!1,this.qu=r.data):console.warn("获取区选择列表数据失败"),t.next=31;break;case 28:this.shiValue="",this.quValue="",this.quNum=this.initAddrCode;case 31:case"end":return t.stop()}},t,this)}));return t}(),selectShengHandle:function(t){var e=this;if(this.shengValue=t.label,this.shengNum=t.value,this.shiValue="",this.quValue="",this.shiNum=this.initAddrCode,this.quNum=this.initAddrCode,this.$emit("addr-change",{shengValue:"请选择省份"==this.shengValue?"":this.shengValue,shiValue:"请选择市"==this.shiValue?"":this.shiValue,quValue:"请选择区"==this.quValue?"":this.quValue,shengNum:this.shengNum==this.initAddrCode?"":this.shengNum,shiNum:this.shiNum==this.initAddrCode?"":this.shiNum,quNum:this.quNum==this.initAddrCode?"":this.quNum}),this.shengNum!=this.initAddrCode){this.shiLoading=!0,this.shi=[],this.qu=[];var a=this;this.$util.ajax.post(a.$util.apiConfig.traderManage.infoManage.storeManage.addrSelUrl,u.default.stringify({parentCode:this.shengNum})).then(function(t){200==t.status?(e.shiLoading=!1,e.shi=t.data):console.warn("获取市选择列表数据失败")}).catch(function(t){console.log(t)})}},selectShiHandle:function(t){var e=this;if(this.shiValue=t.label,this.shiNum=t.value,this.quValue="",this.quNum=this.initAddrCode,this.$emit("addr-change",{shengValue:"请选择省份"==this.shengValue?"":this.shengValue,shiValue:"请选择市"==this.shiValue?"":this.shiValue,quValue:"请选择区"==this.quValue?"":this.quValue,shengNum:this.shengNum==this.initAddrCode?"":this.shengNum,shiNum:this.shiNum==this.initAddrCode?"":this.shiNum,quNum:this.quNum==this.initAddrCode?"":this.quNum}),this.shiNum!=this.initAddrCode){this.quLoading=!0,this.qu=[];var a=this;this.$util.ajax.post(a.$util.apiConfig.traderManage.infoManage.storeManage.addrSelUrl,u.default.stringify({parentCode:this.shiNum})).then(function(t){200==t.status?(e.quLoading=!1,e.qu=t.data):console.warn("获取区选择列表数据失败")}).catch(function(t){console.log(t)})}},selectQuHandle:function(t){this.quValue=t.label,this.quNum=t.value,this.$emit("addr-change",{shengValue:"请选择省份"==this.shengValue?"":this.shengValue,shiValue:"请选择市"==this.shiValue?"":this.shiValue,quValue:"请选择区"==this.quValue?"":this.quValue,shengNum:this.shengNum==this.initAddrCode?"":this.shengNum,shiNum:this.shiNum==this.initAddrCode?"":this.shiNum,quNum:this.quNum==this.initAddrCode?"":this.quNum})}},watch:{addrValue:{handler:function(){function t(t,a){return e.apply(this,arguments)}var e=(0,s.default)(i.default.mark(function t(e,a){var r,n,o;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this,t.prev=1,e.shengNum==a.shengNum){t.next=10;break}if(e.shengNum==this.shengNum||""==e.shengNum){t.next=10;break}return this.shi=[],this.qu=[],t.next=8,this.$util.ajax.post(r.$util.apiConfig.traderManage.infoManage.storeManage.addrSelUrl,u.default.stringify({parentCode:e.shengNum}));case 8:n=t.sent,200==n.status?(this.shiLoading=!1,this.shi=n.data):console.warn("获取市选择列表数据失败");case 10:if(e.shiNum==a.shiNum){t.next=17;break}if(e.shiNum==this.shiNum||""==e.shiNum){t.next=17;break}return this.qu=[],t.next=15,this.$util.ajax.post(r.$util.apiConfig.traderManage.infoManage.storeManage.addrSelUrl,u.default.stringify({parentCode:e.shiNum}));case 15:o=t.sent,200==o.status?(this.quLoading=!1,this.qu=o.data):console.warn("获取区选择列表数据失败");case 17:this.shengValue=e.shengValue,this.shengNum=""==e.shengNum?this.initAddrCode:e.shengNum,this.shiValue=e.shiValue,this.shiNum=""==e.shiNum?this.initAddrCode:e.shiNum,this.quValue=e.quValue,this.quNum=""==e.quNum?this.initAddrCode:e.quNum,t.next=28;break;case 25:t.prev=25,t.t0=t.catch(1),console.warn("获取地址选择列表数据失败");case 28:case"end":return t.stop()}},t,this,[[1,25]])}));return t}(),deep:!0}}}},1424:function(t,e,a){var r=a(1425);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(43)("3ebb759f",r,!1,{})},1425:function(t,e,a){e=t.exports=a(42)(!1),e.push([t.i,"\n.red[data-v-0b21ec50] {\n  color: red;\n}\n.custom-table[data-v-0b21ec50] {\n  width: 100%;\n  text-align: center;\n  line-height: 48px;\n  border: 1px solid #ddd;\n}\n.custom-table th[data-v-0b21ec50] {\n  color: #666;\n  background-color: #eee;\n  font-weight: normal;\n  font-size: 14px;\n  line-height: 30px;\n}\n.custom-table tr th[data-v-0b21ec50],\n.custom-table tr td[data-v-0b21ec50] {\n  border-right: 1px solid #ddd;\n  border-bottom: 1px solid #ddd;\n  box-sizing: border-box;\n  padding: 5px;\n}\n.custom-table tr td[data-v-0b21ec50] {\n  line-height: 30px;\n  font-size: 12px;\n}\n.custom-table tbody tr[data-v-0b21ec50]:nth-of-type(2n) {\n  background: #f5f5f5;\n}\n.custom-table tbody tr:last-of-type td[data-v-0b21ec50] {\n  border-bottom: none;\n}\n.base[data-v-0b21ec50] {\n  border: 1px solid #aaa;\n  margin-bottom: 20px;\n}\n.base-row[data-v-0b21ec50] {\n  border-bottom: 1px solid #aaa;\n}\n.base-row[data-v-0b21ec50]:last-of-type {\n  border-bottom: 0;\n}\n.base-row > div[data-v-0b21ec50] {\n  line-height: 36px;\n}\n.base-row > div.label[data-v-0b21ec50] {\n  background: #eee;\n  text-align: right;\n  padding-right: 20px;\n}\n.base-row > div.content[data-v-0b21ec50] {\n  border-left: 1px solid #aaa;\n  padding: 0 20px;\n}\n.tipsFont[data-v-0b21ec50] {\n  font-family: 'Microsoft YaHei Bold', 'Microsoft YaHei';\n  font-weight: 700;\n  font-style: normal;\n  font-size: 18px;\n  color: #666666;\n  line-height: 200px;\n  text-align: center;\n  height: 200px;\n}\n",""])},1426:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{title:"订单出库",width:"550"},on:{"on-cancel":t.cancel},model:{value:t.modalVisible,callback:function(e){t.modalVisible=e},expression:"modalVisible"}},[2!=t.$store.state.app.statusInfo.promotionMode?a("div",[a("div",{staticClass:"base"},[a("Row",{staticClass:"base-row"},[a("Col",{staticClass:"label",attrs:{span:"8"}},[t._v("出库仓库")]),t._v(" "),a("Col",{staticClass:"content",attrs:{span:"16"}},[a("Select",{on:{"on-change":t.outWarehouseChangeHandle},model:{value:t.outWarehouse,callback:function(e){t.outWarehouse=e},expression:"outWarehouse"}},t._l(t.warehouseList,function(e){return a("Option",{key:e.id,attrs:{value:e.warehouseCode}},[t._v(t._s(e.warehouseName))])}))],1)],1),t._v(" "),a("Row",{staticClass:"base-row"},[a("Col",{staticClass:"label",attrs:{span:"8"}},[t._v("门店名称")]),t._v(" "),a("Col",{staticClass:"content",attrs:{span:"16"}},[t._v(t._s(t.orderMain.storeName))])],1),t._v(" "),a("Row",{staticClass:"base-row"},[a("Col",{staticClass:"label",attrs:{span:"8"}},[t._v("所在区域")]),t._v(" "),a("Col",{staticClass:"content",attrs:{span:"16"}},[t._v(t._s(t.orderMain.provinceName)+t._s(t.orderMain.cityName)+t._s(t.orderMain.areaName))])],1),t._v(" "),a("Row",{staticClass:"base-row"},[a("Col",{staticClass:"label",attrs:{span:"8"}},[t._v("详细地址")]),t._v(" "),a("Col",{staticClass:"content",attrs:{span:"16"}},[a("p",{staticStyle:{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",width:"320px"}},[t._v(t._s(t.orderMain.detailAddress))])])],1),t._v(" "),a("Row",{staticClass:"base-row"},[a("Col",{staticClass:"label",attrs:{span:"8"}},[t._v("联系电话")]),t._v(" "),a("Col",{staticClass:"content",attrs:{span:"16"}},[t._v(t._s(t.orderMain.receiverMobile))])],1)],1),t._v(" "),a("div",{staticClass:"table"},[a("table",{staticClass:"custom-table",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[a("colgroup",[a("col",{attrs:{width:"200"}})]),t._v(" "),a("thead",[a("tr",[a("th",{staticStyle:{width:"300px"}},[t._v("商品名称")]),t._v(" "),a("th",[a("span",[t._v("应发数")]),t._v(" "),a("span",[t._v("CAR/EA")])]),t._v(" "),a("th",[a("span",[t._v("实发数")]),t._v(" "),a("span",[t._v("CAR/EA")])])])]),t._v(" "),a("tbody",t._l(t.orderItems,function(e){return e.needSendTotal>0?a("tr",{key:e.id,class:t.toggleRender},[a("td",[t._v(t._s(e.itemName))]),t._v(" "),a("td",{class:{red:e.notEnoughStore}},[t._v(t._s(e.needSendCar||0)+"/"+t._s(e.needSendEa||0))]),t._v(" "),a("td",{staticStyle:{width:"150px"}},[a("Row",{attrs:{gutter:5}},[a("Col",{attrs:{span:"12"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sendCarNum,expression:"item.sendCarNum"}],staticClass:"ivu-input",attrs:{disabled:e.auditEaNum<=e.outEaNum,placeholder:"CAR"},domProps:{value:e.sendCarNum},on:{input:[function(a){a.target.composing||t.$set(e,"sendCarNum",a.target.value)},t.formatNum]}})]),t._v(" "),a("Col",{attrs:{span:"12"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sendEaNum,expression:"item.sendEaNum"}],staticClass:"ivu-input",attrs:{disabled:e.auditEaNum<=e.outEaNum,placeholder:"EA"},domProps:{value:e.sendEaNum},on:{input:[function(a){a.target.composing||t.$set(e,"sendEaNum",a.target.value)},t.formatNum]}})])],1)],1)]):t._e()}))])])]):t._e(),t._v(" "),2==t.$store.state.app.statusInfo.promotionMode?a("div",{staticClass:"tipsFont"},[a("span",[t._v("此订单即将出库，确认吗？")])]):t._e(),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:t.cancel}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{loading:t.submiting,type:"primary"},on:{click:t.submit}},[t._v("确认")])],1)])},n=[];r._withStripped=!0;var i={render:r,staticRenderFns:n};e.default=i},1427:function(t,e,a){var r=a(1428);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(43)("eb351b5c",r,!1,{})},1428:function(t,e,a){e=t.exports=a(42)(!1),e.push([t.i,"\n.row .grid[data-v-47bc7625]{\r\n    height: 50px;\r\n    border-top: 1px #e5e5e5 solid;\r\n    border-left: 1px #e5e5e5 solid;\r\n    line-height: 50px;\r\n    padding:0 10px;\n}\n.row .grid[data-v-47bc7625]:last-child{\r\n    border-right: 1px #e5e5e5 solid;\n}\n.row .grid[data-v-47bc7625]:nth-child(odd){\r\n    background-color: #eee;\r\n    text-align: right;\n}\n.last-row .grid[data-v-47bc7625]{\r\n    border-bottom: 1px #e5e5e5 solid;\n}\n.goods-table[data-v-47bc7625],\r\n.goods-table th[data-v-47bc7625], \r\n.goods-table td[data-v-47bc7625] {\r\n    border: 1px #e5e5e5 solid;\r\n    padding: 5px;\n}\n.goods-table td + td[data-v-47bc7625]{\r\n    text-align: center;\n}\n.goods-table th[data-v-47bc7625] {\r\n    background-color: #eee;\n}\n.itemContenter[data-v-47bc7625]{\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n    width: 155px;\n}\n.goods-quantity-input *[data-v-47bc7625]{\r\n    display: inline-block;\r\n    width: 50px;\n}\r\n\r\n\r\n\r\n",""])},1429:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{attrs:{width:"600",title:"订单签收"},on:{"on-cancel":t.cancel},model:{value:t.modalVisible,callback:function(e){t.modalVisible=e},expression:"modalVisible"}},[a("div",[a("Row",{staticClass:"row"},[a("Col",{staticClass:"grid",attrs:{span:"4"}},[a("span",[t._v("订单单号")])]),t._v(" "),a("Col",{staticClass:"grid",attrs:{span:"8"}},[a("span",[t._v(t._s(t.orderMain.orderNo))])]),t._v(" "),a("Col",{staticClass:"grid",attrs:{span:"4"}},[a("span",[t._v("门店名称")])]),t._v(" "),a("Col",{staticClass:"grid",attrs:{span:"8"}},[a("p",[t._v(t._s(t.orderMain.storeName))])])],1),t._v(" "),a("Row",{staticClass:"row"},[a("Col",{staticClass:"grid",attrs:{span:"4"}},[a("span",[t._v("所在区域")])]),t._v(" "),a("Col",{staticClass:"grid",attrs:{span:"8"}},[a("p",{staticClass:"itemContenter"},[t._v(t._s(t.orderMain.provinceName)+t._s(t.orderMain.cityName)+t._s(t.orderMain.areaName))])]),t._v(" "),a("Col",{staticClass:"grid",attrs:{span:"4"}},[a("span",[t._v("详细地址")])]),t._v(" "),a("Col",{staticClass:"grid",attrs:{span:"8"}},[a("p",{staticClass:"itemContenter"},[t._v(t._s(t.orderMain.detailAddress))])])],1),t._v(" "),a("Row",{staticClass:"row"},[a("Col",{staticClass:"grid",attrs:{span:"4"}},[a("span",[t._v("联系电话")])]),t._v(" "),a("Col",{staticClass:"grid",attrs:{span:"8"}},[a("span",[t._v(t._s(t.orderMain.receiverMobile))])]),t._v(" "),a("Col",{staticClass:"grid",attrs:{span:"4"}},[a("span",[t._v("签收人")])]),t._v(" "),a("Col",{staticClass:"grid",attrs:{span:"8"}},[a("Input",{attrs:{type:"text",placeholder:"请输入签收人",maxlength:100},model:{value:t.orderMain.receiverName,callback:function(e){t.$set(t.orderMain,"receiverName","string"==typeof e?e.trim():e)},expression:"orderMain.receiverName"}})],1)],1),t._v(" "),a("Row",{staticClass:"row"},[a("Col",{staticClass:"grid",attrs:{span:"4"}},[a("span",[t._v("签收时间")])]),t._v(" "),a("Col",{staticClass:"grid",attrs:{span:"8"}},[a("date-picker",{attrs:{value:t.signTime,format:"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"请选择时间"},on:{"on-change":t.signTimeChangeHandle}})],1),t._v(" "),a("Col",{staticClass:"grid",attrs:{span:"4"}},[a("span",[t._v("是现金单")])]),t._v(" "),a("Col",{staticClass:"grid",attrs:{span:"8"}},[a("Checkbox",{model:{value:t.isCreateReceipt,callback:function(e){t.isCreateReceipt=e},expression:"isCreateReceipt"}})],1)],1),t._v(" "),a("Row",{staticClass:"row last-row"},[a("Col",{staticClass:"grid",attrs:{span:"4"}},[a("span",[t._v("签收备注")])]),t._v(" "),a("Col",{staticClass:"grid",attrs:{span:"20"}},[a("Input",{attrs:{type:"text",placeholder:"请输入签收备注",maxlength:200},model:{value:t.remark,callback:function(e){t.remark="string"==typeof e?e.trim():e},expression:"remark"}})],1)],1),t._v(" "),a("br"),t._v(" "),a("Row",[t._v("\n            商品明细\n        ")]),t._v(" "),a("br"),t._v(" "),a("table",{staticClass:"goods-table",staticStyle:{width:"100%","border-collapse":"collapse"}},[a("thead",[a("tr",[a("th",{staticStyle:{width:"360px"}},[t._v("\n                        商品名称\n                    ")]),t._v(" "),a("th",[a("div",[t._v("发货数")]),t._v(" "),a("div",[t._v("CAR/EA")])]),t._v(" "),a("th",[a("div",[t._v("签收数")]),t._v(" "),a("div",[t._v("CAR/EA")])])])]),t._v(" "),a("tbody",t._l(t.orderItems,function(e){return 0!=e.outEaNum?a("tr",{key:e.id},[a("td",[t._v(t._s(e.itemName))]),t._v(" "),a("td",[t._v(t._s(e.chuKuCar||0)+"/"+t._s(e.chuKuEA||0))]),t._v(" "),a("td",{staticClass:"goods-quantity-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.signCar,expression:"item.signCar"}],staticClass:"ivu-input",attrs:{type:"text",placeholder:"CAR"},domProps:{value:e.signCar},on:{input:[function(a){a.target.composing||t.$set(e,"signCar",a.target.value)},t.formatNum]}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.signEa,expression:"item.signEa"}],staticClass:"ivu-input",attrs:{type:"text",placeholder:"EA"},domProps:{value:e.signEa},on:{input:[function(a){a.target.composing||t.$set(e,"signEa",a.target.value)},t.formatNum]}})])]):t._e()}))]),t._v(" "),a("br"),t._v(" "),t.voucherInfo?a("p",[t._v(t._s(t.voucherInfo))]):t._e()],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("i-button",{staticStyle:{width:"92px"},on:{click:t.cancel}},[t._v("取消")]),t._v(" "),a("i-button",{staticStyle:{width:"92px"},attrs:{loading:t.submiting,type:"primary"},on:{click:t.submit}},[t._v("确认")])],1)])},n=[];r._withStripped=!0;var i={render:r,staticRenderFns:n};e.default=i},1446:function(t,e,a){var r=a(1447);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(43)("88aff544",r,!1,{})},1447:function(t,e,a){e=t.exports=a(42)(!1),e.push([t.i,"\n.custom-row[data-v-b1c97b98] {\n  margin-bottom: 15px;\n}\n",""])},1448:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{width:1200,title:"商品选择"},on:{"on-cancel":t.handleCancel},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[a("Row",{staticClass:"custom-row",attrs:{gutter:16}},[a("Col",{attrs:{span:"5"}},[a("div",[t._v("商品名称:")]),t._v(" "),a("div",[a("Input",{model:{value:t.query.queryItemName,callback:function(e){t.$set(t.query,"queryItemName",e)},expression:"query.queryItemName"}})],1)]),t._v(" "),a("Col",{attrs:{span:"5"}},[a("div",[t._v("条形码:")]),t._v(" "),a("div",[a("Input",{model:{value:t.query.queryItem69,callback:function(e){t.$set(t.query,"queryItem69",e)},expression:"query.queryItem69"}})],1)]),t._v(" "),a("Col",{attrs:{span:"5"}},[a("div",[t._v("销售编码:")]),t._v(" "),a("div",[a("Input",{model:{value:t.query.queryItem79,callback:function(e){t.$set(t.query,"queryItem79",e)},expression:"query.queryItem79"}})],1)]),t._v(" "),a("Col",{attrs:{span:"5"}},[a("div",[t._v("商品类型:")]),t._v(" "),a("div",[a("Select",{model:{value:t.query.itemType,callback:function(e){t.$set(t.query,"itemType",e)},expression:"query.itemType"}},[a("Option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),a("Option",{attrs:{value:"1"}},[t._v("常规装")]),t._v(" "),a("Option",{attrs:{value:"2"}},[t._v("促销装")]),t._v(" "),a("Option",{attrs:{value:"3"}},[t._v("赠品/非单卖品")]),t._v(" "),a("Option",{attrs:{value:"4"}},[t._v("广宣品")])],1)],1)]),t._v(" "),a("Col",{attrs:{span:"4"}},[a("div",[t._v(" ")]),t._v(" "),a("Button",{attrs:{type:"primary"},on:{click:function(e){t.search()}}},[t._v("查询")])],1)],1),t._v(" "),a("Row",[a("Table",{ref:"goodsTable",attrs:{columns:t.dataColumns(),data:t.dataSource,"highlight-row":t.edit},on:{"on-current-change":t.handleCurrentChange}})],1),t._v(" "),a("Row",[a("Page",{staticStyle:{float:"right","margin-top":"20px"},attrs:{"page-size":5,current:t.query.page,total:t.total},on:{"update:current":function(e){t.$set(t.query,"page",e)},"on-change":t.queryList}})],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[0==t.edit?a("Button",{attrs:{type:"primary"},on:{click:function(e){t.add()}}},[t._v("添加")]):t._e(),t._v(" "),0==t.edit?a("Button",{on:{click:function(e){t.addAndClose()}}},[t._v("添加并关闭")]):t._e(),t._v(" "),t.edit?a("Button",{on:{click:function(e){t.editGoods()}}},[t._v("确认")]):t._e()],1)],1)},n=[];r._withStripped=!0;var i={render:r,staticRenderFns:n};e.default=i},1468:function(t,e,a){var r=a(1469);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(43)("f3f85fb2",r,!1,{})},1469:function(t,e,a){e=t.exports=a(42)(!1),e.push([t.i,"\n.item[data-v-43ed94aa]{\r\n    line-height: 24px;\r\n    margin-top: 10px;\n}\n.label[data-v-43ed94aa]{\r\n    display: inline-block;\r\n    width: 80px;\r\n    text-align: left;\n}\r\n",""])},1470:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{position:"absolute"}},[a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[t._v("收货人地址")]),t._v(" "),a("i-select",{style:t.inputStyles,attrs:{loading:t.shengLoading,disabled:t.shengDisable,"label-in-value":!0},on:{"on-change":t.selectShengHandle},model:{value:t.shengNum,callback:function(e){t.shengNum=e},expression:"shengNum"}},[a("i-option",{attrs:{value:t.initAddrCode,label:"请选择省份"}}),t._v(" "),t._l(t.sheng,function(e){return a("i-option",{key:e.code,attrs:{value:e.code}},[t._v(t._s(e.name))])})],2)],1),t._v(" "),a("div",{staticClass:"item"},[a("span",{staticClass:"label"}),t._v(" "),a("i-select",{style:t.inputStyles,attrs:{loading:t.shiLoading,disabled:t.shiDisable,"label-in-value":!0},on:{"on-change":t.selectShiHandle},model:{value:t.shiNum,callback:function(e){t.shiNum=e},expression:"shiNum"}},[a("i-option",{attrs:{value:t.initAddrCode,label:"请选择市"}}),t._v(" "),t._l(t.shi,function(e){return a("i-option",{key:e.code,attrs:{value:e.code}},[t._v(t._s(e.name))])})],2)],1),t._v(" "),a("div",{staticClass:"item"},[a("span",{staticClass:"label"}),t._v(" "),a("i-select",{style:t.inputStyles,attrs:{loading:t.quLoading,disabled:t.quDisable,"label-in-value":!0},on:{"on-change":t.selectQuHandle},model:{value:t.quNum,callback:function(e){t.quNum=e},expression:"quNum"}},[a("i-option",{attrs:{value:t.initAddrCode,label:"请选择区"}}),t._v(" "),t._l(t.qu,function(e){return a("i-option",{key:e.code,attrs:{value:e.code}},[t._v(t._s(e.name))])})],2)],1)])},n=[];r._withStripped=!0;var i={render:r,staticRenderFns:n};e.default=i},1761:function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(241),i=r(n),o=a(146),s=r(o),l=a(242),u=r(l),d=a(65),c=r(d),p=a(898),m=a(610),h=r(m),v=a(609),f=r(v),g=a(617),_=r(g),b=a(615),N=r(b),y=a(616),C=r(y),x=a(622),w=r(x),k=a(239);e.default={components:{storeSelectModal:h.default,operatorSelectModal:f.default,goodsSelectModal:_.default,orderOutbound:N.default,orderSign:C.default,addrSel:w.default},data:function(){return{apiGroup:this.$util.apiConfig.traderManage.orderManage,step:-1,btnGroupVisible:!1,editType:"new",amountType:!1,params:{sourceOrderNo:"",sourceChannel:"",deliverTime:"",remark:"",updateTime:"",storeName:"",storeCode:"",operatePerson:"",operateCode:"",receiverMobile:"",receiverName:"",detailAddress:"",provinceName:"",cityName:"",areaName:"",fullAddress:"",carNo:"",carCode:"",driverName:"",driverCode:"",driverContact:"",carLoad:"",carCapacity:"",orderNo:"",couponAmount:"",shouldPayAmount:"",itemToalAmount:""},storeNameAto:"",carNoAto:"",storeModalVisible:!1,storeOptions:[],empModalVisible:!1,empOptions:[],empNameSelected:"",goodsData:[],goodsModalVisible:!1,editRow:{rowType:"edit",queryText:""},totalActualAmountSum:"0.00",totalCarNum:0,totalEaNum:0,goodsInfoAto:"",goodsOptions:[],carOptions:[],checkOrderModalVisible:!1,orderCheck:1,cancelOrderVisible:!1,cancelOrderText:"",btnDisable:!1,tickList:[],orderTimeline:[],outboundModalVisible:!1,orderSignModalVisible:!1,saveBtnDisabled:!1,orderMain:{},hideExtra:!1,orderTemplate:!1,editGoods:!1,editGoodsIdx:0,goodsSelectAtoTime:0,receiverAddr:{shengNum:"",shiNum:"",quNum:"",shengValue:"",shiValue:"",quValue:""}}},computed:{eaCarNum:function(){var t=this,e=0,a=0;return this.goodsData.forEach(function(r){var n=0,i=0,o="";2==t.orderMain.orderStatus?o=t.formatEaNum(r.auditEaNum,r.packageNum,!0):5==t.orderMain.orderStatus||9==t.orderMain.orderStatus?o=t.formatEaNum(r.outEaNum,r.packageNum,!0):7==t.orderMain.orderStatus?o=t.formatEaNum(r.signEaNum,r.packageNum,!0):(n=Number(r.CRTItemNum)||0,i=Number(r.EAItemNum)||0),o&&(n=Number(o.split("/")[0]),i=Number(o.split("/")[1])),isNaN(n)&&(n=0),isNaN(i)&&(i=0),e+=n,a+=i}),e+"/"+a},createDate:function(){return"view"==this.editType?this.orderMain.orderTime?this.orderMain.orderTime:"":"edit"==this.editType&&this.$route.query.orderId?this.orderMain.orderTime?this.orderMain.orderTime:"":(0,p.formatDate)(new Date,"yyyy-MM-DD")},cancelBtnVisible:function(){return"1"!=this.params.sourceChannel&&1==this.orderMain.orderStatus},formatOrderTimeline:function(){for(var t=[],e=0;e<this.orderTimeline.length;e++){var a=this.orderTimeline[e],r=new Date(a.timeset),n=(0,p.formatDate)(r,"yyyy-MM-DD hh:mm:ss"),i=n.split(" ")[0],o=n.split(" ")[1],s="周";switch(r.getDay()){case 0:s+="日";break;case 1:s+="一";break;case 2:s+="二";break;case 3:s+="三";break;case 4:s+="四";break;case 5:s+="五";break;case 6:s+="六"}var l={timeset:a.timeset,dateStr:i,timeStr:o,dayStr:s,text:a.text};t.push(l)}return t.sort(function(t,e){return e.timeset-t.timeset})},receiverTotalAddress:function(){return[this.params.provinceName||"",this.params.cityName||"",this.params.areaName||"",this.params.detailAddress||""].join(" ")}},mounted:function(){this.inited(this.$route)},watch:{$route:function(t,e){this.inited(t),setTimeout(function(t){return window.location.reload()})}},methods:{checkPreviewTemplate:function(){var t=this,e={page:1,rows:10,order:"status desc, create_date desc"};t.$util.ajax({method:"post",url:t.$util.apiConfig.traderManage.productManage.printTemplateListUrl,data:e}).then(function(e){200===e.data.code?(t.totalCount=e.data.result.totalCount,e.data.result.records.forEach(function(e){1===e.printType&&1===e.status&&(t.orderTemplate=!0)})):console.log("失败信息：",e)}).catch(function(t){console.log("失败信息：",t)})},checkPreview:function(){var t=this;if(!1===t.orderTemplate)return void t.$Message.warning("请先设置打印模板")},preview:function(){for(var t=this,e=null,a=[],r=0;r<this.goodsData.length;r++)a.push(this.goodsData[r].remark);if(!1===t.orderTemplate)return document.getElementById("order-print-id").removeAttribute("href"),void document.getElementById("order-print-id").removeAttribute("target");e={printType:1,orderIds:[t.$route.query.orderId],remark:a},sessionStorage.setItem("printOrder",(0,c.default)(e));var n=window.location.href,i=n.split("#");document.getElementById("order-print-id").setAttribute("href",i[0]+"#/print-preview"),document.getElementById("order-print-id").setAttribute("target","_blank")},inited:function(t){this.checkPreviewTemplate(),this.step=-1;for(var e in this.params)this.params[e]="";this.totalActualAmountSum="0.00",this.totalCarNum=0,this.totalEaNum=0,this.hideExtra=!1,this.goodsData=[],this.amountType=!1,this.editType="view",this.btnGroupVisible=!0,this.saveBtnDisabled=!0,t.query.orderId&&this.getOrderDeail(t.query.orderId)},getOrderDeail:function(){function t(t){return e.apply(this,arguments)}var e=(0,u.default)(i.default.mark(function t(e){var a,r,n,o,l,d,c,m,h=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.saveBtnDisabled=!0,t.prev=1,t.next=4,this.$ajax(this.apiGroup.getDetailUrl+"?orderId="+e);case 4:if(a=t.sent,r=a.data,200!=r.code||!r.result||null===r.result){t.next=55;break}if(this.saveBtnDisabled=!1,n=r.result.tradeOrder,r.result.deliveryCarBill&&r.result.deliveryCarBill instanceof Object&&(o=r.result.deliveryCarBill,this.carNoAto=this.null2EmptyString(o.carPlateNo),this.params.carCode=this.null2EmptyString(o.carCode),this.params.driverName=this.null2EmptyString(o.driverName),this.params.driverCode=this.null2EmptyString(o.driverCode),this.params.driverContact=this.null2EmptyString(o.driverContact),setTimeout(function(t){h.params.carNo=h.carNoAto,h.params.carLoad=h.null2EmptyString(o.totalWeight),h.params.carCapacity=h.null2EmptyString(o.totalVolume)})),r.result.coupons&&r.result.coupons instanceof Array&&(l=r.result.coupons,this.tickList=l.map(function(t){return{name:t.couponname,code:t.couponcode}})),r.result.tradeOrderLogList&&r.result.tradeOrderLogList instanceof Array&&(d=r.result.tradeOrderLogList,this.orderTimeline=d.map(function(t){var e="";switch(t.cityName&&(e+="【"+t.cityName+"】"),Number(t.type)){case 1:e+="订单创建/修改";break;case 2:e+="订单审核（拣货）";break;case 3:e+="订单出库（发货）";break;case 4:e+="订单签收";break;case 5:e+="订单取消";break;case 6:e+="已完成";break;case 7:e+="已关闭";break;case 8:e+="订单撤单";break;default:e+="未知订单状态"}return{timeset:t.createDate,text:e}})),!n||null===n){t.next=55;break}if(this.totalCarNum=0,this.totalEaNum=0,n.orderItems instanceof Array&&(this.goodsData=n.orderItems.map(function(t){h.totalCarNum+=Number(t.crtitemNum),h.totalEaNum+=Number(t.eaitemNum);var e=h.null2EmptyString(t.itemActualAmount,0),a=h.null2EmptyString(t.itemAmount,0);return 11==t.promotionType&&!isNaN(t.packageNum)&&t.packageNum>0&&(e=t.itemActualAmount*t.packageNum),(0,s.default)({},t,{remark:t.remark,EAItemNum:h.null2EmptyString(t.eaitemNum,0),CRTItemNum:h.null2EmptyString(t.crtitemNum,0),itemActualAmount:e,itemAmount:a,promotionCode:t.promotionCode||"",promotionId:t.promotionId||"",promotionTitle:t.promotionTitle||"",itemType:t.itemType||"",itemTypeFlag:t.itemTypeFlag||0,inventory:0})}),this.goodsData.forEach(function(){var t=(0,u.default)(i.default.mark(function t(e){var a,r,n,o,s,l;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.$ajax(h.apiGroup.warehouseStock+"?materialCode79="+e.item79);case 3:a=t.sent,r=a.data,200==r.code&&r.result.resultList instanceof Array&&r.result.resultList.length>0&&(n=0,o=r.result.resultList[0].validNum,s=r.result.resultList[0].validBoxNum,l=r.result.resultList[0].validSingleNum,isNaN(o)&&(o=0),isNaN(s)&&(s=0),isNaN(l)&&(l=0),n=o,e.inventory=n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}},t,h,[[0,8]])}));return function(e){return t.apply(this,arguments)}}())),!(n.orderMain instanceof Object)){t.next=55;break}c=n.orderMain,c.deliverTime&&null!==c.deliverTime&&(c.deliverTime=(0,p.formatDate)(new Date(c.deliverTime),"yyyy-MM-DD")),c.updateTime&&null!==c.updateTime&&(c.updateTime=(0,p.formatDate)(new Date(c.updateTime),"yyyy-MM-DD")),c.orderTime&&null!==c.orderTime&&(c.orderTime=(0,p.formatDate)(new Date(c.orderTime),"yyyy-MM-DD")),this.orderMain=(0,s.default)({},c),isNaN(Number(c.itemToalAmount))||(this.totalActualAmountSum=Number(c.itemToalAmount).toFixed(2));for(m in this.params)(c[m]||0===Number(c[m]))&&(this.params[m]=c[m]);if(this.params.carNo=c.carPlateNo,this.params.carLoad=c.totalWeight,this.params.carCapacity=c.totalVolume,this.params.operatePerson=c.createPersonName,this.params.operateCode=c.createPerson,this.empNameSelected=c.createPersonName,this.params.sourceOrderNo=c.sourceOrderNo,this.params.sourceChannel=this.null2EmptyString(this.params.sourceChannel).toString(),this.storeNameAto=c.storeName,"copy"!=this.editType){t.next=40;break}return this.params.orderNo="",this.orderMain.orderStatus=-1,this.tickList=[],this.orderTimeline=[],t.abrupt("return");case 40:t.t0=Number(c.orderStatus),t.next=1===t.t0?43:2===t.t0?45:5===t.t0?47:7===t.t0?49:9===t.t0?51:53;break;case 43:return this.step=2,t.abrupt("break",54);case 45:return this.step=3,t.abrupt("break",54);case 47:return this.step=4,t.abrupt("break",54);case 49:return this.step=5,t.abrupt("break",54);case 51:return this.step=4,t.abrupt("break",54);case 53:this.step=-1;case 54:this.initAddr();case 55:t.next=60;break;case 57:t.prev=57,t.t1=t.catch(1),console.error(t.t1);case 60:case"end":return t.stop()}},t,this,[[1,57]])}));return t}(),orderOrigin:function(t){if("copy"!==this.editType&&this.orderMain.tradeSourcePlatform&&null!==this.orderMain.tradeSourcePlatform)return this.orderMain.tradeSourcePlatform;switch(Number(t)){case 1:return"DMS";case 2:return"SFA";case 3:return"O2O";case 4:return"SFA";case 6:return"PDA";default:return""}},orderStatusText:function(t){switch(Number(t)){case 1:return"待审核";case 2:return"待发货";case 5:return"待收货(部分出库)";case 6:return"已取消";case 7:return"已签收";case 9:return"待收货(全部出库)";case 8:return"已关闭";default:return""}},handleBuyerClick:function(){"view"!=this.editType&&(this.storeModalVisible=!0)},handleStoreSelected:function(t){this.params.storeCode=t.storeCode,this.params.storeName=t.storeName,this.storeNameAto=t.storeName,this.params.provinceName=t.provinceName,this.params.cityName=t.cityName,this.params.areaName=t.countyName,this.params.detailAddress=t.addressDetail,this.params.receiverName=t.storeOwnerName,this.params.receiverMobile=t.phone,this.setOperatePerson(t.storeCode);for(var e=0;e<this.goodsData.length;e++){var a=!1;if(3==this.goodsData[e].promotionType||1==this.goodsData[e].promotionType){for(var r=0;r<this.goodsData.length;r++)if(this.goodsData[e].item79==this.goodsData[r].item79&&e!==r){this.goodsData.splice(e,1),e--,a=!0;break}if(a)continue}}this.sumUp(),this.getItemsLinkPromotion(t.storeCode),this.initAddr()},setOperatePerson:function(){function t(t){return e.apply(this,arguments)}var e=(0,u.default)(i.default.mark(function t(e){var a,r,n;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.params.operatePerson="",this.params.operateCode="",t.prev=2,t.next=5,this.$ajax.post(this.apiGroup.queryEmpUrl,k.stringify({storeCode:e,currentPage:1}));case 5:a=t.sent,r=a.data,r.page&&(n=r.page.records)instanceof Array&&n.length>0&&(this.params.operateCode=n[0].empCode,this.params.operatePerson=n[0].empName,this.empNameSelected=n[0].empName),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.error(t.t0);case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return t}(),handleEmpClick:function(){"view"!=this.editType&&(this.empModalVisible=!0)},handleEmpSelected:function(t){var e=t.empName,a=t.empCode;this.params.operatePerson=e,this.empNameSelected=e,this.params.operateCode=a},handleGoodsClick:function(t){if("view"!=this.editType){if(!this.params.storeCode)return this.$Message.warning("未选择买家");"number"==typeof t?(this.editGoods=!0,this.editGoodsIdx=t):this.editGoods=!1,this.goodsModalVisible=!0}},handleGoodsSelected:function(t,e){var a=this;if(t.length<=0)return this.$Modal.warning({content:"未选择商品"});for(var r=!1,n=[],i=t.concat(),o=[],s=[],l=0;l<i.length;l++){(function(t){0!=i[t].changeUnitRate&&null!=i[t].changeUnitRate&&i[t].changeUnitRate||(n.push(i[t].itemName),r=!0);var e=a.goodsData.filter(function(e){return e.item79==i[t].code79}),u=!1,d=!1,c=!1;e.forEach(function(t){1==t.promotionType&&(u=!0),3==t.promotionType&&(d=!0),""!=t.promotionType&&null!=t.promotionType||(c=!0)});var p=i[t];if(p.promotionList.onSale&&!d&&!c){s.push("商品 "+p.itemName+" 特价促销命中");var m=p.promotionList.onSale;p.promotionType=m.promotionType,p.promotionId=m.promotionId,p.promotionCode=m.promotionCode,p.promotionTitle=m.promotionTitle;var h=p.changeUnitRate*m.discountPrice;return p.realMarketPrice=h.toFixed(2),"continue"}if(!c&&!d&&p.promotionList.main)return p.promotionType="",p.promotionId="",p.promotionCode="",p.promotionTitle="",p.itemComments="","continue";if(p.promotionList.gift&&!u){s.push("商品 "+p.itemName+" 已成功添加为赠品");var v=p.promotionList.gift;return p.promotionType=v.promotionType,p.promotionId=v.promotionId,p.promotionCode=v.promotionCode,p.promotionTitle=v.promotionTitle,p.realMarketPrice=0,"continue"}if(!c&&!d){if(!u)return p.promotionType="",p.promotionId="",p.promotionCode="",p.promotionTitle="",p.itemComments="","continue";if(p.promotionList.main)return p.promotionType="",p.promotionId="",p.promotionCode="",p.promotionTitle="",p.itemComments="","continue"}o.push("商品 "+p.itemName+" 不允许重复添加"),i.splice(t,1),t--,l=t})(l)}if(r)return this.$Modal.error({content:"商品 "+n.join(" ")+" 转化系数异常或未设置"});if(o.length>0){var u=o.join("<br/>");return void this.$Modal.warning({content:u,width:600})}if(s.length>0){var d=s.join("<br/>");this.$Modal.success({content:d,width:400})}this.editGoods?(this.goodsData[this.editGoodsIdx]=this.formatGoodsSelected(i)[0],this.editGoods=!1):this.goodsData=this.goodsData.concat(this.formatGoodsSelected(i)),e&&this.$Message.success("商品添加成功"),this.sumUp()},handleStoreNameSearch:function(){function t(){return e.apply(this,arguments)}var e=(0,u.default)(i.default.mark(function t(){var e,a;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.storeNameAto&&!(this.storeNameAto.length<1)){t.next=2;break}return t.abrupt("return",this.storeOptions=[]);case 2:return t.prev=2,t.next=5,this.$ajax.post(this.apiGroup.queryStoresUrl,k.stringify({storeName:this.storeNameAto,currentPage:1}));case 5:e=t.sent,a=e.data,a.records instanceof Array&&(this.storeOptions=a.records),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.error(t.t0);case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return t}(),handleStoreNameSelect:function(t){var e=this;if(t){var a=t.split(" && ")[1];if(a){var r=t.split(" && ")[0];this.storeOptions.forEach(function(t){t.storeCode==a&&e.handleStoreSelected((0,s.default)({},t)),setTimeout(function(t){return e.storeNameAto=r})})}}},handleEmpNameSearch:function(t){var e=this;setTimeout(function(){var t=(0,u.default)(i.default.mark(function t(a){var r,n;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$ajax.post(e.apiGroup.queryEmpUrl,k.stringify({empName:e.params.operatePerson,storeCode:e.params.storeCode,currentPage:1}));case 3:r=t.sent,n=r.data,n.page.records instanceof Array&&(e.empOptions=n.page.records),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,e,[[0,8]])}));return function(e){return t.apply(this,arguments)}}())},handleEmpAtoSelect:function(t){this.handleEmpSelected(t)},handleGoodsAtoSearch:function(){function t(){return e.apply(this,arguments)}var e=(0,u.default)(i.default.mark(function t(){var e,a,r,n,o,l,u,d,c,p;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.goodsInfoAto&&!(this.goodsInfoAto.trim().length<2)){t.next=2;break}return t.abrupt("return");case 2:if(this.params.storeCode){t.next=4;break}return t.abrupt("return",this.$Message.warning("请先选择买家信息"));case 4:return e=[],a=[],t.prev=6,this.goodsSelectAtoTime++,r=this.goodsSelectAtoTime,t.next=11,this.$ajax.post(this.apiGroup.orderItemssurUrl+"?number="+Math.random(),k.stringify({rows:999,key:this.goodsInfoAto,storecode:this.params.storeCode}));case 11:if(n=t.sent,o=n.data,200!=o.code){t.next=18;break}if(r===this.goodsSelectAtoTime){t.next=16;break}return t.abrupt("return");case 16:l=o.result.pager,l.records instanceof Array&&(e=l.records.map(function(t){a.push(t.code79);var e=parseFloat(t.marketPrice).toFixed(2);isNaN(e)&&(e="0.00");var r=t.inventory,n=t.changeUnitRate,i="0/0";return 0!=r&&0!=n&&(i=parseInt(r/n)+"/"+r%n),(0,s.default)({},t,{validNum:i,marketPrice:e,realMarketPrice:e,carNum:0,eaNum:0,itemComments:"",promotionList:{}})}));case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(6),console.error(t.t0);case 23:return t.prev=23,t.next=26,this.$ajax.post(this.apiGroup.itemsLinkPromotionExtends+"?number="+Math.random(),k.stringify({items79:a.join(","),storecode:this.params.storeCode}));case 26:if(u=t.sent,!((d=u.data)instanceof Array)){t.next=42;break}c=0;case 30:if(!(c<d.length)){t.next=42;break}p=0;case 32:if(!(p<e.length)){t.next=39;break}if(e[p].code79!=d[c].code79){t.next=36;break}return 1!=d[c].promotionType&&3!=d[c].promotionType||(1==d[c].promotionType&&2==d[c].type&&(e[p].promotionList.gift=(0,s.default)({},d[c])),1==d[c].promotionType&&1==d[c].type&&(e[p].promotionList.main=(0,s.default)({},d[c])),3==d[c].promotionType&&(e[p].promotionList.onSale=(0,s.default)({},d[c]))),t.abrupt("break",39);case 36:p++,t.next=32;break;case 39:c++,t.next=30;break;case 42:this.goodsOptions=e.concat(),t.next=48;break;case 45:t.prev=45,t.t1=t.catch(23),console.error(t.t1);case 48:case"end":return t.stop()}},t,this,[[6,20],[23,45]])}));return t}(),handleGoodsAtoSelect:function(t){if(t){var e=t.split(" ")[0];e--;var a=(0,s.default)({},this.goodsOptions[Number(e)]);this.editGoods=!1,this.setStock(a)}},setStock:function(){function t(t){return e.apply(this,arguments)}var e=(0,u.default)(i.default.mark(function t(e){var a,r,n,o,s,l;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$ajax(this.apiGroup.warehouseStock+"?materialCode79="+e.code79);case 3:a=t.sent,r=a.data,200==r.code&&r.result.resultList instanceof Array&&r.result.resultList.length>0&&(n=0,o=r.result.resultList[0].validNum,s=r.result.resultList[0].validBoxNum,l=r.result.resultList[0].validSingleNum,isNaN(o)&&(o=0),isNaN(s)&&(s=0),isNaN(l)&&(l=0),n=o,e.inventory=n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:this.goodsInfoAto="",this.handleGoodsSelected([e]);case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return t}(),promotionText:function(t){if(t.giftItemId)return"赠品";switch(t.promotionType){case 1:return"买赠";case 2:return"返利";case 3:return"特价";case 4:return"组合";default:return"商品"}},getItemsLinkPromotion:function(){function t(t){return e.apply(this,arguments)}var e=(0,u.default)(i.default.mark(function t(e){var a,r,n,o,s,l,u,d,c,p,m;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=!1,r=this.goodsData.map(function(t){return t.item79}),t.next=5,this.$ajax.post(this.apiGroup.itemsLinkPromotionExtends+"?number="+Math.random(),k.stringify({items79:r.join(","),storecode:e}));case 5:if(n=t.sent,o=n.data,this.goodsData.forEach(function(t){t.promotionType="",t.promotionId="",t.promotionCode="",t.promotionTitle="",t.itemComments=""}),!(o instanceof Array&&o.length>0)){t.next=32;break}s=0;case 10:if(!(s<this.goodsData.length)){t.next=29;break}for(l={},u=this.goodsData[s],d=0;d<o.length;d++)u.item79==o[d].code79&&(1==o[d].promotionType&&2==o[d].type&&(l.gift=o[d]),1==o[d].promotionType&&1==o[d].type&&(l.main=o[d]),3==o[d].promotionType&&(l.onSale=o[d]));if(!l.onSale){t.next=25;break}return a=!0,c=l.onSale,u.promotionType=c.promotionType,u.promotionId=c.promotionId,u.promotionCode=c.promotionCode,u.promotionTitle=c.promotionTitle,p=u.packageNum*c.discountPrice,u.itemActualAmount=p.toFixed(2),u.itemTotalActualAmount=this.totalActualAmount(u.CRTItemNum,u.EAItemNum,u.itemActualAmount,u.packageNum),t.abrupt("continue",26);case 25:l.gift&&(a=!0,m=l.gift,u.promotionType=m.promotionType,u.promotionId=m.promotionId,u.promotionCode=m.promotionCode,u.promotionTitle=m.promotionTitle,u.itemActualAmount=0);case 26:s++,t.next=10;break;case 29:this.goodsData=this.goodsData.concat(),this.sumUp(),a&&this.$Modal.success({content:"促销命中"});case 32:t.next=37;break;case 34:t.prev=34,t.t0=t.catch(0),console.error(t.t0);case 37:case"end":return t.stop()}},t,this,[[0,34]])}));return t}(),formatGoodsSelected:function(t){var e=this;return t.map(function(t){var a=null==t.spuShortName?"":t.spuShortName,r=null==t.changeUnit?"":t.changeUnit,n="0.00",i="0.00",o=t.promotionType||"";return n=t.realMarketPrice,i=e.totalActualAmount(t.carNum,t.eaNum,t.realMarketPrice,t.changeUnitRate),{skuDesc:a,EAItemUnit:r,CRTItemUnit:t.baseUnit,itemId:t.itemId,itemName:t.itemName,shortName:a,item69:t.code69,item79:t.code79,item80:t.code80,promotionType:o,promotionCode:t.promotionCode||"",promotionId:t.promotionId||"",promotionTitle:t.promotionTitle||"",itemType:t.itemType||"",itemTypeFlag:t.itemPromotionFlag||0,packageNum:t.changeUnitRate,itemAmount:t.marketPrice,itemActualAmount:n,CRTItemNum:t.carNum,EAItemNum:t.eaNum,itemTotalActualAmount:i,itemComments:t.itemComments,itemCapacity:t.volume,itemWeight:t.suttleWeight,itemCrossWeight:t.grossWeight,inventory:t.inventory}})},eaItemActualAmount:function(t){var e=t.itemActualAmount/t.packageNum;return e.toString().split(".").length>1&&e.toString().split(".")[1].length>2&&(e=e.toFixed(2)),e},inputNumChange:function(t,e,a,r){var n=event.target.value;n=n.replace(/[^\d.]/g,""),n=n.replace(/^\./g,""),n=n.replace(/\.{2,}/g,"."),n=n.replace(".","$#$").replace(/\./g,"").replace("$#$","."),n=n.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3");var i=n;setTimeout(function(e){return t.target.value=i}),r&&(n*=a.packageNum),"CRTItemNum"==e||"EAItemNum"==e?(parseInt(n).toString().length!==n.toString().length&&(n=parseInt(n),isNaN(n)&&(n=0),setTimeout(function(e){return t.target.value=n})),a[e]=parseInt(n)):a[e]=n,a.itemTotalActualAmount=this.totalActualAmount(a.CRTItemNum,a.EAItemNum,a.itemActualAmount,a.packageNum),this.sumUp()},totalActualAmount:function(t,e,a,r){return null==r||0==r?"0.00":(parseInt(t)*Number(a).toFixed(2)+parseInt(e)*a/r).toFixed(2)},deleteGoods:function(t){this.goodsData.splice(t,1),this.sumUp()},sumUp:function(){var t=this,e=0;this.totalCarNum=0,this.totalEaNum=0,this.goodsData.forEach(function(a){e+=Number(a.itemTotalActualAmount),t.totalCarNum+=Number(a.CRTItemNum),t.totalEaNum+=Number(a.EAItemNum)}),this.totalActualAmountSum=e.toFixed(2),this.params.shouldPayAmount=this.totalActualAmountSum-this.params.couponAmount},inventory:function(t){var e=0,a=0,r=t.packageNum,n=Number(t.inventory);return isNaN(n)||(e=parseInt(n/r)||0,a=n%r||0),r&&null!=r?e+"/"+a:"0/0"},formatEaNum:function(t,e,a){var r=0,n=0;return isNaN(t)||(r=parseInt(t/e)||0,n=t%e||0),e&&null!=e?r+"/"+n=="0/0"?a?"0/0":"":r+"/"+n:a?"0/0":""},overLimit:function(t){return t.CRTItemNum*t.packageNum+t.EAItemNum>t.inventory?"red":""},openCheckOrder:function(){this.checkOrderModalVisible=!0},checkOrder:function(){function t(){return e.apply(this,arguments)}var e=(0,u.default)(i.default.mark(function t(){var e,a,r,n;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.btnDisable){t.next=2;break}return t.abrupt("return");case 2:if(e=this.$route.query.orderId){t.next=5;break}return t.abrupt("return",this.$Modal.warning({content:"未知订单id"}));case 5:return a=2,this.orderCheck||(a=8),this.btnDisable=!0,this.checkOrderModalVisible=!1,t.prev=9,t.next=12,this.$ajax.post(this.apiGroup.examineToOrder,k.stringify({orderId:e,orderstatus:a}));case 12:r=t.sent,n=r.data,n.success?this.$Modal.success({content:"审核操作成功",onOk:function(t){window.location.reload()}}):this.$Modal.error({content:n.errorMessages.join(",")}),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(9),console.error(t.t0),this.$Modal.error({content:"审核操作请求发送失败"});case 21:this.btnDisable=!1;case 22:case"end":return t.stop()}},t,this,[[9,17]])}));return t}(),cancelOrder:function(){function t(){return e.apply(this,arguments)}var e=(0,u.default)(i.default.mark(function t(){var e,a,r,n=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.btnDisable){t.next=2;break}return t.abrupt("return");case 2:if(e=this.$route.query.orderId){t.next=5;break}return t.abrupt("return",this.$Modal.warning({content:"未知订单id"}));case 5:if(a=this.cancelOrderText,!(a.replace(/[ ]/g,"").length<=0)){t.next=8;break}return t.abrupt("return",this.$Modal.warning({content:"备注不能为空"}));case 8:return this.btnDisable=!0,t.prev=9,t.next=12,this.$ajax.post(this.apiGroup.cancelUrl,k.stringify({orderId:e,cancelMemo:a}));case 12:r=t.sent,this.$Modal.success({content:"订单取消成功",onOk:function(t){n.$router.replace({name:"order-list",query:{status:6}})}}),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(9),console.error(t.t0),this.$Modal.error({content:"订单取消失败"});case 20:this.btnDisable=!1;case 21:case"end":return t.stop()}},t,this,[[9,16]])}));return t}(),handleCarNoSearch:function(){function t(){return e.apply(this,arguments)}var e=(0,u.default)(i.default.mark(function t(){var e,a;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$ajax.post(this.apiGroup.carNoList,k.stringify({carNo:this.carNoAto}));case 3:e=t.sent,a=e.data,200==a.code&&a.result instanceof Array&&(this.carOptions=a.result),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),this.$Message.error("车牌号列表获取失败"),console.error(t.t0);case 12:case"end":return t.stop()}},t,this,[[0,8]])}));return t}(),handleCarNoSelect:function(){function t(t){return e.apply(this,arguments)}var e=(0,u.default)(i.default.mark(function t(e){var a,r,n,o,s;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.params.carNo=e,t.prev=1,t.next=4,this.$ajax.post(this.apiGroup.getCarByCarNo,k.stringify({page:1,carPNo:e}));case 4:a=t.sent,r=a.data,200==r.code&&(n=r.result)&&null!==n&&n.cars&&null!==n.cars&&(o=n.cars,o.records instanceof Array&&o.records[0]&&(s=o.records[0],this.params.driverName=s.driverName,this.params.carLoad=s.carLoad,this.params.driverCode=s.driverCode,this.params.driverContact=s.driverContact,this.params.carCode=s.carCode,this.params.carCapacity=s.carCapacity)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0);case 12:case"end":return t.stop()}},t,this,[[1,9]])}));return t}(),saveOrder:function(){function t(){return e.apply(this,arguments)}var e=(0,u.default)(i.default.mark(function t(){var e,a,r,n,o,l,u,d,c,p,m,h,v,f,g,_,b,N,y,C,x,w,k,S,M,A,T,I=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.params,a=e.sourceOrderNo,r=e.provinceName,n=e.cityName,o=e.areaName,l=e.couponAmount,u=e.detailAddress,d=e.receiverMobile,c=e.receiverName,p=e.remark,m=e.sourceChannel,h=e.storeCode,v=e.storeName,f=e.operateCode,g=e.operatePerson,_=e.deliverTime,b=e.carNo,N=e.driverCode,y=e.driverName,C=e.carCode,x=e.driverContact,w=e.carLoad,k=e.carCapacity,null==l&&(l=0),this.empNameSelected!=g&&(f=""),S={sourceOrderNo:a,provinceName:r,cityName:n,areaName:o,couponAmount:l,detailAddress:u,fullAddress:[r,n,o,u].join("--"),itemToalAmount:this.totalActualAmountSum||"0.00",actualPayAmount:this.totalActualAmountSum||"0.00",receiverMobile:d,receiverName:c,remark:p||"",shouldPayAmount:(this.totalActualAmountSum-l).toFixed(2),sourceChannel:m,storeCode:h,storeName:v,operatePerson:g,operateCode:f,deliverTime:_,carCode:C,driverCode:N,driverName:y,driverContact:x,carPlateNo:b,totalWeight:w,totalVolume:k,tradeSourcePlatform:this.orderOrigin(m),itemsReqList:[],totalEAItemNum:0,totalCRTItemNum:0},M=!1,"edit"!=this.editType){t.next=9;break}if(S.orderId=this.$route.query.orderId,"o2o"!=this.orderOrigin(m).toLowerCase()){t.next=9;break}return t.abrupt("return",this.$Modal.error({content:"O2O订单不能修改"}));case 9:if(""!=this.params.receiverName){t.next=11;break}return t.abrupt("return",this.$Modal.error({content:"填写收货人"}));case 11:if(""!=this.params.receiverMobile){t.next=13;break}return t.abrupt("return",this.$Modal.error({content:"填写收货电话"}));case 13:if(""!=this.params.provinceName){t.next=15;break}return t.abrupt("return",this.$Modal.error({content:"请选择收货地址省份"}));case 15:if(""!=this.params.cityName){t.next=17;break}return t.abrupt("return",this.$Modal.error({content:"请选择收货地址市"}));case 17:if(""!=this.params.areaName){t.next=19;break}return t.abrupt("return",this.$Modal.error({content:"请选择收货地址区/镇"}));case 19:if(""!=this.params.detailAddress){t.next=21;break}return t.abrupt("return",this.$Modal.error({content:"请填写详细地址"}));case 21:if(S.storeCode){t.next=23;break}return t.abrupt("return",this.$Modal.warning({content:"未选择买家!"}));case 23:if(S.itemsReqList=this.goodsData.map(function(t){var e=t.itemId,a=t.itemName,r=t.skuDesc,n=t.itemType,i=t.itemTypeFlag,o=t.item69,s=t.item79,l=t.item80,u=t.EAItemUnit,d=t.CRTItemUnit,c=t.packageNum,p=t.itemAmount,m=t.itemActualAmount,h=t.EAItemNum,v=t.CRTItemNum,f=t.itemTotalActualAmount,g=t.promotionId,_=t.promotionCode,b=t.promotionType,N=t.promotionTitle,y=t.remark,C=t.itemCapacity,x=t.itemWeight,w=t.itemCrossWeight,k=(t.inventory,t.itemComments);return!isNaN(Number(h))&&h>0&&(S.totalEAItemNum+=Number(h)),!isNaN(Number(v))&&v>0&&(S.totalCRTItemNum+=Number(v)),v<=0&&h<=0&&(M=!0),11==b&&!isNaN(c)&&c>0&&(m=(m/c).toFixed(2)),{itemId:e,itemName:a,skuDesc:r,itemType:n,itemTypeFlag:i,item69:o,item79:s,item80:l,eaItemUnitCopy:u,crtItemUnitCopy:d,packageNum:c,itemAmount:p,itemActualAmount:m,eaItemNumCopy:h,crtItemNumCopy:v,itemTotalActualAmount:f,promotionId:g,promotionCode:_,promotionType:b,promotionTitle:N,itemComments:k,remark:y,itemCapacity:C,itemWeight:x,itemCrossWeight:w}}),!(S.itemsReqList.length<1)){t.next=26;break}return t.abrupt("return",this.$Modal.warning({content:"未选择商品！"}));case 26:if(!(S.totalCRTItemNum<=0&&S.totalEAItemNum<=0||M)){t.next=28;break}return t.abrupt("return",this.$Modal.warning({content:"商品数量不能为0"}));case 28:return S.itemsReqList.forEach(function(t){11===t.itemComments&&(t.promotionId="")}),this.saveBtnDisabled=!0,t.prev=30,t.next=33,this.$ajax.post(this.apiGroup.handelSubmitJson,S);case 33:if(A=t.sent,T=A.data,!T.success){t.next=38;break}return this.$Modal.success({content:"订单"+T.result+"保存成功",onOk:function(t){if("edit"===I.editType)return I.$router.replace({name:"order-detail-new",query:(0,s.default)({},I.$route.query)}),void setTimeout(function(t){return window.location.reload()});I.$router.replace({name:"order-list",query:{status:1}})}}),t.abrupt("return");case 38:t.next=43;break;case 40:t.prev=40,t.t0=t.catch(30),console.error(t.t0);case 43:this.$Modal.error({content:"订单保存失败"}),this.saveBtnDisabled=!1;case 45:case"end":return t.stop()}},t,this,[[30,40]])}));return t}(),orderOutbound:function(){if(this.isCanOutbound())return this.$Modal.warning({content:"订单商品已全部出库"});this.outboundModalVisible=!0},null2EmptyString:function(t,e){var a="";return(e||0==e)&&(a=e),t||0===t?null==t?a:t:a},isCanOutbound:function(){var t=0;return this.goodsData.forEach(function(e){var a=Number(e.outEaNum),r=Number(e.auditEaNum);(isNaN(a)||isNaN(r)||a>=r)&&t++}),t==this.goodsData.length},reloadPage:function(){window.location.reload()},orderDetailPreview:function(){var t=window.location.href;t=t.replace(this.$route.fullPath,"/print/order-detail-print-preview?orderId="+this.$route.query.orderId),window.open(t,"_blank")},addrChangeHandle:function(t){this.params.provinceName=t.shengValue,this.params.cityName=t.shiValue,this.params.areaName=t.quValue},initAddr:function(){function t(){return e.apply(this,arguments)}var e=(0,u.default)(i.default.mark(function t(){var e,a,r,n,o,s,l,u=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e={},t.next=4,this.$util.ajax.post(this.$util.apiConfig.traderManage.infoManage.storeManage.addrSelUrl,k.stringify({parentCode:0}));case 4:if(a=t.sent,r=a.data,r.forEach(function(t){t.name==u.params.provinceName&&(e.shengNum=t.code,e.shengValue=t.name)}),isNaN(e.shengNum)){t.next=13;break}return t.next=10,this.$util.ajax.post(this.$util.apiConfig.traderManage.infoManage.storeManage.addrSelUrl,k.stringify({parentCode:e.shengNum}));case 10:n=t.sent,o=n.data,o.forEach(function(t){t.name==u.params.cityName&&(e.shiNum=t.code,e.shiValue=t.name)});case 13:if(isNaN(e.shiNum)){t.next=20;break}return t.next=16,this.$util.ajax.post(this.$util.apiConfig.traderManage.infoManage.storeManage.addrSelUrl,k.stringify({parentCode:e.shiNum}));case 16:s=t.sent,l=s.data,l.forEach(function(t){t.name==u.params.areaName&&(e.quNum=t.code,e.quValue=t.name)}),this.receiverAddr=e;case 20:t.next=26;break;case 22:t.prev=22,t.t0=t.catch(0),this.$Message.error("初始化地址失败"),console.error(t.t0);case 26:case"end":return t.stop()}},t,this,[[0,22]])}));return t}()}}},2621:function(t,e,a){var r=a(2622);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(43)("2ca24ec3",r,!1,{})},2622:function(t,e,a){e=t.exports=a(42)(!1),e.push([t.i,"\n.auto-select[data-v-33078de8] {\n  position: relative;\n}\n.auto-select .extra-btn[data-v-33078de8] {\n  position: absolute;\n  right: 5px;\n  top: 2px;\n  display: inline-block;\n  background: rgba(0, 0, 0, 0);\n  height: 80%;\n  width: 20px;\n  text-align: center;\n  cursor: pointer;\n}\n.auto-select .extra-btn.hide[data-v-33078de8] {\n  cursor: default;\n}\n.operate-pannel[data-v-33078de8] {\n  overflow: hidden;\n}\n.operate-pannel .btn-group[data-v-33078de8] {\n  margin-bottom: 10px;\n  display: inline-block;\n  float: right;\n}\n.operate-pannel .btn-group > button[data-v-33078de8] {\n  background: #fff;\n}\n.steps-pannel[data-v-33078de8] {\n  background: #fff;\n  margin-bottom: 10px;\n  height: 66px;\n  overflow: hidden;\n}\n.steps-pannel .steps[data-v-33078de8] {\n  overflow: hidden;\n  padding-top: 20px;\n}\n.steps-pannel .steps > div[data-v-33078de8] {\n  width: 100%;\n}\n.steps-pannel .title[data-v-33078de8] {\n  float: left;\n  font-size: 14px;\n  line-height: 40px;\n  width: 80px;\n  text-align: center;\n}\n.pannel[data-v-33078de8] {\n  margin-bottom: 10px;\n  background: #fff;\n  padding: 10px 0;\n  line-height: 24px;\n}\n.pannel .item-row[data-v-33078de8] {\n  margin-bottom: 10px;\n}\n.pannel .item[data-v-33078de8] {\n  overflow: hidden;\n}\n.pannel .label[data-v-33078de8] {\n  float: left;\n  width: 80px;\n  text-align: left;\n}\n.pannel .content[data-v-33078de8] {\n  display: block;\n  overflow: hidden;\n}\n.base-info-pannel[data-v-33078de8] {\n  padding-left: 80px;\n  padding-right: 20px;\n  padding-bottom: 5px;\n}\n.goods-pannel .title[data-v-33078de8] {\n  line-height: 24px;\n  font-size: 14px;\n  padding-left: 8px;\n  margin-bottom: 10px;\n}\n.goods-pannel .title .amount-switch[data-v-33078de8] {\n  font-size: 12px;\n  margin-left: 300px;\n}\n.goods-pannel .table-content[data-v-33078de8] {\n  padding: 0 20px;\n}\n.third-pannel[data-v-33078de8] {\n  overflow: hidden;\n}\n.third-pannel .title[data-v-33078de8] {\n  font-size: 14px;\n  padding-left: 5px;\n  line-height: 24px;\n}\n.third-pannel .reciever-car-info[data-v-33078de8] {\n  float: left;\n  width: 400px;\n  padding: 0 20px;\n  border-right: 1px solid #ddd;\n}\n.third-pannel .pay-info[data-v-33078de8] {\n  padding-left: 20px;\n  overflow: hidden;\n}\n.third-pannel .item-list[data-v-33078de8] {\n  margin-left: 50px;\n}\n.third-pannel .item-list .item[data-v-33078de8] {\n  line-height: 24px;\n  margin-top: 10px;\n}\n.wuliu[data-v-33078de8] {\n  overflow: hidden;\n}\n.wuliu .title[data-v-33078de8] {\n  font-size: 14px;\n  padding-left: 5px;\n  line-height: 24px;\n}\n.wuliu .wuliu-info[data-v-33078de8] {\n  float: left;\n  width: 400px;\n  padding: 0 20px;\n}\n.wuliu .time-line[data-v-33078de8] {\n  border-left: 1px solid #ddd;\n  padding-left: 20px;\n  overflow: hidden;\n  height: 250px;\n  overflow-y: auto;\n  margin-right: 20px;\n}\n.wuliu .item-list[data-v-33078de8] {\n  margin-left: 50px;\n}\n.wuliu .item-list .item[data-v-33078de8] {\n  line-height: 24px;\n  margin-top: 10px;\n}\n.require[data-v-33078de8] {\n  color: red;\n}\n.custom-table[data-v-33078de8] {\n  width: 100%;\n  text-align: center;\n  line-height: 48px;\n  border: 1px solid #ddd;\n}\n.custom-table th[data-v-33078de8] {\n  color: #666;\n  background-color: #eee;\n  font-weight: normal;\n  font-size: 14px;\n  line-height: 30px;\n}\n.custom-table tr th[data-v-33078de8],\n.custom-table tr td[data-v-33078de8] {\n  border-right: 1px solid #ddd;\n  border-bottom: 1px solid #ddd;\n  box-sizing: border-box;\n  padding: 0 5px;\n}\n.custom-table tr td[data-v-33078de8] {\n  line-height: 30px;\n  font-size: 12px;\n}\n.custom-table tbody tr[data-v-33078de8]:nth-of-type(2n) {\n  background: #f5f5f5;\n}\n.custom-table tbody tr:last-of-type td[data-v-33078de8] {\n  border-bottom: none;\n}\n.goods-table .base-info[data-v-33078de8] {\n  position: relative;\n}\n.goods-table .base-info > span[data-v-33078de8] {\n  width: 100%;\n  font-size: 12px;\n  margin: 0;\n  padding: 0;\n  display: inline-block;\n  text-align: left;\n}\n.goods-table .base-info > span.title[data-v-33078de8] {\n  padding-right: 20px;\n}\n.goods-table .base-info > span.title .icon[data-v-33078de8] {\n  position: absolute;\n  right: 3px;\n  top: 3px;\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  line-height: 20px;\n  color: #fff;\n  background: #f00;\n  border-radius: 50%;\n  text-align: center;\n}\n.goods-table .base-info > span .price[data-v-33078de8] {\n  float: right;\n}\n.goods-table .append-row td[data-v-33078de8] {\n  line-height: 45px;\n}\n",""])},2623:function(t,e,a){var r=a(2624);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(43)("06377711",r,!1,{})},2624:function(t,e,a){e=t.exports=a(42)(!1),e.push([t.i,"\n.ivu-tooltip {\n  width: 100%;\n}\n.ivu-tooltip .ivu-tooltip-rel {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 100%;\n}\n.ivu-select-dropdown-list {\n  max-height: 300px;\n}\n.red {\n  color: red;\n}\n.red input {\n  color: red;\n  border-color: red;\n}\n.red .ivu-input[disabled] {\n  color: red;\n  border-color: red;\n}\n.order-detail-goods-option {\n  text-align: left;\n}\n.order-detail-goods-option > span {\n  display: inline-block;\n}\n.order-detail-goods-option > span.idx {\n  width: 30px;\n}\n.order-detail-goods-option > span.promotionType {\n  width: 40px;\n  text-align: center;\n}\n.order-detail-goods-option > span.code69 {\n  width: 90px;\n}\ndiv.order-detail-goods-option {\n  font-size: 12px;\n  padding: 0 16px;\n  padding-bottom: 5px;\n  border-bottom: 1px solid #ddd;\n}\n#auto-order-edit-goods-select .ivu-select-dropdown.ivu-auto-complete {\n  width: auto!important;\n  left: 0!important;\n}\n.ivu-select--readonly .ivu-select-selection {\n  border: none;\n  background: #fff;\n  color: #495060;\n}\n.ivu-select--readonly .ivu-select-selection .ivu-select-arrow {\n  display: none;\n}\n.ivu-select--readonly .ivu-select-selection .ivu-select-selected-value {\n  padding-left: 0;\n}\n",""])},2625:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.btnGroupVisible,expression:"btnGroupVisible"}],staticClass:"operate-pannel"},[a("div",{staticClass:"btn-group"},[a("Button",{attrs:{title:"订单详情数据打印留底"},on:{click:t.orderDetailPreview}},[t._v("页面打印")]),t._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:2==t.orderMain.orderStatus||5==t.orderMain.orderStatus||9==t.orderMain.orderStatus,expression:"orderMain.orderStatus==2||orderMain.orderStatus==5||orderMain.orderStatus==9"}],staticClass:"ivu-btn",staticStyle:{"background-color":"#fff"},attrs:{id:"order-print-id",title:"订单打印",disabled:t.btnDisable},on:{mouseover:t.preview,click:t.checkPreview}},[t.orderMain.alPrintNum&&null!==t.orderMain.alPrintNum?a("span",[t._v(t._s("已打印("+t.orderMain.alPrintNum+")"))]):a("span",[t._v("未打印")])])],1)]),t._v(" "),a("div",{staticClass:"steps-pannel"},[a("div",{staticClass:"title"},[t._v("流程")]),t._v(" "),a("div",{staticClass:"steps"},[a("Steps",{attrs:{current:t.step}},[a("Step",{attrs:{title:"订单提交"}}),t._v(" "),a("Step",{attrs:{title:"订单支付"}}),t._v(" "),a("Step",{attrs:{title:"订单审核"}}),t._v(" "),a("Step",{attrs:{title:"订单配送"}}),t._v(" "),a("Step",{attrs:{title:"订单签收"}})],1)],1)]),t._v(" "),a("div",{staticClass:"base-info-pannel pannel"},[a("span",{directives:[{name:"show",rawName:"v-show",value:0==t.editType,expression:"editType==false"}],staticStyle:{position:"absolute",left:"30px",cursor:"pointer","letter-spacing":"1px"},on:{click:function(e){t.hideExtra=!t.hideExtra}}},[a("Icon",{attrs:{type:t.hideExtra?"arrow-right-b":"arrow-down-b"}}),t._v(" "),a("span",{staticStyle:{color:"blue"}},[t._v("更多")])],1),t._v(" "),a("Row",{staticClass:"item-row",attrs:{gutter:24}},[a("Col",{attrs:{span:"8"}},[a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[t._v("买家信息"),a("span",{staticClass:"require"},[t._v("*")])]),t._v(" "),a("span",{staticClass:"content"},["view"!==t.editType?a("div",{staticClass:"auto-select"},[a("AutoComplete",{attrs:{size:"small",transfer:""},on:{"on-focus":t.handleStoreNameSearch,"on-change":t.handleStoreNameSearch,"on-select":t.handleStoreNameSelect},model:{value:t.storeNameAto,callback:function(e){t.storeNameAto=e},expression:"storeNameAto"}},t._l(t.storeOptions,function(e,r){return a("Option",{key:r,attrs:{value:e.storeName+" && "+e.storeCode}},[t._v("\n                                    "+t._s(e.storeName)+"\n                                ")])})),t._v(" "),a("span",{staticClass:"extra-btn",on:{click:t.handleBuyerClick}},[a("Icon",{attrs:{type:"ios-more"}})],1)],1):a("span",[t._v(t._s(t.params.storeName))])])])]),t._v(" "),a("Col",{attrs:{span:"8"}},[a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[t._v("业务员")]),t._v(" "),a("span",{staticClass:"content"},["view"!==t.editType?a("div",{staticClass:"auto-select"},[a("AutoComplete",{attrs:{size:"small",transfer:""},on:{"on-focus":t.handleEmpNameSearch,"on-change":t.handleEmpNameSearch},model:{value:t.params.operatePerson,callback:function(e){t.$set(t.params,"operatePerson",e)},expression:"params.operatePerson"}},t._l(t.empOptions,function(e,r){return a("Option",{key:r,attrs:{value:e.empName},nativeOn:{click:function(a){return function(a){return t.handleEmpAtoSelect(e)}()}}},[t._v("\n                                    "+t._s(e.empName)+"\n                                ")])})),t._v(" "),a("span",{staticClass:"extra-btn",on:{click:t.handleEmpClick}},[a("Icon",{attrs:{type:"ios-more"}})],1)],1):a("span",[t._v(t._s(t.params.operatePerson))])])])]),t._v(" "),a("Col",{attrs:{span:"8"}},[a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[t._v("订单金额")]),t._v(" "),a("span",{staticClass:"content"},[t._v("￥"+t._s(t.totalActualAmountSum))])])])],1),t._v(" "),a("div",{staticClass:"extra",style:{display:"view"===t.editType&&t.hideExtra?"none":"block"}},[a("Row",{staticClass:"item-row",attrs:{gutter:24}},[a("Col",{attrs:{span:"8"}},[a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[t._v("来源")]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.orderOrigin(t.params.sourceChannel)))])])]),t._v(" "),a("Col",{attrs:{span:"8"}},[a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[t._v("来源订单号")]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.params.sourceOrderNo))])])]),t._v(" "),a("Col",{attrs:{span:"8"}},[a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[t._v("订单类型"),a("span",{staticClass:"require"},[t._v("*")])]),t._v(" "),a("span",{staticClass:"content"},[a("Select",{class:{"ivu-select--readonly":"view"==t.editType},attrs:{size:"small",placeholder:"未知订单类型",disabled:"view"==t.editType||"edit"==t.editType},model:{value:t.params.sourceChannel,callback:function(e){t.$set(t.params,"sourceChannel",e)},expression:"params.sourceChannel"}},[a("Option",{attrs:{value:"1"}},[t._v("手工做单预订单")]),t._v(" "),a("Option",{attrs:{value:"2"}},[t._v("SFA预订单")]),t._v(" "),a("Option",{attrs:{value:"3"}},[t._v("O2O预订单")]),t._v(" "),a("Option",{attrs:{value:"4"}},[t._v("SFA车销订单")]),t._v(" "),a("Option",{attrs:{value:"5"}},[t._v("代配送订单")]),t._v(" "),a("Option",{attrs:{value:"6"}},[t._v("PDA车销订单")])],1)],1)])])],1),t._v(" "),a("Row",{staticClass:"item-row",attrs:{gutter:24}},[a("Col",{attrs:{span:"8"}},[a("span",{staticClass:"label"},[t._v("订单单号")]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.params.orderNo))])]),t._v(" "),a("Col",{attrs:{span:"8"}},[a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[t._v("订单状态")]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.orderStatusText(t.orderMain.orderStatus)))])])]),t._v(" "),a("Col",{attrs:{span:"8"}},[a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[t._v("买家手机")]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.params.receiverMobile))])])])],1),t._v(" "),a("Row",{staticClass:"item-row",attrs:{gutter:24}},[a("Col",{attrs:{span:"8"}},[a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[t._v("创建日期")]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.createDate))])])]),t._v(" "),a("Col",{attrs:{span:"16"}},[a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[t._v("买家备注")]),t._v(" "),a("span",{staticClass:"content"},["view"!==t.editType?a("Input",{attrs:{size:"small",maxlength:200},model:{value:t.params.remark,callback:function(e){t.$set(t.params,"remark",e)},expression:"params.remark"}}):a("Tooltip",{attrs:{placement:"bottom",content:t.params.remark}},[t._v("\n                                "+t._s(t.params.remark)+"\n                                "),a("div",{staticStyle:{"white-space":"normal"},attrs:{slot:"content"},slot:"content"},[t._v("\n                                    "+t._s(t.params.remark)+"\n                                ")])])],1)])])],1),t._v(" "),a("Row",{staticClass:"item-row",attrs:{gutter:24}},[a("Col",{attrs:{span:"8"}},[a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[t._v("应付金额")]),t._v(" "),a("span",{staticClass:"content"},[t._v("\n                            ￥"+t._s(t.params.shouldPayAmount?Number(t.params.shouldPayAmount).toFixed(2):"0.00")+"\n                        ")])])]),t._v(" "),a("Col",{attrs:{span:"8"}},[a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[t._v("商品总金额")]),t._v(" "),a("span",{staticClass:"content"},[t._v("￥"+t._s(t.totalActualAmountSum||"0.00"))])])]),t._v(" "),a("Col",{attrs:{span:"8"}},[a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[t._v("优惠金额")]),t._v(" "),a("span",{staticClass:"content"},[t._v("\n                            ￥"+t._s(t.params.couponAmount||"0.00")+"\n                        ")])])])],1),t._v(" "),a("Row",{staticClass:"item-row",attrs:{gutter:24}},[a("Col",{attrs:{span:"8"}},[a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[t._v("优惠券")]),t._v(" "),a("span",{staticClass:"content"},t._l(t.tickList,function(e,r){return a("span",{key:r,staticStyle:{float:"left"}},[a("Tag",{attrs:{color:"red"}},[t._v(t._s(e.name))]),t._v(" "),a("br"),t._v(" "),a("span",[t._v(t._s(e.code))])],1)}))])])],1)],1)],1),t._v(" "),a("div",{staticClass:"goods-pannel pannel"},[a("div",{staticClass:"title"},[a("span",[t._v("商品明细")]),t._v(" "),a("span",{staticClass:"amount-switch"},[a("span",[t._v("单价")]),t._v(" "),a("i-switch",{attrs:{size:"large"},model:{value:t.amountType,callback:function(e){t.amountType=e},expression:"amountType"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("EA")]),t._v(" "),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("CAR")])])],1)]),t._v(" "),a("div",{staticClass:"table-content"},[a("table",{staticClass:"custom-table goods-table",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[t._m(0),t._v(" "),a("thead",[a("tr",[a("th",[t._v("序号")]),t._v(" "),a("th",[t._v("商品")]),t._v(" "),a("th",[t._v("实际价格")]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),a("th",[t._v("卖进政策")]),t._v(" "),a("th",[t._v("备注")]),t._v(" "),a("th",[t._v("小计")]),t._v(" "),a("th",{directives:[{name:"show",rawName:"v-show",value:"view"!==t.editType,expression:"editType!=='view'"}]},[t._v("操作")])])]),t._v(" "),a("tbody",[t._l(t.goodsData,function(e,r){return a("tr",{key:r},[a("td",[t._v(t._s(r+1))]),t._v(" "),a("td",{staticClass:"base-info",on:{click:function(e){t.handleGoodsClick(r)}}},[a("span",{staticClass:"title"},[a("span",[t._v(t._s(e.itemName+" * "+e.packageNum))]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:1==e.promotionType,expression:"item.promotionType == 1"}],staticClass:"icon",attrs:{title:"赠品"}},[t._v("赠")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:3==e.promotionType,expression:"item.promotionType == 3"}],staticClass:"icon",attrs:{title:"特价"}},[t._v("特")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:11==e.promotionType,expression:"item.promotionType == 11"}],staticClass:"icon",attrs:{title:"组合商品"}},[t._v("组")])]),t._v(" "),a("br"),t._v(" "),a("span",[a("span",[t._v(t._s(e.item69))]),t._v(" "),a("span",{staticClass:"price"},[a("span",[t._v("￥")]),t._v(" "),t.amountType?a("span",[t._v(t._s((e.itemAmount/e.packageNum).toFixed(2)))]):a("span",[t._v(t._s(e.itemAmount))])])])]),t._v(" "),a("td",[t._v("\n                            ￥"),"view"!==t.editType?a("span",{class:{red:Number(e.itemActualAmount)!=Number(e.itemAmount)}},[t.amountType?a("Input",{staticStyle:{width:"60px","margin-left":"5px"},attrs:{value:t.eaItemActualAmount(e),size:"small",disabled:1==e.promotionType},on:{"on-change":function(a){return t.inputNumChange(a,"itemActualAmount",e,!0)}}}):a("Input",{staticStyle:{width:"60px","margin-left":"5px"},attrs:{value:e.itemActualAmount,size:"small",disabled:1==e.promotionType},on:{"on-change":function(a){return t.inputNumChange(a,"itemActualAmount",e)}}})],1):a("span",{class:{red:Number(e.itemActualAmount)!=Number(e.itemAmount)}},[t.amountType?a("span",[t._v(t._s((e.itemActualAmount/e.packageNum).toFixed(2)))]):a("span",[t._v(t._s(e.itemActualAmount))])])]),t._v(" "),a("td",[t._v(t._s(t.inventory(e)))]),t._v(" "),a("td",["view"!==t.editType?a("span",{class:t.overLimit(e)},[a("Input",{staticStyle:{width:"60px"},attrs:{size:"small",placeholder:"CAR",value:e.CRTItemNum},on:{"on-change":function(a){return t.inputNumChange(a,"CRTItemNum",e)}}}),t._v(" "),a("br"),t._v(" "),a("Input",{staticStyle:{width:"60px","margin-left":"-4px"},attrs:{size:"small",placeholder:"EA",value:e.EAItemNum},on:{"on-change":function(a){return t.inputNumChange(a,"EAItemNum",e)}}})],1):a("span",{staticStyle:{position:"relative"}},[a("Poptip",{attrs:{trigger:"hover",title:"Title",content:"content",placement:"right-start"}},[t.orderMain.orderStatus<=1?a("span",{class:t.overLimit(e),staticStyle:{cursor:"pointer"}},[t._v("\n                                        "+t._s(e.CRTItemNum+"/"+e.EAItemNum)+"\n                                    ")]):2==t.orderMain.orderStatus?a("span",{staticStyle:{cursor:"pointer"}},[t._v("\n                                        "+t._s(t.formatEaNum(e.auditEaNum,e.packageNum,!0))+"\n                                    ")]):5==t.orderMain.orderStatus?a("span",{staticStyle:{cursor:"pointer"}},[t._v("\n                                        "+t._s(t.formatEaNum(e.outEaNum,e.packageNum,!0))+"\n                                    ")]):9==t.orderMain.orderStatus?a("span",{staticStyle:{cursor:"pointer"}},[t._v("\n                                        "+t._s(t.formatEaNum(e.outEaNum,e.packageNum,!0))+"\n                                    ")]):7==t.orderMain.orderStatus?a("span",{staticStyle:{cursor:"pointer"}},[t._v("\n                                        "+t._s(t.formatEaNum(e.signEaNum,e.packageNum,!0))+"\n                                    ")]):a("span",{staticStyle:{cursor:"pointer"}},[t._v("\n                                        "+t._s(e.CRTItemNum+"/"+e.EAItemNum)+"\n                                    ")]),t._v(" "),a("div",{staticStyle:{"text-align":"left"},attrs:{slot:"title"},slot:"title"},[a("span",[a("span",[t._v("状态")]),t._v(" "),a("span",{staticStyle:{float:"right"}},[t._v("数量 CAR/EA")])])]),t._v(" "),a("div",{staticStyle:{"text-align":"left"},attrs:{slot:"content"},slot:"content"},[a("span",[a("span",[t._v("提交")]),t._v(" "),a("span",{staticStyle:{float:"right",color:"blue"}},[t._v(t._s(e.CRTItemNum+"/"+e.EAItemNum))])]),t._v(" "),a("br"),t._v(" "),a("span",[a("span",[t._v("审核")]),t._v(" "),a("span",{staticStyle:{float:"right",color:"blue"}},[t.orderMain.orderStatus<=1?a("span"):a("span",[t._v(t._s(t.formatEaNum(e.auditEaNum,e.packageNum)))])])]),t._v(" "),a("br"),t._v(" "),a("span",[a("span",[t._v("出库")]),t._v(" "),a("span",{staticStyle:{float:"right",color:"blue"}},[t._v(t._s(t.formatEaNum(e.outEaNum,e.packageNum)))])]),t._v(" "),a("br"),t._v(" "),a("span",[a("span",[t._v("签收")]),t._v(" "),a("span",{staticStyle:{float:"right",color:"blue"}},[t._v(t._s(t.formatEaNum(e.signEaNum,e.packageNum)))])])])])],1)]),t._v(" "),a("td",[a("span",[t._v(t._s(e.promotionCode))]),t._v(" "),a("br"),t._v(" "),a("span",[t._v(t._s(e.promotionTitle))])]),t._v(" "),a("td",["view"!==t.editType?a("Input",{attrs:{placeholder:"备注不能超过128字",maxlength:128},model:{value:e.remark,callback:function(a){t.$set(e,"remark",a)},expression:"item.remark"}}):a("Tooltip",{style:{width:"300px"},attrs:{transfer:!0,"max-width":"300",placement:"top",content:e.remark}},[t._v("\n                                "+t._s(e.remark)+"\n                                "),a("div",{staticStyle:{"white-space":"normal"},attrs:{slot:"content"},slot:"content"},[t._v("\n                                    "+t._s(e.remark)+"\n                                ")])])],1),t._v(" "),a("td",[t._v(t._s(e.itemTotalActualAmount))]),t._v(" "),"view"!==t.editType?a("td",[a("Icon",{staticStyle:{"font-size":"16px",cursor:"pointer"},attrs:{type:"android-delete"},on:{click:function(e){t.deleteGoods(r)}}})],1):t._e()])}),t._v(" "),"view"!==t.editType?a("tr",{staticClass:"append-row"},[a("td",[t._v(t._s(t.goodsData.length+1))]),t._v(" "),a("td",[a("div",{staticClass:"auto-select",attrs:{id:"auto-order-edit-goods-select"}},[a("AutoComplete",{attrs:{size:"small",placeholder:"请输入至少两个关键字"},on:{"on-focus":t.handleGoodsAtoSearch,"on-change":t.handleGoodsAtoSearch,"on-select":t.handleGoodsAtoSelect},model:{value:t.goodsInfoAto,callback:function(e){t.goodsInfoAto=e},expression:"goodsInfoAto"}},[a("div",{staticClass:"order-detail-goods-option"},[a("span",{staticClass:"idx"},[t._v("序号")]),t._v(" "),a("span",{staticClass:"promotionType"},[t._v("标识")]),t._v(" "),a("span",{staticClass:"code69"},[t._v("条码")]),t._v(" "),a("span",[t._v("商品名称")])]),t._v(" "),t._l(t.goodsOptions,function(e,r){return a("Option",{key:r,staticClass:"order-detail-goods-option",attrs:{value:r+1+" "+e.itemName}},[a("span",{staticClass:"idx"},[t._v(t._s(r+1))]),t._v(" "),a("span",{staticClass:"promotionType"},[t._v(t._s(t.promotionText(e)))]),t._v(" "),a("span",{staticClass:"code69"},[t._v(t._s(e.code69))]),t._v(" "),a("span",[t._v(t._s(e.itemName))])])})],2),t._v(" "),a("span",{staticClass:"extra-btn",on:{click:t.handleGoodsClick}},[a("Icon",{attrs:{type:"ios-more"}})],1)],1)]),t._v(" "),a("td",{attrs:{colspan:"7"}})]):t._e(),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left","text-indent":"12px"},attrs:{colspan:"4"}},[t._v("合计")]),t._v(" "),a("td",[t._v(t._s(t.eaCarNum))]),t._v(" "),a("td",{attrs:{colspan:"2"}}),t._v(" "),a("td",["view"==t.editType?a("span",[t._v(t._s(t.params.itemToalAmount))]):a("span",[t._v(t._s(t.totalActualAmountSum))])]),t._v(" "),"view"!==t.editType?a("td"):t._e()])],2)])])]),t._v(" "),a("div",{staticClass:"pannel third-pannel"},[a("div",{staticClass:"reciever-car-info"},[a("div",{staticClass:"title"},[t._v("收货人/车辆信息")]),t._v(" "),a("div",{staticClass:"item-list"},[a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[t._v("收货人名称")]),t._v(" "),"view"==t.editType?a("span",{staticClass:"content"},[t._v(t._s(t.params.receiverName))]):a("Input",{staticStyle:{width:"100px"},attrs:{type:"text"},model:{value:t.params.receiverName,callback:function(e){t.$set(t.params,"receiverName","string"==typeof e?e.trim():e)},expression:"params.receiverName"}})],1),t._v(" "),a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[t._v("收货人电话")]),t._v(" "),"view"==t.editType?a("span",{staticClass:"content"},[t._v(t._s(t.params.receiverMobile))]):a("Input",{staticStyle:{width:"100px"},attrs:{type:"text"},model:{value:t.params.receiverMobile,callback:function(e){t.$set(t.params,"receiverMobile","string"==typeof e?e.trim():e)},expression:"params.receiverMobile"}})],1),t._v(" "),"view"==t.editType?a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[t._v("收货人地址")]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.receiverTotalAddress))])]):t._e(),t._v(" "),"view"!=t.editType?a("div",{staticStyle:{height:"128px"}},[a("addrSel",{on:{"addr-change":t.addrChangeHandle},model:{value:t.receiverAddr,callback:function(e){t.receiverAddr=e},expression:"receiverAddr"}})],1):t._e(),t._v(" "),"view"!=t.editType?a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[t._v("地址详细")]),t._v(" "),a("Input",{staticStyle:{width:"200px"},attrs:{type:"text"},model:{value:t.params.detailAddress,callback:function(e){t.$set(t.params,"detailAddress","string"==typeof e?e.trim():e)},expression:"params.detailAddress"}})],1):t._e(),t._v(" "),a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[t._v("车牌号")]),t._v(" "),a("span",{staticClass:"content"},["view"!==t.editType?a("AutoComplete",{attrs:{size:"small",icon:"ios-more",transfer:""},on:{"on-focus":t.handleCarNoSearch,"on-change":t.handleCarNoSearch,"on-select":t.handleCarNoSelect},model:{value:t.carNoAto,callback:function(e){t.carNoAto=e},expression:"carNoAto"}},t._l(t.carOptions,function(e,r){return a("Option",{key:r,attrs:{value:e.carPlateNo}},[t._v("\n                                "+t._s(e.carPlateNo)+"\n                            ")])})):a("span",[t._v(t._s(t.params.carNo))])],1)]),t._v(" "),a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[t._v("司机")]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.params.driverName))])]),t._v(" "),a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[t._v("载重")]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.params.carLoad))])]),t._v(" "),a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[t._v("容积")]),t._v(" "),a("span",{staticClass:"content"},[t._v(t._s(t.params.carCapacity))])])])]),t._v(" "),a("div",{staticClass:"pay-info"})]),t._v(" "),a("div",{staticClass:"pannel wuliu"},[a("div",{staticClass:"wuliu-info"},[a("div",{staticClass:"title"},[t._v("物流信息")]),t._v(" "),a("div",{staticClass:"item-list"},[a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[t._v("送货日期")]),t._v(" "),a("span",{staticClass:"content"},["view"!==t.editType?a("DatePicker",{attrs:{value:t.params.deliverTime,transfer:"",size:"small"},on:{"on-change":function(e){return t.params.deliverTime=e}}}):a("span",[t._v("\n                            "+t._s(t.params.deliverTime)+"\n                        ")])],1)])])]),t._v(" "),a("div",{staticClass:"time-line"},[a("Timeline",t._l(t.formatOrderTimeline,function(e,r){return a("TimelineItem",{key:r,staticStyle:{"line-height":"18px"},attrs:{color:0==r?"red":"blue"}},[a("span",[a("span",[t._v(t._s(e.dateStr))]),t._v(" "),a("span",[t._v(t._s(e.dayStr))]),t._v(" "),a("span",[t._v(t._s(e.timeStr))]),t._v(" "),a("span",[t._v(t._s(e.text))])])])}))],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"view"!==t.editType,expression:"editType!=='view'"}],staticClass:"save-btn-group",staticStyle:{"text-align":"center"}},[a("Button",{staticStyle:{"margin-right":"50px",width:"80px"},attrs:{disabled:t.saveBtnDisabled},on:{click:function(e){t.$router.go(-1)}}},[t._v("\n            取消\n        ")])],1),t._v(" "),a("Modal",{attrs:{title:"订单审核"},model:{value:t.checkOrderModalVisible,callback:function(e){t.checkOrderModalVisible=e},expression:"checkOrderModalVisible"}},[a("div",{staticStyle:{"text-align":"center"}},[a("RadioGroup",{model:{value:t.orderCheck,callback:function(e){t.orderCheck=e},expression:"orderCheck"}},[a("Radio",{staticStyle:{"margin-right":"50px"},attrs:{label:1}},[t._v("审批通过")]),t._v(" "),a("Radio",{attrs:{label:0}},[t._v("审批不通过")])],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:function(e){t.checkOrderModalVisible=!1}}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"primary",disabled:t.btnDisable},on:{click:t.checkOrder}},[t._v("提交")])],1)]),t._v(" "),a("Modal",{attrs:{title:"取消订单"},on:{"on-ok":t.cancelOrder},model:{value:t.cancelOrderVisible,callback:function(e){t.cancelOrderVisible=e},expression:"cancelOrderVisible"}},[a("div",[a("span",[t._v("备注"),a("span",{staticClass:"require"},[t._v("*")])]),t._v(" "),a("Input",{attrs:{type:"textarea",placeholder:"备注不能超过500字",maxlength:500,rows:5},model:{value:t.cancelOrderText,callback:function(e){t.cancelOrderText=e},expression:"cancelOrderText"}})],1)]),t._v(" "),a("storeSelectModal",{attrs:{visible:t.storeModalVisible},on:{"update:visible":function(e){t.storeModalVisible=e},"on-select":t.handleStoreSelected}}),t._v(" "),a("operatorSelectModal",{attrs:{visible:t.empModalVisible,storeCode:t.params.storeCode},on:{"update:visible":function(e){t.empModalVisible=e},"on-select":t.handleEmpSelected}}),t._v(" "),a("goodsSelectModal",{attrs:{visible:t.goodsModalVisible,edit:t.editGoods,storeCode:t.params.storeCode},on:{"update:visible":function(e){t.goodsModalVisible=e},"update:edit":function(e){t.editGoods=e},"on-selected":t.handleGoodsSelected}}),t._v(" "),a("orderOutbound",{attrs:{visible:t.outboundModalVisible,orderId:t.$route.query.orderId},on:{"update:visible":function(e){t.outboundModalVisible=e},successCallback:t.reloadPage}}),t._v(" "),a("orderSign",{attrs:{visible:t.orderSignModalVisible,orderId:t.$route.query.orderId},on:{"update:visible":function(e){t.orderSignModalVisible=e},successCallback:t.reloadPage}})],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("colgroup",[a("col",{attrs:{width:"60"}}),t._v(" "),a("col",{attrs:{width:"300"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",[t._v("可用库存")]),t._v(" "),a("br"),t._v(" "),a("span",[t._v("CAR/EA")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",[t._v("数量")]),t._v(" "),a("br"),t._v(" "),a("span",[t._v("CAR/EA")])])}];r._withStripped=!0;var i={render:r,staticRenderFns:n};e.default=i},609:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(1087),n=a.n(r);for(var i in r)"default"!==i&&function(t){a.d(e,t,function(){return r[t]})}(i);var o=a(1405),s=a.n(o),l=a(13),u=l(n.a,s.a,!1,null,null,null);u.options.__file="src/views/my-components/modal-selector/operator-select-modal.vue",e.default=u.exports},610:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(1088),n=a.n(r);for(var i in r)"default"!==i&&function(t){a.d(e,t,function(){return r[t]})}(i);var o=a(1406),s=a.n(o),l=a(13),u=l(n.a,s.a,!1,null,null,null);u.options.__file="src/views/my-components/modal-selector/store-select-modal.vue",e.default=u.exports},615:function(t,e,a){"use strict";function r(t){u||a(1424)}Object.defineProperty(e,"__esModule",{value:!0});var n=a(1110),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);var s=a(1426),l=a.n(s),u=!1,d=a(13),c=r,p=d(i.a,l.a,!1,c,"data-v-0b21ec50",null);p.options.__file="src/views/trader-manage/order-manage/orderOutbound.vue",e.default=p.exports},616:function(t,e,a){"use strict";function r(t){u||a(1427)}Object.defineProperty(e,"__esModule",{value:!0});var n=a(1111),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);var s=a(1429),l=a.n(s),u=!1,d=a(13),c=r,p=d(i.a,l.a,!1,c,"data-v-47bc7625",null);p.options.__file="src/views/trader-manage/order-manage/orderSign.vue",e.default=p.exports},617:function(t,e,a){"use strict";function r(t){u||a(1446)}Object.defineProperty(e,"__esModule",{value:!0});var n=a(1407),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);var s=a(1448),l=a.n(s),u=!1,d=a(13),c=r,p=d(i.a,l.a,!1,c,"data-v-b1c97b98",null);p.options.__file="src/views/my-components/modal-selector/goods-select-modal-new.vue",e.default=p.exports},622:function(t,e,a){"use strict";function r(t){u||a(1468)}Object.defineProperty(e,"__esModule",{value:!0});var n=a(1412),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);var s=a(1470),l=a.n(s),u=!1,d=a(13),c=r,p=d(i.a,l.a,!1,c,"data-v-43ed94aa",null);p.options.__file="src/views/trader-manage/order-manage/addrsel-order-detail.vue",e.default=p.exports},871:function(t,e,a){"use strict";function r(t){u||(a(2621),a(2623))}Object.defineProperty(e,"__esModule",{value:!0});var n=a(1761),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);var s=a(2625),l=a.n(s),u=!1,d=a(13),c=r,p=d(i.a,l.a,!1,c,"data-v-33078de8",null);p.options.__file="src/views/trader-manage/order-manage/order-detail-new-undo.vue",e.default=p.exports},897:function(t,e,a){var r=a(44);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},898:function(t,e,a){"use strict";function r(t,e){if(!e)var e="yyyy-MM-DD hh:mm:ss";var a={"M+":t.getMonth()+1,"D+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var r in a)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?a[r]:("00"+a[r]).substr((""+a[r]).length)));return e}function n(t,e){if(!e)var e="yyyy-MM-dd";(t=Number(t))<1e10&&(t*=1e3);var a=new Date(t),r={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in r)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?r[n]:("00"+r[n]).substr((""+r[n]).length)));return e}Object.defineProperty(e,"__esModule",{value:!0}),e.formatDate=r,e.timestampToDay=n},909:function(t,e,a){t.exports={default:a(910),__esModule:!0}},910:function(t,e,a){a(151),a(75),a(100),a(911),a(917),a(920),a(922),t.exports=a(11).Set},911:function(t,e,a){"use strict";var r=a(912),n=a(897);t.exports=a(913)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(n(this,"Set"),t=0===t?0:t,t)}},r)},912:function(t,e,a){"use strict";var r=a(32).f,n=a(148),i=a(245),o=a(64),s=a(244),l=a(240),u=a(147),d=a(246),c=a(248),p=a(37),m=a(243).fastKey,h=a(897),v=p?"_s":"size",f=function(t,e){var a,r=m(e);if("F"!==r)return t._i[r];for(a=t._f;a;a=a.n)if(a.k==e)return a};t.exports={getConstructor:function(t,e,a,u){var d=t(function(t,r){s(t,d,e,"_i"),t._t=e,t._i=n(null),t._f=void 0,t._l=void 0,t[v]=0,void 0!=r&&l(r,a,t[u],t)});return i(d.prototype,{clear:function(){for(var t=h(this,e),a=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete a[r.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var a=h(this,e),r=f(a,t);if(r){var n=r.n,i=r.p;delete a._i[r.i],r.r=!0,i&&(i.n=n),n&&(n.p=i),a._f==r&&(a._f=n),a._l==r&&(a._l=i),a[v]--}return!!r},forEach:function(t){h(this,e);for(var a,r=o(t,arguments.length>1?arguments[1]:void 0,3);a=a?a.n:this._f;)for(r(a.v,a.k,this);a&&a.r;)a=a.p},has:function(t){return!!f(h(this,e),t)}}),p&&r(d.prototype,"size",{get:function(){return h(this,e)[v]}}),d},def:function(t,e,a){var r,n,i=f(t,e);return i?i.v=a:(t._l=i={i:n=m(e,!0),k:e,v:a,p:r=t._l,n:void 0,r:!1},t._f||(t._f=i),r&&(r.n=i),t[v]++,"F"!==n&&(t._i[n]=i)),t},getEntry:f,setStrong:function(t,e,a){u(t,e,function(t,a){this._t=h(t,e),this._k=a,this._l=void 0},function(){for(var t=this,e=t._k,a=t._l;a&&a.r;)a=a.p;return t._t&&(t._l=a=a?a.n:t._t._f)?"keys"==e?d(0,a.k):"values"==e?d(0,a.v):d(0,[a.k,a.v]):(t._t=void 0,d(1))},a?"entries":"values",!a,!0),c(e)}}},913:function(t,e,a){"use strict";var r=a(12),n=a(36),i=a(243),o=a(66),s=a(45),l=a(245),u=a(240),d=a(244),c=a(44),p=a(77),m=a(32).f,h=a(914)(0),v=a(37);t.exports=function(t,e,a,f,g,_){var b=r[t],N=b,y=g?"set":"add",C=N&&N.prototype,x={};return v&&"function"==typeof N&&(_||C.forEach&&!o(function(){(new N).entries().next()}))?(N=e(function(e,a){d(e,N,t,"_c"),e._c=new b,void 0!=a&&u(a,g,e[y],e)}),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in C&&(!_||"clear"!=t)&&s(N.prototype,t,function(a,r){if(d(this,N,t),!e&&_&&!c(a))return"get"==t&&void 0;var n=this._c[t](0===a?0:a,r);return e?this:n})}),_||m(N.prototype,"size",{get:function(){return this._c.size}})):(N=f.getConstructor(e,t,g,y),l(N.prototype,a),i.NEED=!0),p(N,t),x[t]=N,n(n.G+n.W+n.F,x),_||f.setStrong(N,t,g),N}},914:function(t,e,a){var r=a(64),n=a(149),i=a(98),o=a(99),s=a(915);t.exports=function(t,e){var a=1==t,l=2==t,u=3==t,d=4==t,c=6==t,p=5==t||c,m=e||s;return function(e,s,h){for(var v,f,g=i(e),_=n(g),b=r(s,h,3),N=o(_.length),y=0,C=a?m(e,N):l?m(e,0):void 0;N>y;y++)if((p||y in _)&&(v=_[y],f=b(v,y,g),t))if(a)C[y]=f;else if(f)switch(t){case 3:return!0;case 5:return v;case 6:return y;case 2:C.push(v)}else if(d)return!1;return c?-1:u||d?d:C}}},915:function(t,e,a){var r=a(916);t.exports=function(t,e){return new(r(t))(e)}},916:function(t,e,a){var r=a(44),n=a(247),i=a(14)("species");t.exports=function(t){var e;return n(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!n(e.prototype)||(e=void 0),r(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},917:function(t,e,a){var r=a(36);r(r.P+r.R,"Set",{toJSON:a(918)("Set")})},918:function(t,e,a){var r=a(150),n=a(919);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return n(this)}}},919:function(t,e,a){var r=a(240);t.exports=function(t,e){var a=[];return r(t,!1,a.push,a,e),a}},920:function(t,e,a){a(921)("Set")},921:function(t,e,a){"use strict";var r=a(36);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},922:function(t,e,a){a(923)("Set")},923:function(t,e,a){"use strict";var r=a(36),n=a(76),i=a(64),o=a(240);t.exports=function(t){r(r.S,t,{from:function(t){var e,a,r,s,l=arguments[1];return n(this),e=void 0!==l,e&&n(l),void 0==t?new this:(a=[],e?(r=0,s=i(l,arguments[2],2),o(t,!1,function(t){a.push(s(t,r++))})):o(t,!1,a.push,a),new this(a))}})}},984:function(t,e,a){"use strict";function r(){for(var t=void 0,e=o.size;e==o.size;){for(var a=(new Date).getTime()%1e5,r=Math.floor(1e8*Math.random()),n=Math.floor(1e9*Math.random());a<1e4;)a*=10;for(;r<1e8;)r*=10;for(;n<1e9;)n*=10;t=a.toString()+r.toString()+n.toString(),o.add(t)}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.createUniqueRandomNum24=void 0;var n=a(909),i=function(t){return t&&t.__esModule?t:{default:t}}(n),o=new i.default;e.createUniqueRandomNum24=r}});