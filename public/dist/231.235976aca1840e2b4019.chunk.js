webpackJsonp([231],{1671:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(102),r=n(i),o=a(38),s=(n(o),a(239)),l=n(s);e.default={data:function(){var t=this;return{uploadPic:"",locksave:!1,isEdit:!1,host:this.$util.baseUrl,imgSrc:window.imgSrc,queryLock:!1,selId:[],show:!1,totalCount:1,loading:!1,loading2:!0,modal1:!1,modal2:!1,saveData:[],editData3:[],columns:[{title:"品牌",align:"center",key:"brandName",width:100},{title:"品类",align:"center",key:"category",width:100},{title:"产品系列",align:"center",key:"cName",width:130},{title:"条形码",align:"center",key:"storetx",width:130},{title:"商品",align:"center",key:"commodity",width:180},{title:"原供价（件）",align:"center",key:"guidePrice",width:130},{title:"原零售价（个）",align:"center",key:"marketPrice",width:130},{title:"促销供价（件）",align:"center",key:"promotionInPrice",width:130,render:function(e,a){return e("div",[e("input",{domProps:{value:a.row.promotionInPrice},attrs:{maxlength:100},on:{input:function(e){var n=e.target.value;n=n.replace(/[^\d.]/g,""),n=n.replace(/^\./g,""),n=n.replace(/\.{2,}/g,"."),n=n.replace(".","$#$").replace(/\./g,"").replace("$#$","."),n=n.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),e.target.value=n;var i=a.row;i.promotionInPrice=n,t.data[a.index]=i}},class:{"ivu-input":!0}})])}},{title:"促销售价（个）",align:"center",key:"promotionOutPrice",width:130,render:function(e,a){return e("div",[e("input",{domProps:{value:a.row.promotionOutPrice},attrs:{maxlength:100},on:{input:function(e){var n=e.target.value;n=n.replace(/[^\d.]/g,""),n=n.replace(/^\./g,""),n=n.replace(/\.{2,}/g,"."),n=n.replace(".","$#$").replace(/\./g,"").replace("$#$","."),n=n.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),e.target.value=n;var i=a.row;i.promotionOutPrice=n,t.data[a.index]=i}},class:{"ivu-input":!0}})])}},{title:"促销形式",align:"center",key:"salesPromotion",width:120},{title:"促销说明",align:"center",key:"state",width:150,render:function(t,e){var a="";return null!==e.row.state&&(a=e.row.state.length>13?e.row.state.substring(0,15)+".....":e.row.state),t("div",[t("Tooltip",{props:{placement:"top",transfer:!0}},[a,t("div",{slot:"content",style:{whiteSpace:"normal"}},e.row.state)])])}},{title:"赠品",align:"center",width:140,key:"giftItemName",render:function(e,a){return e("div",[e("Input",{props:{value:a.row.giftItemName},attrs:{autosize:{minRows:1,maxRows:20},type:"textarea",maxlength:100},on:{"on-change":function(e){a.row.giftItemName=e.target.value,t.data[a.index]=a.row}}})])}},{title:"操作",align:"center",key:"handle",width:100,fixed:"right",render:function(e,a){return e("div",[e("Button",{props:{type:"error",size:"small"},on:{click:function(){t.removes(a.index)}}},"删除")])}}],data:[{category:"洗衣液",sort:"无残留",commodity:"立白",marketPrice:"444.00",salesPromotion:"不知道",state:"布吉岛",related:"什么鬼",hangingItem:"shenmegui"},{category:"洗衣液",sort:"无残留",commodity:"立白",marketPrice:"444.00",salesPromotion:"不知道",state:"布吉岛",related:"什么鬼",hangingItem:"shenmegui"}],columns3:[{type:"selection",align:"center",width:59},{title:"销售编码",align:"center",key:"storeNumber",width:110},{title:"条形码",align:"center",key:"storetx",width:110},{title:"商品名称",align:"center",key:"storeName"},{title:"原供价（件）",align:"center",key:"guidePrice",width:90},{title:"原零售价（个）",align:"center",key:"marketPrice",width:90},{title:"促销供价（件）",align:"center",key:"promotionInPrice",width:120,render:function(e,a){return e("div",[e("input",{domProps:{value:a.row.promotionInPrice},attrs:{maxlength:100},on:{input:function(e){var n=e.target.value;n=n.replace(/[^\d.]/g,""),n=n.replace(/^\./g,""),n=n.replace(/\.{2,}/g,"."),n=n.replace(".","$#$").replace(/\./g,"").replace("$#$","."),n=n.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),e.target.value=n;var i=a.row;i.promotionInPrice=n,t.data3[a.index]=i}},class:{"ivu-input":!0}})])}},{title:"促销售价（个）",align:"center",key:"promotionOutPrice",width:120,render:function(e,a){return e("div",[e("input",{domProps:{value:a.row.promotionOutPrice},attrs:{maxlength:100},on:{input:function(e){var n=e.target.value;n=n.replace(/[^\d.]/g,""),n=n.replace(/^\./g,""),n=n.replace(/\.{2,}/g,"."),n=n.replace(".","$#$").replace(/\./g,"").replace("$#$","."),n=n.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),e.target.value=n;var i=a.row;i.promotionOutPrice=n,t.data3[a.index]=i}},class:{"ivu-input":!0}})])}},{title:"赠品",align:"center",key:"giftItemName",width:120,render:function(e,a){return e("div",[e("Input",{props:{value:a.row.giftItemName},attrs:{autosize:{minRows:1,maxRows:20},type:"textarea",maxlength:100},on:{"on-change":function(e){a.row.giftItemName=e.target.value,t.data3[a.index]=a.row}}})])}},{title:"商品状态",align:"center",key:"storeStatus",width:86}],data3:[{storeNumber:"3453465",storetx:"3565",storeName:"立白洗衣液",price:"66.00",storeStatus:"buzhidao"},{storeNumber:"3453465",storetx:"3565",storeName:"立白洗衣液",price:"66.00",storeStatus:"buzhidao"},{storeNumber:"3453465",storetx:"3565",storeName:"立白洗衣液",price:"66.00",storeStatus:"buzhidao"}],page3:1,t_xl:{spzt:[{id:"4",name:"在售"},{id:"5",name:"已下架"}],pinpai:[],pinlei:[],savePinlei:[],shezhi:[{id:"1",name:"畅销单品"},{id:"2",name:"潜力单品"},{id:"3",name:"攻击单品"}],chuxiao:[{id:"1",name:"买赠"},{id:"2",name:"返利"},{id:"3",name:"纯费用"},{id:"4",name:"特价补差"}]},value:{gearName:"",storeType:[],startDate:"",endDate:"",fujian:""},t_value:{bm:"",bm69:"",mc:"",spzt:"",startPrice:"",endPrice:"",pinpai:"",pinlei:"",shezhi:"",chuxiao:"",shuoming:"",liandai:"",duitou:""},t_value2:""}},mounted:function(){},methods:{getData:function(){var t=this;this.data=[],this.data3=[];var e={};if(e.id=this.$route.query.id,0==this.$route.query.id)return this.isEdit=!1,!1;this.isEdit=!0,this.loading=!0,this.$ajax({method:"post",url:this.$util.apiConfig.promotionManage.warProgramme.terminalManagement.editRow,data:l.default.stringify(e)}).then(function(e){t.loading=!1;var a=e.data.result.infoWTO.infoDTO;a.storeType.split(",").map(function(e){t.value.storeType.push(e)}),t.value.gearName=a.schedulingName,t.value.fujian=t.imgSrc+a.attachment,t.value.startDate=t.formatDate(a.beginTime,"yyyy-MM-DD"),t.value.endDate=t.formatDate(a.endTime,"yyyy-MM-DD"),e.data.result.infoWTO.detailDTOS.map(function(e){var a={brandName:e.brandName,category:e.sfaType,sort:e.classfiy,commodity:e.itemName,marketPrice:e.marketPrice,salesPromotion:e.promotionModel,state:e.promotionExplain,related:e.relation,hangingItem:e.description,giftItemName:e.giftItemName,storetx:e.code69,guidePrice:e.dealerInPrice,promotionInPrice:e.promotionInPrice,promotionOutPrice:e.promotionOutPrice,cName:e.seriesName,itemId:e.itemId};t.data.push(a)})}).catch(function(t){console.log("失败信息：",t)})},getFormItem:function(){var t=this;this.$ajax({method:"post",url:this.$util.apiConfig.promotionManage.warProgramme.terminalManagement.category}).then(function(e){e.data.itemCategory11List.map(function(e){var a={id:e.cid,name:e.cName};t.t_xl.pinpai.push(a)}),e.data.itemCategory21List.map(function(e){var a={id:e.cid,name:e.cName,parentCid:e.parentCid,type:e.sortNumber};t.t_xl.savePinlei.push(a)})}).catch(function(t){console.log("失败信息：",t)})},showModal1:function(){this.modal1=!0,this.query()},query:function(){var t=this;if(this.queryLock)return console.log("---"),!1;this.queryLock=!0,this.data3=[];var e=this.t_value,a={};a.page=this.page3,a.spuCode=e.bm,a.code69=e.bm69,a.itemName=e.mc,a.marketPriceSearchMin=e.startPrice,a.marketPriceSearchMax=e.endPrice,a.itemCategory11Id=e.pinpai,a.itemCategory21Id=e.pinlei,a.itemStatus=e.spzt,this.$ajax({method:"post",url:this.$util.apiConfig.promotionManage.warProgramme.terminalManagement.selectItemAndSpu,data:l.default.stringify(a)}).then(function(e){t.queryLock=!1;var a=e.data;t.totalCount=a.totalCount,a.records.map(function(e){var a,n="";5==e.itemStatus||3==e.itemStatus?n="已下架":4==e.itemStatus||2==e.itemStatus?n="在售":1==e.itemStatus&&(n="待上架");var i=(a={storeNumber:e.code79,storetx:e.code69,storeName:e.itemName,price:e.marketPrice,storeStatus:n,itemId:e.itemId,brandId:e.itemCategory11Id,brandName:e.itemCategory11Name,classId:e.itemCategory21Id,classTypeName:e.itemCategory21Name,giftItemName:"",promotionInPrice:"",promotionOutPrice:""},(0,r.default)(a,"brandId",e.brandId),(0,r.default)(a,"guidePrice",e.guidePrice),(0,r.default)(a,"marketPrice",e.marketPrice),(0,r.default)(a,"cName",e.cName),(0,r.default)(a,"cid",e.cid),a),o={promotionInPrice:0,promotionOutPrice:0,giftItemName:""};t.data3.push(i),t.editData3.push(o)})}).catch(function(t){console.log("失败信息：",t)})},changePage3:function(t){this.page3=t,this.query()},change:function(t){var e=this;this.t_xl.pinlei=[],this.t_value.pinlei="",this.t_xl.savePinlei.map(function(a){if(t==a.parentCid){var n={id:a.id,name:a.name,parentCid:a.parentCid,type:a.type};e.t_xl.pinlei.push(n)}})},sel:function(t){this.saveData=[];this.selId=t.map(function(t){return t.itemId})},formatDate:function(t,e){if(""===t)return"";var a=new Date;if(a.setTime(t),!e)var e="yyyy-MM-DD hh:mm:ss";var n={"M+":a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1,"D+":a.getDate()<10?"0"+a.getDate():a.getDate(),"h+":a.getHours()<10?"0"+a.getHours():a.getHours(),"m+":a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes(),"s+":a.getSeconds()<10?"0"+a.getSeconds():a.getSeconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in n)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?n[i]:("00"+n[i]).substr((""+n[i]).length)));return e},queren:function(){var t=this,e=this.value.storeType.join(","),a=this;if(0==this.selId.length)return this.$Message.info("请勾选商品！"),!1;if(""==this.t_value.chuxiao)return this.$Message.info("请设置促销形式！"),!1;if(""==this.t_value.shuoming)return this.$Message.info("请设置促销说明！"),!1;if(this.data.some(function(t){return a.selId.indexOf(t.itemId)>=0&&t.salesPromotion==a.t_value.chuxiao}))return this.$Message.info("同种促销形式商品不能重复选择"),!1;var n=this.data3.filter(function(t){return a.selId.indexOf(t.itemId)>=0});this.saveData=[],n.map(function(a){var n={category:a.classTypeName,brandName:a.brandName,storeNumber:a.storeNumber,storetx:a.storetx,commodity:a.storeName,marketPrice:a.price,storeStatus:a.storeStatus,itemId:a.itemId,cid:a.cid,cName:a.cName,giftItemName:a.giftItemName,promotionInPrice:a.promotionInPrice,promotionOutPrice:a.promotionOutPrice,storeType:e,guidePrice:a.guidePrice,brandId:a.brandId,classId:a.classId};t.saveData.push(n)}),this.modal1=!1,this.saveData.map(function(e){e.sort=t.t_value.shezhi,e.salesPromotion=t.t_value.chuxiao,e.state=t.t_value.shuoming,e.related=t.t_value.liandai,e.hangingItem=t.t_value.duitou,t.data.push(e)})},okPic:function(){this.value.fujian=this.uploadPic,this.uploadPic=""},cancelPic:function(){this.uploadPic=""},removes:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"<p>删除是不可恢复的，确定删除吗？</p>",onOk:function(){e.data.splice(t,1),e.$Message.info("删除成功！")}})},pro:function(){this.show=!0},sus:function(t){this.uploadPic=imgSrc+t.url,this.show=!1},save:function(){var t=this;if(!this.value.gearName)return this.$Message.error("排挡名称不能为空！"),!1;if(!this.value.startDate)return this.$Message.error("请填写开始时间"),!1;if(!this.value.endDate)return this.$Message.error("请填写结束时间"),!1;if(this.value.startDate&&this.value.endDate&&this.value.startDate.getTime()>this.value.endDate.getTime())return this.$Message.error("结束时间不能小于开始时间"),!1;if(""==this.value.storeType)return this.$Message.info("请选择门店类型"),!1;var e={},a=this.value.storeType.join(","),n=this.$route.query.id;0==this.$route.query.id&&(n=""),e.infoDTO={attachment:this.value.fujian.replace(this.imgSrc,""),beginTime:this.formatDate(this.value.startDate,"yyyy-MM-DD"),endTime:this.formatDate(this.value.endDate,"yyyy-MM-DD"),id:n,schedulingName:this.value.gearName,storeType:a};var i=[];if(this.data.map(function(t){var e="0";"已下架"==t.storeStatus?e="5":"在售"==t.storeStatus?e="4":"待上架"==t.storeStatus&&(e="1"),i.push({classfiy:t.sort,code69:t.storetx,code79:t.storeNumber,description:t.hangingItem,itemId:t.itemId,itemName:t.commodity,marketPrice:t.marketPrice,promotionExplain:t.state,promotionModel:t.salesPromotion,relation:t.related,sfaType:t.category,status:e,brandId:t.brandId,brandName:t.brandName,cId:t.classId,cName:t.category,seriesId:t.cid,seriesName:t.cName,dealerInPrice:t.guidePrice,dealerOutPrice:t.marketPrice,promotionInPrice:t.promotionInPrice,promotionOutPrice:t.promotionOutPrice,giftItemName:t.giftItemName})}),e.detailDTOS=i,0==e.detailDTOS.length)return this.$Message.error("请选择商品"),!1;this.$ajax({method:"post",url:this.$util.apiConfig.promotionManage.warProgramme.terminalManagement.promotionscheduling,data:e}).then(function(e){var a=JSON.parse(e.data);t.$Message.info(a.message),t.locksave=!0,t.$router.push({name:"team-task"})}).catch(function(t){console.log("失败信息：",t)})},cancel:function(){this.$router.push({name:"team-task"})},handleFormatError:function(t){this.$Notice.warning({title:"文件格式不正确",desc:"文件 "+t.name+" 格式不正确，请上传 jpeg ， jpg 或 png 格式的图片。"})},handleMaxSize:function(t){this.$Notice.warning({title:"超出文件大小限制",desc:"文件 "+t.name+" 太大，不能超过 1M。"})},changEndDate:function(){""!=this.value.startDate&&this.value.endDate.getTime()<this.value.startDate.getTime()&&(this.$Message.error("结束时间不能小于开始时间"),this.value.endDate="")},changStartDate:function(){""!=this.value.endDate&&this.value.endDate.getTime()<this.value.startDate.getTime()&&(this.$Message.error("结束时间不能小于开始时间"),this.value.startDate="")}},components:{},created:function(){this.getData(),this.getFormItem()}}},2278:function(t,e,a){var n=a(2279);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(43)("fdeef848",n,!1,{})},2279:function(t,e,a){e=t.exports=a(42)(!1),e.push([t.i,"\n.width-100 {\n  width: 100%;\n}\n.lb-left {\n  float: left;\n}\n.lb-right {\n  float: right;\n}\n.lb-center {\n  text-align: center;\n}\n.lb-promotion-main {\n  height: auto;\n  background-color: #fff;\n}\n.lb-promotion-main .lb-promotion-search {\n  border-bottom: 1px dashed #e5e5e5;\n}\n.lb-promotion-main .lb-promotion-search .lb-promotion-row {\n  margin-bottom: 14px;\n}\n.lb-promotion-main .lb-promotion-search .lb-promotion-row .ListName {\n  text-align: right;\n  line-height: 32px;\n  color: #747474;\n  font-size: 12px;\n  margin-right: 8px;\n}\n.promotion-page {\n  margin: 1rem 0 0 0;\n}\n.container {\n  background: #fff;\n  color: #747474;\n  border: 1px solid #E8E8E8;\n  padding: 1% 1% 3%;\n}\n.margin-top-8 {\n  margin-top: 8px;\n}\n.margin-top-10 {\n  margin-top: 10px;\n}\n.margin-top-20 {\n  margin-top: 20px;\n}\n.margin-left-10 {\n  margin-left: 10px;\n}\n.margin-bottom-10 {\n  margin-bottom: 10px;\n}\n.margin-bottom-12 {\n  margin-bottom: 12px;\n}\n.margin-bottom-14 {\n  margin-bottom: 14px;\n}\n.margin-bottom-100 {\n  margin-bottom: 100px;\n}\n.margin-right-10 {\n  margin-right: 10px;\n}\n.padding-left-6 {\n  padding-left: 6px;\n}\n.padding-left-8 {\n  padding-left: 5px;\n}\n.padding-left-10 {\n  padding-left: 10px;\n}\n.padding-left-20 {\n  padding-left: 20px;\n}\n.height-100 {\n  height: 100%;\n}\n.height-120px {\n  height: 100px;\n}\n.height-200px {\n  height: 200px;\n}\n.height-492px {\n  height: 492px;\n}\n.height-460px {\n  height: 460px;\n}\n.line-gray {\n  height: 0;\n  border-bottom: 2px solid #dcdcdc;\n}\n.notwrap {\n  word-break: keep-all;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.padding-left-5 {\n  padding-left: 10px;\n}\n[v-cloak] {\n  display: none;\n}\n.mb--12 {\n  margin-bottom: 12px;\n}\n.mb--14 {\n  margin-bottom: 14px;\n}\n.border-b--dashed {\n  border-bottom: 1px dashed #e5e5e5;\n}\n.pd--20 {\n  padding: 20px;\n}\n.ml--50 {\n  margin-left: 50px;\n}\n.fr {\n  float: right;\n}\n.fl {\n  float: left;\n}\n.bg--white {\n  background: #fff;\n}\n.clearfix:after {\n  content: '';\n  display: block;\n  height: 0;\n  clear: both;\n}\n.text-center {\n  text-align: center;\n}\n.white {\n  background-color: white;\n}\n.select_box {\n  padding: 20px;\n  border-bottom: 1px dashed #E8E8E8;\n}\n.ling_height {\n  padding-top: 15px;\n}\n.text_align_right {\n  text-align: right;\n}\n.text_align_center {\n  text-align: center;\n}\n.operation_box {\n  padding: 10px 20px;\n  text-align: right;\n}\n.page_right {\n  text-align: right;\n  padding: 10px 20px;\n}\n.input_width {\n  width: 120px;\n}\n.search_btn {\n  width: 100px;\n}\n.margin_bottom_0 {\n  margin-bottom: 0;\n}\n.ivu-breadcrumb a {\n  color: #999;\n}\n.ivu-breadcrumb {\n  font-size: 12px;\n}\n.ivu-breadcrumb > span:last-child {\n  color: #426196;\n}\n.box_shadow {\n  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.2);\n  border-color: #eee;\n}\n.border_bottom_dashed {\n  border-bottom: 1px dashed #E8E8E8;\n}\n.problem_table .ivu-checkbox-wrapper {\n  margin-right: 0px;\n}\n.team-task-new {\n  width: 100%;\n  height: 100%;\n  background: #fff;\n  color: #747474;\n  border: 1px solid #E8E8E8;\n  text-align: center;\n  padding: 10px 0;\n}\n.team-task-new .box1 {\n  margin-top: 10px;\n}\n.team-task-new .box1 #gearName {\n  width: 50%;\n}\n.team-task-new .box2 {\n  margin: 10px 0;\n  border-bottom: 1px solid #E8E8E8;\n  padding-bottom: 10px;\n}\n.team-task-new .box2 .date {\n  width: 50%;\n}\n.team-task-new .box2 .fujian img {\n  vertical-align: middle;\n  width: 150px;\n  height: 100px;\n}\n.team-task-new .table {\n  margin: 1%;\n}\n.team-task-new .page {\n  text-align: right;\n  margin-right: 1%;\n}\n.imgs {\n  display: inline-block;\n  vertical-align: middle;\n  background-size: cover;\n  background-position: center center;\n  width: 150px;\n  height: 100px;\n}\n.ivu-modal-header {\n  background: #05a1e9;\n  border-top-left-radius: 5px;\n  border-top-right-radius: 5px;\n}\n.ivu-modal-header-inner {\n  color: #fff;\n}\n.ivu-modal-close .ivu-icon-ios-close-empty {\n  color: #fff;\n}\n.tc .ivu-modal {\n  top: 30px;\n}\n.spinner {\n  display: inline-block;\n  width: 32px;\n  height: 32px;\n  position: relative;\n}\n.cube1,\n.cube2 {\n  background-color: #05a1e9;\n  width: 30px;\n  height: 30px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  animation: cubemove 1.8s infinite ease-in-out;\n}\n.cube2 {\n  animation-delay: -0.9s;\n}\n@keyframes cubemove {\n25% {\n    transform: translateX(42px) rotate(-90deg) scale(0.5);\n    -webkit-transform: translateX(42px) rotate(-90deg) scale(0.5);\n}\n50% {\n    transform: translateX(42px) translateY(42px) rotate(-179deg);\n    -webkit-transform: translateX(42px) translateY(42px) rotate(-179deg);\n}\n50.1% {\n    transform: translateX(42px) translateY(42px) rotate(-180deg);\n    -webkit-transform: translateX(42px) translateY(42px) rotate(-180deg);\n}\n75% {\n    transform: translateX(0px) translateY(42px) rotate(-270deg) scale(0.5);\n    -webkit-transform: translateX(0px) translateY(42px) rotate(-270deg) scale(0.5);\n}\n100% {\n    transform: rotate(-360deg);\n    -webkit-transform: rotate(-360deg);\n}\n}\n.tbox2 {\n  margin: 10px 0;\n}\n.tc {\n  text-align: center;\n}\n",""])},2280:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"team-task-new"},[a("Row",{staticClass:"box1"},[a("Col",{attrs:{span:"6"}},[a("label",{attrs:{for:"gearName"}},[t._v("排挡名称 :  ")]),a("Input",{attrs:{id:"gearName",clearable:""},model:{value:t.value.gearName,callback:function(e){t.$set(t.value,"gearName","string"==typeof e?e.trim():e)},expression:"value.gearName"}})],1),t._v(" "),a("Col",{staticStyle:{"line-height":"32px"},attrs:{span:"7"}},[t._v("\n            门店类型 ： \n            "),a("CheckboxGroup",{staticStyle:{display:"inline-block"},model:{value:t.value.storeType,callback:function(e){t.$set(t.value,"storeType",e)},expression:"value.storeType"}},[a("Checkbox",{attrs:{label:"A"}}),t._v(" "),a("Checkbox",{attrs:{label:"B"}}),t._v(" "),a("Checkbox",{attrs:{label:"C"}}),t._v(" "),a("Checkbox",{attrs:{label:"D"}}),t._v(" "),a("Checkbox",{attrs:{label:"E"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"6"}})],1),t._v(" "),a("Row",{staticClass:"box2"},[a("Col",{staticStyle:{"margin-top":"30px"},attrs:{span:"6"}},[t._v("\n            开始时间 : \n            "),a("DatePicker",{staticClass:"date",attrs:{type:"date",editable:!1},on:{"on-change":function(e){t.changStartDate()}},model:{value:t.value.startDate,callback:function(e){t.$set(t.value,"startDate",e)},expression:"value.startDate"}})],1),t._v(" "),a("Col",{staticStyle:{"margin-top":"30px"},attrs:{span:"6"}},[t._v("\n            结束时间 : \n            "),a("DatePicker",{staticClass:"date",attrs:{type:"date",editable:!1},on:{"on-change":function(e){t.changEndDate()}},model:{value:t.value.endDate,callback:function(e){t.$set(t.value,"endDate",e)},expression:"value.endDate"}})],1),t._v(" "),a("Col",{staticStyle:{"margin-top":"30px"},attrs:{span:"4"}}),t._v(" "),a("Col",{staticClass:"fujian",attrs:{span:"7"}})],1),t._v(" "),a("Row",{staticClass:"box4"},[a("Col",{staticStyle:{"margin-top":"30px"},attrs:{span:"4"}},[t._v("\n           商品："),a("Button",{on:{click:t.showModal1}},[t._v("选择")]),t._v(" "),a("Modal",{attrs:{title:"商品选择",width:"80%","class-name":"tc",loading:t.loading2},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[a("Row",[a("Row",{staticClass:"tbox1"},[a("Col",{attrs:{span:"6"}},[t._v("\n                                销售编码："),a("Input",{staticStyle:{width:"50%"},model:{value:t.t_value.bm,callback:function(e){t.$set(t.t_value,"bm",e)},expression:"t_value.bm"}})],1),t._v(" "),a("Col",{attrs:{span:"7"}},[t._v("\n                                条形码："),a("Input",{staticStyle:{width:"50%"},model:{value:t.t_value.bm69,callback:function(e){t.$set(t.t_value,"bm69",e)},expression:"t_value.bm69"}})],1),t._v(" "),a("Col",{attrs:{span:"7"}},[t._v("\n                                商品名称："),a("Input",{staticStyle:{width:"50%"},model:{value:t.t_value.mc,callback:function(e){t.$set(t.t_value,"mc",e)},expression:"t_value.mc"}})],1),t._v(" "),a("Col",{attrs:{span:"3"}},[a("Button",{on:{click:t.query}},[t._v("查询")])],1)],1),t._v(" "),a("Row",{staticClass:"tbox2"},[a("Col",{attrs:{span:"8"}},[t._v("\n                                商品价格："),a("Input",{staticStyle:{width:"30%"},model:{value:t.t_value.startPrice,callback:function(e){t.$set(t.t_value,"startPrice",e)},expression:"t_value.startPrice"}}),t._v(" \n                                ~ "),a("Input",{staticStyle:{width:"30%"},model:{value:t.t_value.endPrice,callback:function(e){t.$set(t.t_value,"endPrice",e)},expression:"t_value.endPrice"}})],1),t._v(" "),a("Col",{attrs:{span:"5"}},[t._v("\n                                商品状态：\n                                "),a("Select",{staticStyle:{width:"60%"},attrs:{clearable:""},model:{value:t.t_value.spzt,callback:function(e){t.$set(t.t_value,"spzt",e)},expression:"t_value.spzt"}},t._l(t.t_xl.spzt,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("Col",{attrs:{span:"5"}},[t._v("\n                                品牌：\n                                "),a("Select",{staticStyle:{width:"60%"},attrs:{clearable:""},on:{"on-change":t.change},model:{value:t.t_value.pinpai,callback:function(e){t.$set(t.t_value,"pinpai",e)},expression:"t_value.pinpai"}},t._l(t.t_xl.pinpai,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("Col",{staticStyle:{"text-align":"right"},attrs:{span:"5"}},[t._v("\n                                品类：\n                                "),a("Select",{staticStyle:{"text-align":"center",width:"60%"},attrs:{clearable:""},model:{value:t.t_value.pinlei,callback:function(e){t.$set(t.t_value,"pinlei",e)},expression:"t_value.pinlei"}},t._l(t.t_xl.pinlei,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1)],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:function(e){t.modal1=!1}}},[t._v("取消")]),t._v(" "),a("Button",{on:{click:t.queren}},[t._v("确定")])],1),t._v(" "),a("Table",{staticStyle:{margin:"10px 0"},attrs:{height:"185",columns:t.columns3,data:t.data3},on:{"on-selection-change":t.sel}}),t._v(" "),a("Page",{staticStyle:{"text-align":"right","margin-right":"1%","margin-bottom":"5px"},attrs:{total:t.totalCount,"show-total":"","show-elevator":"","class-name":"page"},on:{"on-change":t.changePage3}}),t._v(" "),a("h3",{staticStyle:{"text-align":"left"}},[t._v("请设置:")]),t._v(" "),a("Row",{staticClass:"tbox3"},[a("Col",{attrs:{span:"7"}},[t._v("\n                        促销形式：\n                        "),a("Select",{staticStyle:{width:"60%"},model:{value:t.t_value.chuxiao,callback:function(e){t.$set(t.t_value,"chuxiao",e)},expression:"t_value.chuxiao"}},t._l(t.t_xl.chuxiao,function(e){return a("Option",{key:e.id,attrs:{value:e.name}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("Col",{attrs:{span:"10"}},[t._v("\n                        促销说明："),a("Input",{staticStyle:{width:"70%"},model:{value:t.t_value.shuoming,callback:function(e){t.$set(t.t_value,"shuoming",e)},expression:"t_value.shuoming"}})],1)],1)],1)],1),t._v(" "),a("Col",{staticStyle:{"margin-top":"30px"},attrs:{span:"6"}}),t._v(" "),a("Col",{staticStyle:{"margin-top":"30px"},attrs:{span:"4"}}),t._v(" "),a("Col",{staticClass:"fujian",attrs:{span:"7"}})],1),t._v(" "),a("Table",{staticClass:"table",attrs:{loading:t.loading,columns:t.columns,data:t.data}}),t._v(" "),a("Row",{staticClass:"box3"},[a("Col",{staticStyle:{"margin-top":"30px"},attrs:{span:"4"}},[a("Button",{on:{click:function(e){t.modal2=!0}}},[t._v("附件上传")]),t._v(" "),a("Modal",{attrs:{title:"上传导入",width:"50%"},on:{"on-ok":t.okPic,"on-cancel":t.cancelPic},model:{value:t.modal2,callback:function(e){t.modal2=e},expression:"modal2"}},[a("div",{staticStyle:{color:"red","text-align":"center"}},[t._v("提示: 上传图片仅支持JPG、JPEG、PNG格式，上传图片大小不得超过1M")]),t._v(" "),a("div",{staticClass:"fujian"},[t._v("\n                    附件：\n                    "),a("Upload",{staticStyle:{margin:"10px"},attrs:{action:t.host+"/fileUpload/fixedUpload",format:["jpeg","png","jpg"],"max-size":1024,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"on-progress":t.pro,"on-success":t.sus,"show-upload-list":!1}},[a("Button",{attrs:{type:"ghost",icon:"ios-cloud-upload-outline"}},[t._v("选择图片")])],1)],1),t._v(" "),a("div",{staticClass:"fujian"},[t._v("\n                    浏览图片：\n                    "),t.show?a("div",{staticClass:"spinner"},[a("div",{staticClass:"cube1"}),t._v(" "),a("div",{staticClass:"cube2"})]):t._e(),t._v(" "),a("div",{staticClass:"imgs",style:{backgroundImage:"url("+t.uploadPic+")"}})])])],1),t._v(" "),a("Col",{staticClass:"fujian",attrs:{span:"7"}},[t._v("\n             附件预览：\n             "),a("div",{staticClass:"imgs",style:{backgroundImage:"url("+t.value.fujian+")"}})])],1),t._v(" "),a("Button",{staticStyle:{"margin-right":"30px"},on:{click:t.cancel}},[t._v("取消")]),a("Button",{attrs:{disabled:t.locksave&&!t.isEdit},on:{click:t.save}},[t._v("确定")])],1)},i=[];n._withStripped=!0;var r={render:n,staticRenderFns:i};e.default=r},788:function(t,e,a){"use strict";function n(t){c||a(2278)}Object.defineProperty(e,"__esModule",{value:!0});var i=a(1671),r=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);var s=a(2280),l=a.n(s),c=!1,d=a(13),u=n,m=d(r.a,l.a,!1,u,null,null);m.options.__file="src/views/promotion-manage/war-programme/terminal-management/configuration-task/team-task/team-task-new/team-task-new.vue",e.default=m.exports}});