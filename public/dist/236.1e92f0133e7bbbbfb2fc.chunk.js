webpackJsonp([236],{1659:function(n,t,e){"use strict";function a(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(t,"__esModule",{value:!0});var o=e(38),r=(a(o),e(239)),i=a(r);t.default={data:function(){var n=this;return{totalCount:1,loading:!1,columns:[{title:"编号",align:"center",key:"number"},{title:"门店类型",align:"center",key:"storeType"},{title:"标准内容",align:"center",key:"standardContent"},{title:"标准化目标",align:"center",key:"standardTarget"},{title:"执行平台",align:"center",key:"executionPlatform"},{title:"开始时间",align:"center",key:"startDate"},{title:"结束时间",align:"center",key:"endDate"},{title:"操作",align:"center",key:"handle",width:168,render:function(t,e){return t("div",[t("Button",{props:{type:"primary",size:"small"},on:{click:function(){n.$router.push({name:"standardization-detail",query:{id:e.row.number}})}}},"查看"),t("Button",{props:{type:"primary",size:"small"},style:{margin:"0 5px"},on:{click:function(){n.$router.push({name:"standardization-edit",query:{id:e.row.number}})}}},"编辑"),t("Button",{props:{type:"error",size:"small"},on:{click:function(){n.remove(e.index,e.row.number)}}},"删除")])}}],data:[{number:"201806",storeType:"油性",standardContent:"立白洗衣液无细菌",standardTarget:"无残留",executionPlatform:"立白",startDate:"2018-6-6",endDate:"2018-6-16"}],formItem:{target:[{id:"1",name:"全部"},{id:"2",name:"预打造"},{id:"3",name:"精耕打造"}]},value:{target:"全部",startDate:"",endDate:""},page:1,params:{}}},mounted:function(){},methods:{getData:function(){var n=this;this.data=[];var t={};t=this.params,t.page=this.page,this.loading=!0,this.$ajax({method:"post",url:this.$util.apiConfig.promotionManage.warProgramme.standardManagement.list,data:i.default.stringify(t)}).then(function(t){n.loading=!1,n.totalCount=t.data.result.pager.totalCount,t.data.result.pager.records.map(function(t){var e={number:t.id,storeType:t.storeType,standardContent:t.shandardCount,standardTarget:t.target,executionPlatform:t.channel,startDate:n.formatDate(t.beginDate,"yyyy-MM-DD"),endDate:n.formatDate(t.endDate,"yyyy-MM-DD")};n.data.push(e)})}).catch(function(n){console.log("失败信息：",n)})},changePage:function(n){this.page=n,this.getData()},query:function(){this.page=1,this.params.beginDate=this.formatDate(this.value.startDate,"yyyy-MM-DD"),this.params.endDate=this.formatDate(this.value.endDate,"yyyy-MM-DD"),this.params.target=this.value.target,this.getData()},formatDate:function(n,t){if(""===n)return"";var e=new Date;if(e.setTime(n),!t)var t="yyyy-MM-DD hh:mm:ss";var a={"M+":e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,"D+":e.getDate()<10?"0"+e.getDate():e.getDate(),"h+":e.getHours()<10?"0"+e.getHours():e.getHours(),"m+":e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),"s+":e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var o in a)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?a[o]:("00"+a[o]).substr((""+a[o]).length)));return t},remove:function(n,t){var e=this;this.$Modal.confirm({title:"提示",content:"<p>删除后是不可恢复的,确定删除吗？</p>",onOk:function(){var a={};a.id=t,e.$ajax({method:"post",url:e.$util.apiConfig.promotionManage.warProgramme.standardManagement.deleteSrore,data:a,transformRequest:[function(n){var t="";for(var e in n)t+=encodeURIComponent(e)+"="+encodeURIComponent(n[e])+"&";return t}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){e.data.splice(n,1),e.$Message.info("删除成功！")}).catch(function(n){console.log("失败信息：",n)})}})},newlist:function(){this.$router.push({name:"standardization-new"})}},components:{},created:function(){this.getData()}}},2242:function(n,t,e){var a=e(2243);"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e(43)("4c969b6d",a,!1,{})},2243:function(n,t,e){t=n.exports=e(42)(!1),t.push([n.i,"\n.width-100 {\n  width: 100%;\n}\n.lb-left {\n  float: left;\n}\n.lb-right {\n  float: right;\n}\n.lb-center {\n  text-align: center;\n}\n.lb-promotion-main {\n  height: auto;\n  background-color: #fff;\n}\n.lb-promotion-main .lb-promotion-search {\n  border-bottom: 1px dashed #e5e5e5;\n}\n.lb-promotion-main .lb-promotion-search .lb-promotion-row {\n  margin-bottom: 14px;\n}\n.lb-promotion-main .lb-promotion-search .lb-promotion-row .ListName {\n  text-align: right;\n  line-height: 32px;\n  color: #747474;\n  font-size: 12px;\n  margin-right: 8px;\n}\n.promotion-page {\n  margin: 1rem 0 0 0;\n}\n.container {\n  background: #fff;\n  color: #747474;\n  border: 1px solid #E8E8E8;\n  padding: 1% 1% 3%;\n}\n.margin-top-8 {\n  margin-top: 8px;\n}\n.margin-top-10 {\n  margin-top: 10px;\n}\n.margin-top-20 {\n  margin-top: 20px;\n}\n.margin-left-10 {\n  margin-left: 10px;\n}\n.margin-bottom-10 {\n  margin-bottom: 10px;\n}\n.margin-bottom-12 {\n  margin-bottom: 12px;\n}\n.margin-bottom-14 {\n  margin-bottom: 14px;\n}\n.margin-bottom-100 {\n  margin-bottom: 100px;\n}\n.margin-right-10 {\n  margin-right: 10px;\n}\n.padding-left-6 {\n  padding-left: 6px;\n}\n.padding-left-8 {\n  padding-left: 5px;\n}\n.padding-left-10 {\n  padding-left: 10px;\n}\n.padding-left-20 {\n  padding-left: 20px;\n}\n.height-100 {\n  height: 100%;\n}\n.height-120px {\n  height: 100px;\n}\n.height-200px {\n  height: 200px;\n}\n.height-492px {\n  height: 492px;\n}\n.height-460px {\n  height: 460px;\n}\n.line-gray {\n  height: 0;\n  border-bottom: 2px solid #dcdcdc;\n}\n.notwrap {\n  word-break: keep-all;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.padding-left-5 {\n  padding-left: 10px;\n}\n[v-cloak] {\n  display: none;\n}\n.mb--12 {\n  margin-bottom: 12px;\n}\n.mb--14 {\n  margin-bottom: 14px;\n}\n.border-b--dashed {\n  border-bottom: 1px dashed #e5e5e5;\n}\n.pd--20 {\n  padding: 20px;\n}\n.ml--50 {\n  margin-left: 50px;\n}\n.fr {\n  float: right;\n}\n.fl {\n  float: left;\n}\n.bg--white {\n  background: #fff;\n}\n.clearfix:after {\n  content: '';\n  display: block;\n  height: 0;\n  clear: both;\n}\n.text-center {\n  text-align: center;\n}\n.white {\n  background-color: white;\n}\n.select_box {\n  padding: 20px;\n  border-bottom: 1px dashed #E8E8E8;\n}\n.ling_height {\n  padding-top: 15px;\n}\n.text_align_right {\n  text-align: right;\n}\n.text_align_center {\n  text-align: center;\n}\n.operation_box {\n  padding: 10px 20px;\n  text-align: right;\n}\n.page_right {\n  text-align: right;\n  padding: 10px 20px;\n}\n.input_width {\n  width: 120px;\n}\n.search_btn {\n  width: 100px;\n}\n.margin_bottom_0 {\n  margin-bottom: 0;\n}\n.ivu-breadcrumb a {\n  color: #999;\n}\n.ivu-breadcrumb {\n  font-size: 12px;\n}\n.ivu-breadcrumb > span:last-child {\n  color: #426196;\n}\n.box_shadow {\n  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.2);\n  border-color: #eee;\n}\n.border_bottom_dashed {\n  border-bottom: 1px dashed #E8E8E8;\n}\n.problem_table .ivu-checkbox-wrapper {\n  margin-right: 0px;\n}\n.standardization {\n  width: 100%;\n  height: 100%;\n  background: #fff;\n  color: #747474;\n  border: 1px solid #E8E8E8;\n  text-align: center;\n  padding: 1%;\n}\n.standardization .head {\n  padding: 20px 0;\n  border-bottom: 1px solid #E8E8E8;\n}\n.standardization .head .head_left {\n  border-right: 1px dashed #E8E8E8;\n}\n.standardization .head .head_left .select {\n  width: 50%;\n}\n.standardization .head .head_left .table {\n  width: 50%;\n}\n.standardization .newTask {\n  margin: 10px 0;\n}\n.standardization .page {\n  text-align: right;\n  margin: 1%;\n}\n",""])},2244:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"standardization"},[e("Row",{staticClass:"head"},[e("Col",{staticClass:"head_left",attrs:{span:"21"}},[e("Row",[e("Col",{attrs:{span:"8"}},[n._v("\n                    标准化目标：\n                    "),e("Select",{staticClass:"select",model:{value:n.value.target,callback:function(t){n.$set(n.value,"target",t)},expression:"value.target"}},n._l(n.formItem.target,function(t){return e("Option",{key:t.id,attrs:{value:t.name}},[n._v(n._s(t.name))])}))],1),n._v(" "),e("Col",{attrs:{span:"8"}},[n._v("\n                    开始时间 : \n                    "),e("DatePicker",{staticClass:"date",attrs:{type:"date"},model:{value:n.value.startDate,callback:function(t){n.$set(n.value,"startDate",t)},expression:"value.startDate"}})],1),n._v(" "),e("Col",{attrs:{span:"8"}},[n._v("\n                    结束时间 : \n                    "),e("DatePicker",{staticClass:"date",attrs:{type:"date"},model:{value:n.value.endDate,callback:function(t){n.$set(n.value,"endDate",t)},expression:"value.endDate"}})],1)],1)],1),n._v(" "),e("Col",{staticClass:"head_right",attrs:{span:"3"}},[e("Button",{staticClass:"query",on:{click:n.query}},[n._v("查询")])],1)],1),n._v(" "),e("Row",{staticClass:"newTask"},[e("Col",{attrs:{span:"5",offset:"19"}},[e("Button",{on:{click:n.newlist}},[n._v("新建任务")])],1)],1),n._v(" "),e("Table",{staticClass:"table",attrs:{loading:n.loading,columns:n.columns,data:n.data}}),n._v(" "),e("Page",{attrs:{total:n.totalCount,"show-total":"","show-elevator":"","class-name":"page"},on:{"on-change":n.changePage}})],1)},o=[];a._withStripped=!0;var r={render:a,staticRenderFns:o};t.default=r},776:function(n,t,e){"use strict";function a(n){l||e(2242)}Object.defineProperty(t,"__esModule",{value:!0});var o=e(1659),r=e.n(o);for(var i in o)"default"!==i&&function(n){e.d(t,n,function(){return o[n]})}(i);var s=e(2244),d=e.n(s),l=!1,g=e(13),p=a,c=g(r.a,d.a,!1,p,null,null);c.options.__file="src/views/promotion-manage/war-programme/standard-management/standardization/standardization.vue",t.default=c.exports}});