webpackJsonp([243],{1594:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t(38);!function(e){e&&e.__esModule}(n);a.default={data:function(){var e=this;return{newcolumns:[{title:"品牌",align:"center",key:"brandName",editable:!0},{title:"品类",align:"center",key:"cname",editable:!0},{title:"系列",align:"center",key:"seriesName",editable:!0},{title:"目标总销量",align:"center",key:"saleTarget",render:function(a,t){return a("div",[a("Input",{props:{value:t.row.saleTarget,disabled:e.handelShow},on:{"on-blur":function(a){t.row.saleTarget=a.target.value,e.data1[t.index].saleTarget=a.target.value;var n=0,i=0,r="";if(isNaN(a.target.value))return e.data1[t.index].saleTarget="",a.target.value="",void e.$Message.info("请输入正整数");if(1==t.row.level){for(var o in e.data1)e.data1[o].brandId&&1==e.data1[o].level&&(n+=Number(e.data1[o].saleTarget));i=e.value.targetSales,r="品牌目标销量总和超过目标总销量！"}else if(2==t.row.level){for(var l in e.data1)e.data1[l].brandId&&e.data1[l].cid&&!e.data1[l].seriesId&&e.data1[l].brandId==t.row.brandId&&(n+=Number(e.data1[l].saleTarget)),e.data1[l].brandId==t.row.brandId&&1==e.data1[l].level&&(i=e.data1[l].saleTarget);r="品类目标销量总和超出品牌目标销量！"}else if(3==t.row.level){for(var d in e.data1)e.data1[d].brandId==t.row.brandId&&e.data1[d].cid==t.row.cid&&e.data1[d].seriesId&&(n+=Number(e.data1[d].saleTarget)),e.data1[d].brandId==t.row.brandId&&e.data1[d].cid==t.row.cid&&2==e.data1[d].level&&(i=e.data1[d].saleTarget);r="系列目标销量总各超出品类目标销量！"}if(Number(n)>Number(i))return e.$Message.info(r),e.data1[t.index].saleTarget="",a.target.value="",void(e.tempTips=r);if(n=0,i=0,r="",1==t.row.level){for(var s in e.data1)e.data1[s].brandId&&e.data1[s].cid&&!e.data1[s].seriesId&&e.data1[s].brandId==t.row.brandId&&(n+=Number(e.data1[s].saleTarget)),e.data1[s].brandId==t.row.brandId&&1==e.data1[s].level&&(i=e.data1[s].saleTarget);r="品牌目标销量小于品类目标销量总和！"}else if(2==t.row.level){for(var c in e.data1)e.data1[c].brandId==t.row.brandId&&e.data1[c].cid==t.row.cid&&e.data1[c].seriesId&&(n+=Number(e.data1[c].saleTarget)),e.data1[c].brandId==t.row.brandId&&e.data1[c].cid==t.row.cid&&2==e.data1[c].level&&(i=e.data1[c].saleTarget);r="品类目标销量小于系列目标销量总和！"}return Number(n)>Number(i)?(e.$Message.info(r),e.data1[t.index].saleTarget="",a.target.value="",void(e.tempTips=r)):void 0}}})])}},{title:"操作",align:"center",key:"handle",render:function(a,t){return a("div",[a("Button",{props:{type:"error",size:"small"},on:{click:function(){e.remove(t.index,t.row.id)}}},"删除")])}}],detailColumns:[{title:"品牌",align:"center",key:"brandName",editable:!0},{title:"品类",align:"center",key:"cname",editable:!0},{title:"系列",align:"center",key:"seriesName",editable:!0},{title:"目标总销量",align:"center",key:"saleTarget",render:function(a,t){return a("div",[a("Input",{props:{value:t.row.saleTarget,disabled:e.handelShow}})])}}],data1:[],formItem:{salesman:[],brand:[],school:[],saveSchool:[]},value:{multiple:"",month:"",brand:"",school:"",targetSales:"",attendancedays:""},handelShow:!1,goal_editor:!1,goal:!0,modelBrand:"",brandList:[],modelCategory:"",categoryList:[],modelSeries:"",seriesList:[],modalFlag:!1,tempTips:"",localDel:[],hShow:!1}},mounted:function(){2==this.$route.query.type?(this.queryDetail(),this.goal=!1,this.handelShow=!0,this.newcolumns=this.detailColumns):3==this.$route.query.type?(this.queryDetail(),this.goal_editor=!0,this.hShow=!0):4==this.$route.query.type&&(this.queryDetail(),this.hShow=!0)},watch:{$route:function(e,a){this.$router.go(0)}},methods:{checkTargetTotal:function(e){if(isNaN(e.target.value))return this.value.targetSales="",e.target.value="",void this.$Message.info("请输入正整数");var a=0;for(var t in this.data1)this.data1[t].brandId&&1==this.data1[t].level&&(a+=Number(this.data1[t].saleTarget));Number(a)>Number(this.value.targetSales)&&(this.value.targetSales="",e.target.value="",this.$Message.info("目标总销量不能小于品牌销量总和"))},getFormItem:function(){var e=this;this.$ajax({method:"post",url:this.$util.apiConfig.promotionManage.warAdviser.targetConfig.querySalesman}).then(function(a){a.data.result.map(function(a){var t={userid:a.empId,username:a.empName};e.formItem.salesman.push(t)})}).catch(function(e){console.log("失败信息：",e)})},addition:function(){var e=this;if(this.checkout()){var a=this,t=new Date(this.value.month),n=(t.getFullYear(),t.getMonth(),""),i="",r="",o="",l="",d="";if(this.brandList.map(function(a){e.modelBrand==a.value&&(n=a.label,i=a.value)}),this.categoryList.map(function(a){e.modelCategory==a.value&&(r=a.value,o=a.label)}),this.seriesList.map(function(a){e.modelSeries==a.value&&(l=a.value,d=a.label)}),i){var s=!1;for(var c in a.data1)1==a.data1[c].level&&a.data1[c].brandId==i&&(s=!0);s||a.data1.push({brandId:i,brandName:n,saleTarget:0,level:1,sort:""})}if(r){var g=!1;for(var u in a.data1)2==a.data1[u].level&&a.data1[u].cid==r&&(g=!0);if(!g){for(var h=a.data1.length,m=0;m<a.data1.length;m++)a.data1[m].brandId==i&&(h=m);a.data1.splice(h+1,0,{brandId:i,brandName:n,cid:r,cname:o,saleTarget:0,level:2,sort:""})}}if(l){var p=!1;for(var v in a.data1)3==a.data1[v].level&&a.data1[v].seriesId==l&&(p=!0);if(!p){for(var f=a.data1.length,b=0;b<a.data1.length;b++)a.data1[b].brandId==i&&a.data1[b].cid==r&&(f=b);a.data1.splice(f+1,0,{brandId:i,brandName:n,cid:r,cname:o,seriesId:l,seriesName:d,saleTarget:0,level:3,sort:""})}}}},save:function(){var e=this,a=[];this.data1.map(function(e){var t={};t.detailDTO={brandId:e.brandId,brandName:e.brand,cid:e.cid,cname:e.school,saleTarget:e.targetSales},t.salesmanId=e.userid+"",t.salesmanName=e.user,t.year=e.year,t.month=e.month,t.type=e.type,t.attendancedays=e.attendancedays,a.push(t)}),this.$Modal.confirm({title:"提示",content:"<p>确定保存吗？</p>",onOk:function(){e.$ajax({method:"post",url:e.$util.apiConfig.promotionManage.warAdviser.targetConfig.getSave,data:a}).then(function(a){e.loading=!1,e.$Message.info("保存成功！"),e.$router.push({name:"month-target-list"})}).catch(function(e){console.log("失败信息：",e)})}})},remove:function(e,a){var t=this;this.localDel.push(this.data1[e].id),this.$Modal.confirm({title:"提示",content:"<p>确定删除吗？</p>",onOk:function(){if(1==t.data1[e].level){var a=[];for(var n in t.data1)t.data1[n].brandId==t.data1[e].brandId&&t.data1[n].cid&&a.push(t.data1[n].cid);var i=[];t.data1.splice(e,1);for(var r in t.data1){var o=!0;for(var l in a)a[l]==t.data1[r].cid&&(o=!1,t.localDel.push(t.data1[r].id));o&&i.push(t.data1[r])}t.data1=i}else if(2==t.data1[e].level){var d=[];for(var s in t.data1)t.data1[s].cid==t.data1[e].cid&&t.data1[s].seriesId&&d.push(t.data1[s].seriesId);var c=[];t.data1.splice(e,1);for(var g in t.data1){var u=!0;for(var h in d)d[h]==t.data1[g].seriesId&&(u=!1);u&&c.push(t.data1[g])}t.data1=c}else 3==t.data1[e].level&&t.data1.splice(e,1);t.$Message.info("删除成功！")},onCancel:function(){t.localDel.pop(t.data1[e].id)}})},getSelectType:function(e,a){var t=this,n="";t.modelBrand=t.modelBrand?t.modelBrand:"",t.modelBrand=t.modelBrand?t.modelBrand:"",t.modelCategory=t.modelCategory?t.modelCategory:"",t.modelSeries=t.modelSeries?t.modelSeries:"",1==e?n="sell_first_cate=":2==e?n="sell_first_cate="+t.modelBrand+"&sell_second_cate="+t.modelBrand:3==e?n="sell_first_cate="+t.modelBrand+"&sell_second_cate="+t.modelCategory+"&sell_third_cate="+t.modelCategory:4==e&&(n="sell_first_cate="+t.modelBrand+"&sell_second_cate="+t.modelCategory+"&sell_third_cate="+t.modelSeries+"&sell_four_cate="+t.modelSeries),this.$util.ajax({method:"get",url:t.$util.apiConfig.traderManage.productManage.goodsListJsonUrl+"?"+n,data:""}).then(function(a){if(200===a.data.code){if(1==e){t.brandList=[],t.modelBrand="",t.modelCategory="",t.modelSeries="",t.modalSeriesDetail="";var n=a.data.result.itemCategoryDTOList1;for(var i in n){var r={value:n[i].cid,label:n[i].cName};t.brandList.push(r)}t.categoryList=[],t.seriesList=[],t.seriesDetailList=[]}else if(2==e){t.modelCategory="",t.modelSeries="",t.modalSeriesDetail="",t.categoryList=[];var o=a.data.result.itemCategoryDTOList2;for(var l in o){var d={value:o[l].cid,label:o[l].cName};t.categoryList.push(d)}t.seriesList=[],t.seriesDetailList=[]}else if(3==e){t.modelSeries="",t.modalSeriesDetail="",t.seriesList=[];var s=a.data.result.itemCategoryDTOList3;for(var c in s){var g={value:s[c].cid,label:s[c].cName};t.seriesList.push(g)}t.seriesDetailList=[]}else if(4==e){t.modalSeriesDetail="",t.seriesDetailList=[];var u=a.data.result.itemCategoryDTOList4;for(var h in u){var m={value:u[h].cid,label:u[h].cName};t.seriesDetailList.push(m)}}}else console.log("失败信息：",a)}).catch(function(e){console.log("失败信息：",e)})},checkout:function(e){var a=new Date(this.value.month),t=a.getFullYear(),n=a.getMonth()+1+"",i=new Date(t,n,0),r=i.getDate(),o=/^\d+$/;return this.value.multiple?this.value.month?""==this.value.targetSales||0==this.value.targetSales?void this.$Message.info("目标总销量未填写或者为0！"):""==this.value.attendancedays||0==this.value.attendancedays?void this.$Message.info("应出勤天数未填写或者为0！"):this.value.attendancedays>r?void this.$Message.info("应出勤天数不能大于当月天数！"):o.test(this.value.targetSales)?o.test(this.value.attendancedays)?1:void this.$Message.info("应出勤天数只能为正整数！"):void this.$Message.info("目标总销量只能为正整数！"):void this.$Message.info("月度不能为空！"):void this.$Message.info("业务员不能为空！")},saveBtn:function(){var e=this,a=this;if(a.checkout(1)){var t=new Date(this.value.month),n=t.getFullYear()+"",i=t.getMonth()+1+"",r="",o=this.$route.query.type,l=/^\d+$/;if(r=i.length>1?i:"0"+i,""!=this.tempTips)return void(this.tempTips="");for(var d in a.data1)if(a.data1[d].sort=d,""==a.data1[d].saleTarget||0==a.data1[d].saleTarget||!l.test(a.data1[d].saleTarget))return void this.$Message.info("各目标销量不能为空或者为0，必须为正整数！");var s=[{detailDTOList:a.data1,salesTarget:a.value.targetSales,salesmanId:"",salesmanName:"",month:r,year:n,attendanceDays:a.value.attendancedays,type:2,id:this.value.id}];this.formItem.salesman.map(function(a){e.value.multiple==a.userid&&(s[0].salesmanId=a.userid,s[0].salesmanName=a.username)}),1==o?this.$ajax({method:"get",url:this.$util.apiConfig.promotionManage.warAdviser.targetConfig.getSaveAgin+"?salesmanId="+s[0].salesmanId+"&type="+s[0].type+"&year="+s[0].year+"&month="+s[0].month,data:""}).then(function(a){1==a.data.result?e.$Modal.error({title:"提示",content:a.data.message}):e.$Modal.confirm({title:"提示",content:"<p>确定保存吗？</p>",onOk:function(){e.$ajax({method:"post",url:e.$util.apiConfig.promotionManage.warAdviser.targetConfig.getSave,data:s}).then(function(a){e.loading=!1,e.modalFlag=!0}).catch(function(e){console.log("失败信息：",e)})}})}).catch(function(e){console.log("失败信息：",e)}):3==o?(this.localDel.length>=1&&this.$ajax({method:"get",url:this.$util.apiConfig.promotionManage.warAdviser.targetConfig.getcDetail+"?idList="+this.localDel.join(),data:""}).then(function(e){}).catch(function(e){console.log("失败信息：",e)}),this.$Modal.confirm({title:"提示",content:"<p>确定保存吗？</p>",onOk:function(){e.$ajax({method:"post",url:e.$util.apiConfig.promotionManage.warAdviser.targetConfig.getSave,data:s}).then(function(a){e.loading=!1,e.modalFlag=!0}).catch(function(e){console.log("失败信息：",e)})}})):4==o?this.$ajax({method:"get",url:this.$util.apiConfig.promotionManage.warAdviser.targetConfig.getSaveAgin+"?salesmanId="+s[0].salesmanId+"&type="+s[0].type+"&year="+s[0].year+"&month="+s[0].month,data:""}).then(function(a){1==a.data.result?e.$Modal.error({title:"提示",content:a.data.message}):(delete s[0].id,s[0].detailDTOList.forEach(function(e){for(var a in e)null==e[a]&&delete e[a];delete e.updateTime,delete e.updateUser,delete e.createTime,delete e.createUser,delete e.dealerId,delete e.id,delete e.targetId}),e.$Modal.confirm({title:"提示",content:"<p>确定保存吗？</p>",onOk:function(){e.$ajax({method:"post",url:e.$util.apiConfig.promotionManage.warAdviser.targetConfig.getSave,data:s}).then(function(a){e.loading=!1,e.modalFlag=!0}).catch(function(e){console.log("失败信息：",e)})}}))}).catch(function(e){console.log("失败信息：",e)}):2==o&&(this.localDel.length>=1&&this.$ajax({method:"get",url:this.$util.apiConfig.promotionManage.warAdviser.targetConfig.getcDetail+"?idList="+this.localDel.join(),data:""}).then(function(e){}).catch(function(e){console.log("失败信息：",e)}),this.$Modal.confirm({title:"提示",content:"<p>确定保存吗？</p>",onOk:function(){e.$ajax({method:"post",url:e.$util.apiConfig.promotionManage.warAdviser.targetConfig.getSave,data:s}).then(function(a){e.loading=!1,e.modalFlag=!0}).catch(function(e){console.log("失败信息：",e)})}}))}},queryDetail:function(){var e=this;this.$ajax({method:"get",url:this.$util.apiConfig.promotionManage.warAdviser.targetConfig.getDetail+"?id="+this.$route.query.id+"&page.rows=999&_="+(new Date).getTime(),data:""}).then(function(a){if(200==a.data.code){e.data1=a.data.result.salesmanTargetDetail.rows;var t=a.data.result.salesmanTargetInfo;e.value.multiple=String(t.salesmanId),e.value.month=t.year+"-"+t.month,e.value.targetSales=t.salesTarget,e.value.attendancedays=t.attendanceDays,e.value.id=t.id}else e.$Message.info("失败信息：",a.data.message)}).catch(function(e){console.log("失败信息：",e)})},goback:function(){this.$router.push({name:"month-target-list"})},goNewBuild:function(){this.modalFlag=!1,this.goal_editor=!1,this.data1=[],this.value={multiple:"",month:"",brand:"",school:"",targetSales:"",attendanceDays:""},this.$router.push({name:"month-target-new",query:{type:1}})},goCopy:function(){this.modalFlag=!1,this.goal_editor=!1},returnBtn:function(){this.$router.go(-1)},editBtn:function(){var e=this;this.handelShow=!1,this.goal=!0,this.hShow=!0;var a=[{title:"品牌",align:"center",key:"brandName",editable:!0},{title:"品类",align:"center",key:"cname",editable:!0},{title:"系列",align:"center",key:"seriesName",editable:!0},{title:"目标总销量",align:"center",key:"saleTarget",render:function(a,t){return a("div",[a("Input",{props:{value:t.row.saleTarget,disabled:e.handelShow},on:{"on-blur":function(a){t.row.saleTarget=a.target.value,e.data1[t.index].saleTarget=a.target.value;var n=0,i=0,r="";if(1==t.row.level){for(var o in e.data1)e.data1[o].brandId&&1==e.data1[o].level&&(n+=Number(e.data1[o].saleTarget));i=e.value.targetSales,r="目标销量不能超过目标总销量！"}else if(2==t.row.level){for(var l in e.data1)e.data1[l].brandId&&e.data1[l].cid&&!e.data1[l].seriesId&&e.data1[l].brandId==t.row.brandId&&(n+=Number(e.data1[l].saleTarget)),e.data1[l].brandId==t.row.brandId&&1==e.data1[l].level&&(i=e.data1[l].saleTarget);r="目标销量总和超出品牌目标销量！"}else if(3==t.row.level){for(var d in e.data1)e.data1[d].brandId==t.row.brandId&&e.data1[d].cid==t.row.cid&&e.data1[d].seriesId&&(n+=Number(e.data1[d].saleTarget)),e.data1[d].brandId==t.row.brandId&&e.data1[d].cid==t.row.cid&&2==e.data1[d].level&&(i=e.data1[d].saleTarget);r="目标销量总各超出品类目标销量！"}Number(n)>Number(i)&&(e.$Message.info(r),e.data1[t.index].saleTarget=0,a.target.value=0)}}})])}},{title:"操作",align:"center",key:"handle",render:function(a,t){return a("div",[a("Button",{props:{type:"error",size:"small"},on:{click:function(){e.remove(t.index,t.row.id)}}},"删除")])}}];this.newcolumns=a}},components:{},created:function(){this.getSelectType(1),this.getFormItem()}}},2039:function(e,a,t){var n=t(2040);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);t(43)("55a204b8",n,!1,{})},2040:function(e,a,t){a=e.exports=t(42)(!1),a.push([e.i,"\n.width-100 {\n  width: 100%;\n}\n.lb-left {\n  float: left;\n}\n.lb-right {\n  float: right;\n}\n.lb-center {\n  text-align: center;\n}\n.lb-promotion-main {\n  height: auto;\n  background-color: #fff;\n}\n.lb-promotion-main .lb-promotion-search {\n  border-bottom: 1px dashed #e5e5e5;\n}\n.lb-promotion-main .lb-promotion-search .lb-promotion-row {\n  margin-bottom: 14px;\n}\n.lb-promotion-main .lb-promotion-search .lb-promotion-row .ListName {\n  text-align: right;\n  line-height: 32px;\n  color: #747474;\n  font-size: 12px;\n  margin-right: 8px;\n}\n.promotion-page {\n  margin: 1rem 0 0 0;\n}\n.container {\n  background: #fff;\n  color: #747474;\n  border: 1px solid #E8E8E8;\n  padding: 1% 1% 3%;\n}\n.margin-top-8 {\n  margin-top: 8px;\n}\n.margin-top-10 {\n  margin-top: 10px;\n}\n.margin-top-20 {\n  margin-top: 20px;\n}\n.margin-left-10 {\n  margin-left: 10px;\n}\n.margin-bottom-10 {\n  margin-bottom: 10px;\n}\n.margin-bottom-12 {\n  margin-bottom: 12px;\n}\n.margin-bottom-14 {\n  margin-bottom: 14px;\n}\n.margin-bottom-100 {\n  margin-bottom: 100px;\n}\n.margin-right-10 {\n  margin-right: 10px;\n}\n.padding-left-6 {\n  padding-left: 6px;\n}\n.padding-left-8 {\n  padding-left: 5px;\n}\n.padding-left-10 {\n  padding-left: 10px;\n}\n.padding-left-20 {\n  padding-left: 20px;\n}\n.height-100 {\n  height: 100%;\n}\n.height-120px {\n  height: 100px;\n}\n.height-200px {\n  height: 200px;\n}\n.height-492px {\n  height: 492px;\n}\n.height-460px {\n  height: 460px;\n}\n.line-gray {\n  height: 0;\n  border-bottom: 2px solid #dcdcdc;\n}\n.notwrap {\n  word-break: keep-all;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.padding-left-5 {\n  padding-left: 10px;\n}\n[v-cloak] {\n  display: none;\n}\n.mb--12 {\n  margin-bottom: 12px;\n}\n.mb--14 {\n  margin-bottom: 14px;\n}\n.border-b--dashed {\n  border-bottom: 1px dashed #e5e5e5;\n}\n.pd--20 {\n  padding: 20px;\n}\n.ml--50 {\n  margin-left: 50px;\n}\n.fr {\n  float: right;\n}\n.fl {\n  float: left;\n}\n.bg--white {\n  background: #fff;\n}\n.clearfix:after {\n  content: '';\n  display: block;\n  height: 0;\n  clear: both;\n}\n.text-center {\n  text-align: center;\n}\n.white {\n  background-color: white;\n}\n.select_box {\n  padding: 20px;\n  border-bottom: 1px dashed #E8E8E8;\n}\n.ling_height {\n  padding-top: 15px;\n}\n.text_align_right {\n  text-align: right;\n}\n.text_align_center {\n  text-align: center;\n}\n.operation_box {\n  padding: 10px 20px;\n  text-align: right;\n}\n.page_right {\n  text-align: right;\n  padding: 10px 20px;\n}\n.input_width {\n  width: 120px;\n}\n.search_btn {\n  width: 100px;\n}\n.margin_bottom_0 {\n  margin-bottom: 0;\n}\n.ivu-breadcrumb a {\n  color: #999;\n}\n.ivu-breadcrumb {\n  font-size: 12px;\n}\n.ivu-breadcrumb > span:last-child {\n  color: #426196;\n}\n.box_shadow {\n  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.2);\n  border-color: #eee;\n}\n.border_bottom_dashed {\n  border-bottom: 1px dashed #E8E8E8;\n}\n.problem_table .ivu-checkbox-wrapper {\n  margin-right: 0px;\n}\n.month-target-new {\n  width: 100%;\n  height: 100%;\n  background: #fff;\n  color: #747474;\n  border: 1px solid #E8E8E8;\n  text-align: center;\n}\n.month-target-new .head1 {\n  padding: 10px 0;\n  border-bottom: 1px dashed #E8E8E8;\n}\n.month-target-new .head1 .xiala1 {\n  width: 68%;\n}\n.month-target-new .head1 .xiala2 {\n  width: 50%;\n}\n.month-target-new .head1 #yue {\n  width: 50%;\n  height: 34px;\n}\n.month-target-new .head1 #jin {\n  width: 50%;\n  height: 34px;\n}\n.month-target-new .add {\n  margin: 10px 0;\n}\n.month-target-new .table1 {\n  margin: 0 1%;\n}\n.month-target-new .edit,\n.month-target-new .return {\n  margin: 10px 10px;\n}\n.month-target-new div.ivu-modal-footer {\n  display: none;\n}\n.month-target-new .ModalBtn {\n  margin-right: 12px;\n  width: 100px;\n}\n",""])},2041:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"month-target-new",staticStyle:{"padding-bottom":"30px"}},[t("div",{staticClass:"head1"},[t("Row",[t("Col",{attrs:{span:"6"}},[e._v("\n                业务员：\n                "),t("Select",{staticClass:"xiala1",attrs:{filterable:"",placeholder:"请选择或搜索名字",disabled:e.handelShow||e.goal_editor},model:{value:e.value.multiple,callback:function(a){e.$set(e.value,"multiple",a)},expression:"value.multiple"}},e._l(e.formItem.salesman,function(a){return t("Option",{key:a.userid,attrs:{value:a.userid}},[e._v(e._s(a.username))])}))],1),e._v(" "),t("Col",{attrs:{span:"6"}},[e._v("\n                月度：\n                "),t("DatePicker",{staticStyle:{width:"50%"},attrs:{type:"month",disabled:e.handelShow||e.goal_editor,readonly:e.handelShow||e.goal_editor},model:{value:e.value.month,callback:function(a){e.$set(e.value,"month",a)},expression:"value.month"}})],1),e._v(" "),t("Col",{attrs:{span:"6"}},[t("label",{attrs:{for:"jin"}},[e._v("目标总销量 :  ")]),t("Input",{attrs:{id:"jin",disabled:e.handelShow},on:{"on-blur":e.checkTargetTotal},model:{value:e.value.targetSales,callback:function(a){e.$set(e.value,"targetSales",a)},expression:"value.targetSales"}})],1),e._v(" "),t("Col",{attrs:{span:"6"}},[e._v("\n                应出勤天数：\n                "),t("Input",{staticStyle:{width:"50%"},attrs:{disabled:e.handelShow},model:{value:e.value.attendancedays,callback:function(a){e.$set(e.value,"attendancedays",a)},expression:"value.attendancedays"}})],1)],1)],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.goal,expression:"goal"}],staticClass:"head1"},[t("p",{staticStyle:{"text-align":"left",height:"25px","padding-left":"20px","font-weight":"bold","font-size":"16px"}},[e._v("目标分解：")]),e._v(" "),t("row",[t("Col",{attrs:{span:"6"}},[e._v("\n            品牌：\n            "),t("Select",{staticClass:"xiala2",staticStyle:{width:"160px"},attrs:{clearable:""},on:{"on-change":function(a){e.getSelectType(2,e.modelCategory)}},model:{value:e.modelBrand,callback:function(a){e.modelBrand=a},expression:"modelBrand"}},e._l(e.brandList,function(a){return t("i-option",{key:a.value,attrs:{value:a.value}},[e._v(e._s(a.label))])}))],1),e._v(" "),t("Col",{attrs:{span:"6"}},[e._v("\n            品类：\n            "),t("Select",{staticClass:"xiala2",staticStyle:{width:"160px"},attrs:{clearable:""},on:{"on-change":function(a){e.getSelectType(3,e.modelCategory)}},model:{value:e.modelCategory,callback:function(a){e.modelCategory=a},expression:"modelCategory"}},e._l(e.categoryList,function(a){return t("Option",{key:a.value,attrs:{value:a.value}},[e._v(e._s(a.label))])}))],1),e._v(" "),t("Col",{attrs:{span:"6"}},[e._v("\n            系列：\n            "),t("Select",{staticClass:"xiala2",staticStyle:{width:"160px"},attrs:{clearable:""},on:{"on-change":function(a){e.getSelectType(4,e.modelSeries)}},model:{value:e.modelSeries,callback:function(a){e.modelSeries=a},expression:"modelSeries"}},e._l(e.seriesList,function(a){return t("Option",{key:a.value,attrs:{value:a.value}},[e._v(e._s(a.label))])}))],1),e._v(" "),t("Col",{attrs:{span:"4",offset:"2"}},[t("Button",{attrs:{type:"primary"},on:{click:e.addition}},[e._v("添加")])],1)],1)],1),e._v(" "),t("Table",{staticClass:"table1",attrs:{columns:e.newcolumns,data:e.data1}}),e._v(" "),t("Button",{directives:[{name:"show",rawName:"v-show",value:e.handelShow,expression:"handelShow"}],staticClass:"edit",attrs:{type:"primary"},on:{click:e.editBtn}},[e._v("编辑")]),e._v(" "),t("Button",{directives:[{name:"show",rawName:"v-show",value:e.goal,expression:"goal"}],staticClass:"add",attrs:{type:"primary"},on:{click:e.saveBtn}},[e._v("保存")]),e._v(" "),t("Button",{directives:[{name:"show",rawName:"v-show",value:e.handelShow||e.hShow,expression:"handelShow||hShow"}],staticClass:"return",attrs:{type:"primary"},on:{click:e.returnBtn}},[e._v("返回")]),e._v(" "),t("Modal",{attrs:{title:"提示"},model:{value:e.modalFlag,callback:function(a){e.modalFlag=a},expression:"modalFlag"}},[t("p",{staticStyle:{"font-size":"20px","margin-bottom":"30px"}},[e._v("保存成功！")]),e._v(" "),t("br"),e._v(" "),t("div",{staticStyle:{"text-align":"center"}},[t("Button",{staticClass:"ModalBtn",attrs:{type:"primary"},on:{click:e.goback}},[e._v("返回")]),e._v(" "),t("Button",{staticClass:"ModalBtn",attrs:{type:"primary"},on:{click:e.goNewBuild}},[e._v("继续新建")]),e._v(" "),t("Button",{staticClass:"ModalBtn",attrs:{type:"primary"},on:{click:e.goCopy}},[e._v("新建(复制)")])],1)])],1)},i=[];n._withStripped=!0;var r={render:n,staticRenderFns:i};a.default=r},712:function(e,a,t){"use strict";function n(e){s||t(2039)}Object.defineProperty(a,"__esModule",{value:!0});var i=t(1594),r=t.n(i);for(var o in i)"default"!==o&&function(e){t.d(a,e,function(){return i[e]})}(o);var l=t(2041),d=t.n(l),s=!1,c=t(13),g=n,u=c(r.a,d.a,!1,g,null,null);u.options.__file="src/views/promotion-manage/war-adviser/target-config/month-target-new/month-target-new.vue",a.default=u.exports}});