webpackJsonp([249],{1586:function(t,n,e){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var a=e(38),r=(o(a),e(239));o(r);n.default={data:function(){var t=this;return{totalCount:1,loading:!1,modal1:!1,columns:[{title:"促销编码",align:"center",width:120,key:"promotionCode"},{title:"促销名称",align:"center",width:100,key:"title"},{title:"促销类型",align:"center",width:100,key:"type",render:function(t,n){return t("div",1==n.row.type?"买赠":2==n.row.type?"返利":3==n.row.type?"特价":"")}},{title:"促销规则",align:"center",width:100,key:"promotionRules",render:function(t,n){var e="";return 1==n.row.meetType?e="满"+n.row.meetNum+"元返"+n.row.proNum+"%":2==n.row.meetType&&(e="满"+n.row.meetNum+"件返"+n.row.proNum+"元"),t("div",e)}},{title:"开始时间",align:"center",width:90,key:"beginDate",render:function(n,e){return n("div",e.row.beginDate?t.formatDate(e.row.beginDate,"yyyy-MM-DD hh:mm:ss"):"")}},{title:"结束时间",align:"center",width:90,key:"endDate",render:function(n,e){return n("div",e.row.endDate?t.formatDate(e.row.endDate,"yyyy-MM-DD hh:mm:ss"):"")}},{title:"剩余返利总金额",align:"center",width:110,render:function(t,n){return t("div",n.row.remainingRebateTotal?Number(n.row.remainingRebateTotal).toFixed(2):"0.00")}},{title:"预计返利总金额",align:"center",width:110,key:"totalAmount",render:function(t,n){return t("div",n.row.totalAmount?Number(n.row.totalAmount).toFixed(2):"0.00")}},{title:"允许返利总金额",align:"center",width:110,key:"allowAmount",render:function(t,n){return t("div",n.row.allowAmount?Number(n.row.allowAmount).toFixed(2):"0.00")}},{title:"操作",align:"center",key:"handle",width:100,render:function(n,e){return n("div",[n("Button",{props:{type:"primary",size:"small"},style:{marginBottom:"5px",width:"64px"},on:{click:function(){t.$router.push({name:"rebate-detail-page",query:{promotionCode:e.row.promotionCode}})}}},"详情")])}}],data:[{promotionNumber:"2018061400048",promotionName:"活动名称",promotiontype:"买赠",promotionRules:"电饭锅",startDate:"2018-6-6",endDate:"2018-6-16",estimatedAmount:"666.00"},{promotionNumber:"2018061400048",promotionName:"活动名称",promotiontype:"买赠",promotionRules:"电饭锅",startDate:"2018-6-6",endDate:"2018-6-16",estimatedAmount:"666.00"}],value:{promotionCode:"",title:"",beginDate:"",endDate:""},res:"",page:1,params:{pager:{page:1,rows:10},promotionInfoDTO:{beginDate:{},endDate:{},promotionCode:"",title:""}}}},mounted:function(){},methods:{queryList:function(){this.page=1,this.getData()},getData:function(){var t=this;this.data=[],this.value.beginDate&&(this.value.beginDate=this.formatDate(new Date(this.value.beginDate).getTime(),"yyyy-MM-DD")),this.value.endDate&&(this.value.endDate=this.formatDate(new Date(this.value.endDate).getTime(),"yyyy-MM-DD"));var n={promotionInfoDTO:this.value,page:this.page};this.loading=!0,this.$ajax({method:"post",url:this.$util.apiConfig.promotionManage.warAdviser.realTimeVerification.rebateList,data:n}).then(function(n){t.loading=!1;var e=n.data.result.pager.records;t.totalCount=n.data.result.pager.totalCount,t.data=e}).catch(function(t){console.log("失败信息：",t)})},changePage:function(t){this.page=t,this.getData()},formatDate:function(t,n){if(""===t)return"";var e=new Date;if(e.setTime(t),!n)var n="yyyy-MM-DD hh:mm:ss";var o={"M+":e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,"D+":e.getDate()<10?"0"+e.getDate():e.getDate(),"h+":e.getHours()<10?"0"+e.getHours():e.getHours(),"m+":e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),"s+":e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds()};/(y+)/.test(n)&&(n=n.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in o)new RegExp("("+a+")").test(n)&&(n=n.replace(RegExp.$1,1===RegExp.$1.length?o[a]:("00"+o[a]).substr((""+o[a]).length)));return n}},components:{},created:function(){this.getData()}}},2015:function(t,n,e){var o=e(2016);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);e(43)("4303a1cd",o,!1,{})},2016:function(t,n,e){n=t.exports=e(42)(!1),n.push([t.i,"\n.width-100 {\n  width: 100%;\n}\n.lb-left {\n  float: left;\n}\n.lb-right {\n  float: right;\n}\n.lb-center {\n  text-align: center;\n}\n.lb-promotion-main {\n  height: auto;\n  background-color: #fff;\n}\n.lb-promotion-main .lb-promotion-search {\n  border-bottom: 1px dashed #e5e5e5;\n}\n.lb-promotion-main .lb-promotion-search .lb-promotion-row {\n  margin-bottom: 14px;\n}\n.lb-promotion-main .lb-promotion-search .lb-promotion-row .ListName {\n  text-align: right;\n  line-height: 32px;\n  color: #747474;\n  font-size: 12px;\n  margin-right: 8px;\n}\n.promotion-page {\n  margin: 1rem 0 0 0;\n}\n.container {\n  background: #fff;\n  color: #747474;\n  border: 1px solid #E8E8E8;\n  padding: 1% 1% 3%;\n}\n.margin-top-8 {\n  margin-top: 8px;\n}\n.margin-top-10 {\n  margin-top: 10px;\n}\n.margin-top-20 {\n  margin-top: 20px;\n}\n.margin-left-10 {\n  margin-left: 10px;\n}\n.margin-bottom-10 {\n  margin-bottom: 10px;\n}\n.margin-bottom-12 {\n  margin-bottom: 12px;\n}\n.margin-bottom-14 {\n  margin-bottom: 14px;\n}\n.margin-bottom-100 {\n  margin-bottom: 100px;\n}\n.margin-right-10 {\n  margin-right: 10px;\n}\n.padding-left-6 {\n  padding-left: 6px;\n}\n.padding-left-8 {\n  padding-left: 5px;\n}\n.padding-left-10 {\n  padding-left: 10px;\n}\n.padding-left-20 {\n  padding-left: 20px;\n}\n.height-100 {\n  height: 100%;\n}\n.height-120px {\n  height: 100px;\n}\n.height-200px {\n  height: 200px;\n}\n.height-492px {\n  height: 492px;\n}\n.height-460px {\n  height: 460px;\n}\n.line-gray {\n  height: 0;\n  border-bottom: 2px solid #dcdcdc;\n}\n.notwrap {\n  word-break: keep-all;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.padding-left-5 {\n  padding-left: 10px;\n}\n[v-cloak] {\n  display: none;\n}\n.mb--12 {\n  margin-bottom: 12px;\n}\n.mb--14 {\n  margin-bottom: 14px;\n}\n.border-b--dashed {\n  border-bottom: 1px dashed #e5e5e5;\n}\n.pd--20 {\n  padding: 20px;\n}\n.ml--50 {\n  margin-left: 50px;\n}\n.fr {\n  float: right;\n}\n.fl {\n  float: left;\n}\n.bg--white {\n  background: #fff;\n}\n.clearfix:after {\n  content: '';\n  display: block;\n  height: 0;\n  clear: both;\n}\n.text-center {\n  text-align: center;\n}\n.white {\n  background-color: white;\n}\n.select_box {\n  padding: 20px;\n  border-bottom: 1px dashed #E8E8E8;\n}\n.ling_height {\n  padding-top: 15px;\n}\n.text_align_right {\n  text-align: right;\n}\n.text_align_center {\n  text-align: center;\n}\n.operation_box {\n  padding: 10px 20px;\n  text-align: right;\n}\n.page_right {\n  text-align: right;\n  padding: 10px 20px;\n}\n.input_width {\n  width: 120px;\n}\n.search_btn {\n  width: 100px;\n}\n.margin_bottom_0 {\n  margin-bottom: 0;\n}\n.ivu-breadcrumb a {\n  color: #999;\n}\n.ivu-breadcrumb {\n  font-size: 12px;\n}\n.ivu-breadcrumb > span:last-child {\n  color: #426196;\n}\n.box_shadow {\n  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.2);\n  border-color: #eee;\n}\n.border_bottom_dashed {\n  border-bottom: 1px dashed #E8E8E8;\n}\n.problem_table .ivu-checkbox-wrapper {\n  margin-right: 0px;\n}\n.rebate-promotion-collect {\n  width: 100%;\n  height: 100%;\n  background: #fff;\n  color: #747474;\n  border: 1px solid #E8E8E8;\n  text-align: center;\n  padding: 10px 0;\n}\n.rebate-promotion-collect .head {\n  padding: 20px 0;\n  border-bottom: 1px dashed #E8E8E8;\n}\n.rebate-promotion-collect .head .head_left {\n  padding: 10px 0;\n  border-right: 1px dashed #E8E8E8;\n}\n.rebate-promotion-collect .head .head_left #projectNumber {\n  width: 50%;\n}\n.rebate-promotion-collect .head .head_left #promotionNumber {\n  width: 50%;\n}\n.rebate-promotion-collect .head .head_left #promotionName {\n  width: 50%;\n}\n.rebate-promotion-collect .head .head_left .date {\n  width: 50%;\n}\n.rebate-promotion-collect .head .head_right .query {\n  margin-top: 10px;\n}\n.rebate-promotion-collect .table {\n  margin: 1%;\n}\n.rebate-promotion-collect .page {\n  text-align: right;\n  margin-right: 1%;\n}\n.ivu-table-row-highlight td,\ntr.ivu-table-row-highlight.ivu-table-row-hover td {\n  background: red;\n  color: #fff;\n}\n",""])},2017:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"rebate-promotion-collect"},[e("Row",{staticClass:"head"},[e("Col",{staticClass:"head_left",attrs:{span:"21"}},[e("Row",[e("Col",{attrs:{span:"6"}},[e("label",{attrs:{for:"promotionNumber"}},[t._v("促销编码 :  ")]),e("Input",{attrs:{id:"promotionNumber",clearable:""},model:{value:t.value.promotionCode,callback:function(n){t.$set(t.value,"promotionCode",n)},expression:"value.promotionCode"}})],1),t._v(" "),e("Col",{attrs:{span:"6"}},[e("label",{attrs:{for:"promotionName"}},[t._v("促销名称 :  ")]),e("Input",{attrs:{id:"promotionName",clearable:""},model:{value:t.value.title,callback:function(n){t.$set(t.value,"title",n)},expression:"value.title"}})],1),t._v(" "),e("Col",{attrs:{span:"6"}},[t._v("\n                    开始时间 : \n                    "),e("DatePicker",{staticClass:"date",attrs:{type:"date"},model:{value:t.value.beginDate,callback:function(n){t.$set(t.value,"beginDate",n)},expression:"value.beginDate"}})],1),t._v(" "),e("Col",{attrs:{span:"6"}},[t._v("\n                    结束时间 : \n                    "),e("DatePicker",{staticClass:"date",attrs:{type:"date"},model:{value:t.value.endDate,callback:function(n){t.$set(t.value,"endDate",n)},expression:"value.endDate"}})],1)],1)],1),t._v(" "),e("Col",{staticClass:"head_right",attrs:{span:"3"}},[e("Button",{staticClass:"query",on:{click:t.queryList}},[t._v("查询")])],1)],1),t._v(" "),e("Table",{staticClass:"table",attrs:{loading:t.loading,columns:t.columns,data:t.data}}),t._v(" "),e("Page",{attrs:{current:t.page,total:t.totalCount,"show-total":"","show-elevator":"","class-name":"page"},on:{"on-change":t.changePage}})],1)},a=[];o._withStripped=!0;var r={render:o,staticRenderFns:a};n.default=r},704:function(t,n,e){"use strict";function o(t){p||e(2015)}Object.defineProperty(n,"__esModule",{value:!0});var a=e(1586),r=e.n(a);for(var i in a)"default"!==i&&function(t){e.d(n,t,function(){return a[t]})}(i);var l=e(2017),d=e.n(l),p=!1,g=e(13),s=o,m=g(r.a,d.a,!1,s,null,null);m.options.__file="src/views/promotion-manage/war-adviser/real-time-verification/rebate-promotion-collect/rebate-promotion-collect.vue",n.default=m.exports}});