webpackJsonp([27,240,278],{1409:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"sillLevelTable",props:{refs:String,columns:Array,data:Array,disabled:{type:Boolean,default:!1},silllevelType:{type:Boolean,default:!1}},data:function(){return{checkAll:!1}},methods:{handleInput:function(t){/^[1-9]\d*$/.test(t.target.value)||(t.target.value="")},handleSelectChange:function(t){this.checkAll&&(this.checkAll=!this.checkAll),this.data.filter(function(t){return 1==t.myCheck}).length==this.data.length&&(this.checkAll=!0),this.$emit("on-checked",t)},handleCheckAll:function(){var t=this;this.data.forEach(function(e){e.myCheck=t.checkAll}),this.$emit("on-checkedAll",this.checkAll)},getSelection:function(){var t=[];for(var e in this.data)1==this.data[e].myCheck&&t.push(parseInt(e));return t},isDisabled:function(t){return!!this.disabled||(t?!this.silllevelType:this.silllevelType)}},watch:{data:function(t,e){}}}},1454:function(t,e,n){var o=n(1455);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n(43)("b4a013ce",o,!1,{})},1455:function(t,e,n){e=t.exports=n(42)(!1),e.push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},1456:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ivu-table-wrapper"},[n("div",{staticClass:"ivu-table ivu-table-border"},[n("table",{ref:"refs",staticClass:"ivu-table-body sill-level-table",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[n("tr",[t._l(t.columns,function(e){return[n("th",{staticClass:"ivu-table-column-center"},[n("div",{staticClass:"ivu-table-cell"},["selection"==e.type?n("Checkbox",{on:{"on-change":t.handleCheckAll},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}}):t._e(),t._v("\n              "+t._s(e.title?e.title:"#")+"\n            ")],1)])]})],2),t._v(" "),t._l(t.data,function(e,o){return[n("tr",[t._l(t.columns,function(i,s){return[0==s?n("td",{attrs:{rowspan:e.promotionLevelList.length}},[n("div",{staticClass:"ivu-table-cell"},["selection"==i.type?n("Checkbox",{on:{"on-change":function(e){t.handleSelectChange(o)}},model:{value:e.myCheck,callback:function(n){t.$set(e,"myCheck",n)},expression:"item.myCheck"}}):t._e(),t._v("\n                "+t._s(o+1)+"\n              ")],1)]):n("td",["input"==i.type?n("div",{staticClass:"ivu-table-cell"},["levelMoney"==i.key?n("Input",{attrs:{disabled:t.isDisabled(),size:"small"},model:{value:e.promotionLevelList[0][i.key],callback:function(n){t.$set(e.promotionLevelList[0],i.key,n)},expression:"item.promotionLevelList[0][cell.key]"}}):"levelNum"==i.key?n("Input",{attrs:{disabled:t.isDisabled(1),size:"small"},on:{"on-keyup":t.handleInput},model:{value:e.promotionLevelList[0][i.key],callback:function(n){t.$set(e.promotionLevelList[0],i.key,n)},expression:"item.promotionLevelList[0][cell.key]"}}):t._e()],1):n("div",{staticClass:"ivu-table-cell"},[t._v(t._s(e.promotionLevelList[0][i.key]))])])]})],2),t._v(" "),t._l(e.promotionLevelList.length-1,function(o){return n("tr",[t._l(t.columns,function(i,s){return[0!==s?n("td",["input"==i.type?n("div",{staticClass:"ivu-table-cell"},["levelMoney"==i.key?n("Input",{attrs:{disabled:t.isDisabled(),size:"small"},model:{value:e.promotionLevelList[o][i.key],callback:function(n){t.$set(e.promotionLevelList[o],i.key,n)},expression:"item.promotionLevelList[son][cell.key]"}}):"levelNum"==i.key?n("Input",{attrs:{disabled:t.isDisabled(1),size:"small"},on:{"on-keyup":t.handleInput},model:{value:e.promotionLevelList[o][i.key],callback:function(n){t.$set(e.promotionLevelList[o],i.key,n)},expression:"item.promotionLevelList[son][cell.key]"}}):t._e()],1):n("div",{staticClass:"ivu-table-cell"},[t._v("\n                "+t._s(e.promotionLevelList[o][i.key])+"\n              ")])]):t._e()]})],2)})]})],2)])])},i=[];o._withStripped=!0;var s={render:o,staticRenderFns:i};e.default=s},1624:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(146),s=o(i),r=n(241),a=o(r),l=n(242),c=o(l),u=n(909),p=o(u),m=n(152),d=o(m),f=n(239),v=o(f),h=n(619),g=o(h),_=n(602),y=o(_);e.default={components:{sillLevelTable:g.default,steps:y.default},data:function(){return{stepsObj:{current:4,data:["定向规则","主品配置","赠品配置","坎级配置","促销预览"]},promotionSalemanScopeDTOList:[],disabled:!1,promotionInfoDTO:{title:"",beginDate:"",endDate:""},secLevelData:[],mainLevelData:[],promotionScopeDetailDTOList:[],amountType:!0,amountType1:!0,mainProduct:[],secProduct:[],selectedStore:[],exceptStore:[],columns1:[{title:"条形码",align:"center",key:"barCode"},{title:"商品名称",align:"center",key:"itemName"},{title:"价格CAR",align:"center",key:"price"},{title:"价格EA",align:"center",key:"type"},{title:"品牌",align:"center",key:"brandName"},{title:"品类",align:"center"},{title:"系列",align:"center",key:"cname"},{title:"数量",align:"center",key:"mustNum"}],columns2:[{title:"门店类型",align:"center",key:"storeType"},{title:"自定义组",align:"center",key:"storeGroupName"},{title:"门店编码",align:"center",key:"scopeCode"},{title:"门店名称",align:"center",key:"scopeName"}],columns3:[{title:"门店类型",align:"center",key:"storeType"},{title:"自定义组",align:"center",key:"storeGroupName"},{title:"门店编码",align:"center",key:"storeCode"},{title:"门店名称",align:"center",key:"storeName"}],mainLevelCol:[{title:"坎级",align:"center"},{title:"条形码",align:"center",key:"code"},{title:"商品名称",align:"center",key:"itemName"},{title:"金额",align:"center",type:"input",key:"levelMoney"},{title:"数量",align:"center",key:"levelNum",type:"input"}],secLevelCol:[{title:"坎级",align:"center"},{title:"条形码",align:"center",key:"code"},{title:"商品名称",align:"center",key:"itemName"},{title:"数量",align:"center",key:"levelNum",type:"input"}],mode:null,group:[],storeProp:[],conflictModal:!1,conflictMsg:{}}},beforeRouteLeave:function(t,e,n){"new-buyPromotion-secProduct"!=t.name&&"new-buyPromotion-sillLevel"!=t.name&&(window.sessionStorage.removeItem("copyDetail"),window.sessionStorage.removeItem("rule"),window.sessionStorage.removeItem("mainProduct"),window.sessionStorage.removeItem("secProduct")),n()},mounted:function(){this.mode=this.$route.query.mode,"view"==this.mode?this.getDetail():this.getDetailFromSession()},methods:{getDetailFromSession:function(){var t=this;try{var e=JSON.parse(window.sessionStorage.rule),n=JSON.parse(window.sessionStorage.mainProduct),o=JSON.parse(window.sessionStorage.secProduct);this.rule=e,this.scope=e.scope,this.promotionInfoDTO=e.promotionInfoDTO,this.promotionInfoDTO.scope=e.scope,this.promotionInfoDTO.isLevel=this.$route.query.isLevel,1==this.$route.query.isLevel&&1==this.$route.query.silllevelType?(this.secProduct=this.formatData(o),this.mainProduct=this.formatData(n)):(this.secProduct=o,this.mainProduct=n),this.amountType=!n[0].unit,this.amountType1=!o[0].unit,this.promotionScopeDetailDTOList=e.promotionScopeDetailNewDTOList,3==this.promotionInfoDTO.scope?(this.promotionScopeDetailDTOList.forEach(function(e){t.storeProp.push(e.scopeName),t.group.push(e.storeGroupName)}),this.group=(0,d.default)(new p.default(this.group)),this.storeProp=(0,d.default)(new p.default(this.storeProp))):2==this.promotionInfoDTO.scope&&(this.selectedStore=e.promotionScopeDetailNewDTOList.map(function(t){return{storeType:t.storeNature,storeGroupName:t.groupName,scopeCode:t.scopeCode,scopeName:t.scopeName}})),this.promotionInfoDTO.isLevel,this.promotionSalemanScopeDTOList=this.rule.promotionSalemanScopeDTOList.map(function(t){return t.split(",")[2]}),this.exceptStore=e.except.map(function(t){return{storeType:t.storeNature,storeGroupName:t.groupName,storeCode:t.scopeCode,storeName:t.scopeName}}),this.mainLevelData=this.formatLevel(n),this.secLevelData=this.formatLevel(o)}catch(t){console.log(t),this.$Modal.error({title:"提示",content:t,onOk:function(){history.go(-1)}})}},formatData:function(t){return t.length>0&&t[0].promotionLevelList&&t.forEach(function(t){t.mustNum=t.promotionLevelList[0].levelNum}),t},timestampToTime:function(t){var e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())+" "+(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())},back:function(){history.go(-1)},submitData:function(){function t(){return e.apply(this,arguments)}var e=(0,c.default)(a.default.mark(function t(){var e,n,o,i,s,r,l,c,u,p,m,d,f,v,h=this;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return m=function(t){t.forEach(function(t){delete t.dealerId,delete t.promotionId,delete t.id,t.promotionLevelList&&t.promotionLevelList.length>0&&t.promotionLevelList.forEach(function(t){delete t.promotionId,delete t.dealerId,delete t.goodsId,delete t.id})})},e=this.$route.query.mode,n=JSON.parse(window.sessionStorage.rule),o=n.promotionInfoDTO,i=n.promotionScopeDetailNewDTOList,s=n.promotionStoreScopeExclusionDTOList,r=JSON.parse(window.sessionStorage.mainProduct),l=JSON.parse(window.sessionStorage.secProduct),c=n.promotionSalemanScopeDTOList,u="",p="","modify"==e?(p="修改",o.id=this.$route.query.id,u=this.$util.apiConfig.promotionManage.warProgramme.promoNew.updatePromotion):(p="添加",o={},u=this.$util.apiConfig.promotionManage.warProgramme.promoNew.savePromotion,m(r),m(l)),d=this.$route.query.isLevel,o.title=n.promotionInfoDTO.title,o.type=1,o.isLevel=d,o.scope=n.scope,o.beginDate=new Date(n.promotionInfoDTO.beginDate),o.endDate=new Date(n.promotionInfoDTO.endDate),o.channel=n.promotionInfoDTO.channel.join(","),0==d&&(r.forEach(function(t){t.mustFullMoney=t.mustNum,delete t.mustNum,delete t.promotionLevelList}),l.forEach(function(t){delete t.promotionLevelList})),1==d&&(r.forEach(function(t){t.mustFullMoney=t.promotionLevelList[0].levelNum,delete t.mustNum,2==h.$route.query.silllevelType&&delete t.mustFullMoney}),l.forEach(function(t){t.mustNum=t.promotionLevelList[0].levelNum,delete t.mustFullMoney})),c=c.map(function(t){var e=t.split(",");return{salesmanId:e[0],salesmanCode:e[1],salesmanName:e[2]}}),t.prev=15,t.next=18,this.$util.ajax({method:"post",url:u,data:{promotionInfoNewDTO:o,promotionGoodsNewList:r,promotionSendGoodsNewList:l,promotionScopeDetailNewDTOList:i,promotionStoreScopeExclusionDTOList:s,promotionSalemanScopeDTOList:c}});case 18:f=t.sent,this.disabled=!1,v=f.data,200==v.code?this.$Modal.success({title:"提示",content:p+"成功",onOk:function(){h.$router.push({name:"new-buy-promotion-list"})}}):this.$Modal.error({title:"提示",content:v.message}),t.next=27;break;case 24:t.prev=24,t.t0=t.catch(15),console.log(t.t0);case 27:case"end":return t.stop()}},t,this,[[15,24]])}));return t}(),confirm:function(){var t=this,e=this;this.disabled=!0,this.isConflict().then(function(n){var o=n.data;if(200==o.code)t.submitData();else{o.type=o.result.split("_")[0],o.promotionId=o.result.split("_")[1];var i=o.message.match(/\d+/gi);console.log(o.type),t.conflictMsg=(0,s.default)({},o,{productCode:i[0],activityCode:i[1]}),e.conflictModal=!0}})},continueDel:function(){this.submitData()},toConflictPromotion:function(){var t="";4==this.conflictMsg.type?t="/marketing/marketing-center/new-group-goods/new-group-goods-detail?id="+this.conflictMsg.promotionId:3==this.conflictMsg.type?t="/marketing/marketing-center/new-salePromotion-index/new-salePromotion-detail?id="+this.conflictMsg.promotionId:2==this.conflictMsg.type?t="/marketing/marketing-center/rebate-promotion-index/rebatePromotion-detail?id="+this.conflictMsg.promotionId:1==this.conflictMsg.type&&(t="/marketing/marketing-center/new-buy-promotion-index/new-buyPromotio-detail?id="+this.conflictMsg.promotionId+"&mode=view"),window.open(window.location.href.replace(this.$route.fullPath,t),"_blank")},prev:function(){history.go(-1)},formatLevel:function(t){var e=[];if(t.length>0&&t[0].promotionLevelList)for(var n=0,o=t[0].promotionLevelList.length;n<o;n++)!function(n,o){var i=[];t.forEach(function(t){i.push({code:t.barCode,itemName:t.itemName,levelMoney:t.promotionLevelList[n].levelMoney,levelNum:t.promotionLevelList[n].levelNum})}),e.push({promotionLevelList:i})}(n);return e},getDetail:function(){function t(){return e.apply(this,arguments)}var e=(0,c.default)(a.default.mark(function t(){var e,n,o,i,s=this;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.$route.query.id,t.next=4,this.$util.ajax({method:"post",url:this.$util.apiConfig.promotionManage.warProgramme.promoNew.buyPromotionDetail,data:v.default.stringify({id:e})});case 4:n=t.sent,o=n.data,200==o.code&&(i=o.result.detail,this.promotionInfoDTO=i.promotionInfoNewDTO,this.secProduct=i.promotionSendGoodsNewList,this.mainProduct=i.promotionGoodsNewList,this.promotionScopeDetailDTOList=i.promotionScopeDetailNewDTOList,this.selectedStore=i.promotionScopeDetailNewDTOList,3==this.promotionInfoDTO.scope&&(this.promotionScopeDetailDTOList.forEach(function(t){s.storeProp.push(t.scopeName),s.group.push(t.storeGroupName)}),this.group=(0,d.default)(new p.default(this.group)),this.storeProp=(0,d.default)(new p.default(this.storeProp))),this.mainLevelData=this.formatLevel(i.promotionGoodsNewList),this.secLevelData=this.formatLevel(i.promotionSendGoodsNewList),this.exceptStore=i.promotionStoreScopeExclusionDTOList,this.amountType=!this.mainProduct[0].unit,this.amountType1=!this.secProduct[0].unit,this.mainProduct.forEach(function(t){t.mustFullMoney?t.mustNum=t.mustFullMoney:i.promotionRuleNewDTO&&(t.mustNum=i.promotionRuleNewDTO.meetNum)}),this.secProduct.forEach(function(t){t.mustNum||i.promotionRuleNewDTO&&(t.mustNum=i.promotionRuleNewDTO.meetNum)}),this.promotionSalemanScopeDTOList=i.promotionSalemanScopeDTOList.map(function(t){return t.salesmanName}),this.promotionSalemanScopeDTOList=this.promotionSalemanScopeDTOList.join(" ")),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),this.$Modal.error({title:"提示",content:t.t0,onOk:function(){history.go(-1)}});case 13:case"end":return t.stop()}},t,this,[[0,9]])}));return t}(),isConflict:function(){function t(){return e.apply(this,arguments)}var e=(0,c.default)(a.default.mark(function t(){var e,n,o,i,s,r,l;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=JSON.parse(window.sessionStorage.rule),n=e.promotionInfoDTO,o=e.promotionSalemanScopeDTOList,n.beginDate=new Date(n.beginDate).getTime(),n.endDate=new Date(n.endDate).getTime(),n.type=1,n.scope=e.scope,n.isLevel=1,n.channel=n.channel.join(","),o=o.map(function(t){var e=t.split(",");return{salesmanId:e[0],salesmanCode:e[1],salesmanName:e[2]}}),i=e.promotionScopeDetailNewDTOList,s=e.promotionStoreScopeExclusionDTOList,r=JSON.parse(window.sessionStorage.mainProduct),t.next=15,this.$util.ajax({method:"post",url:this.$util.apiConfig.promotionManage.warProgramme.promoNew.checkGoodsList,data:{promotionGoodsNewList:r,promotionScopeDetailNewDTOList:i,promotionInfoNewDTO:n,promotionStoreScopeExclusionDTOList:s,promotionSalemanScopeDTOList:o}});case 15:return l=t.sent,t.abrupt("return",l);case 17:case"end":return t.stop()}},t,this)}));return t}()}}},2129:function(t,e,n){var o=n(2130);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n(43)("69a82260",o,!1,{})},2130:function(t,e,n){e=t.exports=n(42)(!1),e.push([t.i,"\n.promotionDetail-page-head[data-v-72c1feb0] {\n  margin-bottom: 12px;\n  font-size: 14px;\n  font-weight: bold;\n}\n.promotionDetail-page-label[data-v-72c1feb0] {\n  text-align: right;\n  line-height: 32px;\n  color: #747474;\n  font-size: 12px;\n  margin-right: 16px;\n}\n.promotionDetail-page-label__required[data-v-72c1feb0] {\n  color: red;\n}\n.promotionDetail-page .amount-switch[data-v-72c1feb0] {\n  font-size: 12px;\n  margin-left: 300px;\n}\n.promotionDetail-page .but[data-v-72c1feb0] {\n  text-align: center;\n  padding-bottom: 30px;\n  padding-top: 20px;\n}\n.sign-span[data-v-72c1feb0] {\n  font-size: 12px;\n  padding: 2px 3px;\n  color: #fff;\n  margin-right: 5px;\n}\n.sign-span--red[data-v-72c1feb0] {\n  background: red;\n}\n.sign-span--black[data-v-72c1feb0] {\n  background: black;\n}\n.f14 .ivu-modal-body[data-v-72c1feb0] {\n  font-size: 14px;\n}\n",""])},2131:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){var t=this,e=this,n=e.$createElement,o=e._self._c||n;return o("div",[o("steps",{directives:[{name:"show",rawName:"v-show",value:"view"!=e.mode,expression:"mode != 'view'"}],attrs:{stepsObj:e.stepsObj}}),e._v(" "),o("div",{staticClass:"promotionDetail-page bg--white pd--20"},[o("p",{staticClass:"promotionDetail-page-head"},[e._v("买赠政策")]),e._v(" "),o("Row",{staticClass:"mb--12"},[o("Col",{attrs:{span:2}},[e._v("促销名称")]),e._v(" "),o("Col",{attrs:{span:4}},[e._v(e._s(e.promotionInfoDTO.title))]),e._v(" "),o("Col",{attrs:{span:2}},[e._v("开始时间")]),e._v(" "),o("Col",{attrs:{span:4}},[e._v(e._s(e.timestampToTime(e.promotionInfoDTO.beginDate)))]),e._v(" "),o("Col",{attrs:{span:2}},[e._v("结束时间")]),e._v(" "),o("Col",{attrs:{span:4}},[e._v(e._s(e.timestampToTime(e.promotionInfoDTO.endDate)))])],1),e._v(" "),o("p",{staticClass:"promotionDetail-page-head"},[o("span",[e._v("主品商品")]),e._v(" "),o("span",{staticClass:"amount-switch"},[o("span",[e._v("单价")]),e._v(" "),o("i-switch",{attrs:{size:"large",disabled:!0},model:{value:e.amountType,callback:function(t){e.amountType=t},expression:"amountType"}},[o("span",{attrs:{slot:"open"},slot:"open"},[e._v("EA")]),e._v(" "),o("span",{attrs:{slot:"close"},slot:"close"},[e._v("CAR")])])],1)]),e._v(" "),o("Table",{staticClass:"mb--12",attrs:{columns:e.columns1,data:e.mainProduct}}),e._v(" "),o("p",{staticClass:"promotionDetail-page-head"},[o("span",[e._v("赠品商品")]),e._v(" "),o("span",{staticClass:"amount-switch"},[o("span",[e._v("单价")]),e._v(" "),o("i-switch",{attrs:{size:"large",disabled:!0},model:{value:e.amountType1,callback:function(t){e.amountType1=t},expression:"amountType1"}},[o("span",{attrs:{slot:"open"},slot:"open"},[e._v("EA")]),e._v(" "),o("span",{attrs:{slot:"close"},slot:"close"},[e._v("CAR")])])],1)]),e._v(" "),o("Table",{staticClass:"mb--12",attrs:{columns:e.columns1,data:e.secProduct}}),e._v(" "),o("div",{staticClass:"mb--12"},[1==e.promotionInfoDTO.isLevel?o("div",[o("p",{staticClass:"promotionDetail-page-head"},[e._v("坎级")]),e._v(" "),o("sill-level-table",{ref:"mainLevelTable",staticClass:"mb--12",attrs:{columns:e.mainLevelCol,data:e.mainLevelData,disabled:!0}}),e._v(" "),o("sill-level-table",{ref:"secLevelTable",attrs:{columns:e.secLevelCol,data:e.secLevelData}})],1):e._e()]),e._v(" "),o("p",{staticClass:"promotionDetail-page-head"},[e._v("活动门店")]),e._v(" "),o("div",{staticClass:"mb--12"},[1==e.promotionInfoDTO.scope?o("Row",[e._v("全部门店")]):e._e(),e._v(" "),3==e.promotionInfoDTO.scope?o("Row",[o("Row",[o("Col",{attrs:{span:2}},[e._v("门店性质:")]),e._v(" "),o("Col",{attrs:{span:6}},e._l(e.storeProp,function(t){return o("span",{staticClass:"margin-right-10"},[e._v("\r\n              "+e._s(t)+"\r\n            ")])}))],1),e._v(" "),o("Row",[o("Col",{attrs:{span:2}},[e._v("自定义组:")]),e._v(" "),o("Col",{attrs:{span:6}},e._l(e.group,function(t){return o("span",{staticClass:"margin-right-10"},[e._v("\r\n              "+e._s(t)+"\r\n            ")])}))],1)],1):e._e(),e._v(" "),o("Row",[o("Col",{attrs:{span:2}},[e._v("发布平台:")]),e._v(" "),"string"==typeof e.promotionInfoDTO.channel?o("span",[e._v(e._s(e.promotionInfoDTO.channel))]):e._e(),e._v(" "),e._l(e.promotionInfoDTO.channel,function(t,n){return"string"!=typeof e.promotionInfoDTO.channel?o("span",{key:n},[e._v(e._s(t)+"  ")]):e._e()})],2),e._v(" "),o("Row",[o("Col",{attrs:{span:2}},[e._v("业务员:")]),e._v(" "),"string"==typeof e.promotionSalemanScopeDTOList?o("span",[e._v(e._s(e.promotionSalemanScopeDTOList))]):e._e(),e._v(" "),e._l(e.promotionSalemanScopeDTOList,function(t,n){return"string"!=typeof e.promotionSalemanScopeDTOList?o("span",{key:n},[e._v(" "+e._s(t)+"  ")]):e._e()})],2)],1),e._v(" "),2==e.promotionInfoDTO.scope?o("Table",{staticClass:"mb--12",attrs:{columns:e.columns2,data:e.selectedStore}}):o("div",[o("p",{staticClass:"promotionDetail-page-head"},[e._v("排除门店")]),e._v(" "),o("Table",{staticClass:"mb--12",attrs:{columns:e.columns3,data:e.exceptStore}})],1),e._v(" "),o("Row",{staticClass:"but"},[o("Button",{staticClass:"mr--20",attrs:{size:"large"},on:{click:e.prev}},[e._v("返回")]),e._v(" "),"view"!=e.mode?o("Button",{attrs:{type:"primary",disabled:e.disabled,size:"large"},on:{click:e.confirm}},[e._v("确 定")]):e._e()],1),e._v(" "),o("Modal",{ref:"conflictModal",staticClass:"f14",attrs:{closable:!1,"mask-closable":!1,title:"以下产品在当前执行范围和执行时间段内已配置以下方案，"+(1==e.conflictMsg.type?"不能添加":"是否叠加")},model:{value:e.conflictModal,callback:function(t){e.conflictModal=t},expression:"conflictModal"}},[o("p",[o("span",{staticClass:"sign-span",class:1==e.conflictMsg.type?"sign-span--red":"sign-span--black"},[e._v("\r\n            "+e._s(1==e.conflictMsg.type?"买赠":"特价")+"\r\n          ")]),e._v("\r\n          编码为"),o("a",[e._v(e._s(e.conflictMsg.productCode))]),e._v("\r\n          的产品在活动编码为"),o("a",{on:{click:e.toConflictPromotion}},[e._v(e._s(e.conflictMsg.activityCode))]),e._v("的活动中存在冲突\r\n        ")]),e._v(" "),o("div",{staticClass:"text-center",attrs:{slot:"footer"},slot:"footer"},[1==e.conflictMsg.type?o("Button",{attrs:{type:"primary"},on:{click:function(){t.conflictModal=!1}}},[e._v("确 定")]):o("div",{staticClass:"text-center"},[o("Button",{attrs:{type:"primary"},on:{click:e.continueDel}},[e._v("是")]),e._v(" "),o("Button",{on:{click:function(){t.conflictModal=!1}}},[e._v("否")])],1)],1)])],1)],1)},i=[];o._withStripped=!0;var s={render:o,staticRenderFns:i};e.default=s},602:function(t,e,n){"use strict";function o(t){c||n(946)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(930),s=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);var a=n(948),l=n.n(a),c=!1,u=n(13),p=o,m=u(s.a,l.a,!1,p,null,null);m.options.__file="src/views/marketing-centre-components/steps.vue",e.default=m.exports},619:function(t,e,n){"use strict";function o(t){c||n(1454)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1409),s=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);var a=n(1456),l=n.n(a),c=!1,u=n(13),p=o,m=u(s.a,l.a,!1,p,null,null);m.options.__file="src/views/promotion-manage/war-programme/new-buy-promotion/components/sill-level-table.vue",e.default=m.exports},742:function(t,e,n){"use strict";function o(t){c||n(2129)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1624),s=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);var a=n(2131),l=n.n(a),c=!1,u=n(13),p=o,m=u(s.a,l.a,!1,p,"data-v-72c1feb0",null);m.options.__file="src/views/promotion-manage/war-programme/new-buy-promotion/buy-promotion-detail.vue",e.default=m.exports},897:function(t,e,n){var o=n(44);t.exports=function(t,e){if(!o(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},909:function(t,e,n){t.exports={default:n(910),__esModule:!0}},910:function(t,e,n){n(151),n(75),n(100),n(911),n(917),n(920),n(922),t.exports=n(11).Set},911:function(t,e,n){"use strict";var o=n(912),i=n(897);t.exports=n(913)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return o.def(i(this,"Set"),t=0===t?0:t,t)}},o)},912:function(t,e,n){"use strict";var o=n(32).f,i=n(148),s=n(245),r=n(64),a=n(244),l=n(240),c=n(147),u=n(246),p=n(248),m=n(37),d=n(243).fastKey,f=n(897),v=m?"_s":"size",h=function(t,e){var n,o=d(e);if("F"!==o)return t._i[o];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var u=t(function(t,o){a(t,u,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[v]=0,void 0!=o&&l(o,n,t[c],t)});return s(u.prototype,{clear:function(){for(var t=f(this,e),n=t._i,o=t._f;o;o=o.n)o.r=!0,o.p&&(o.p=o.p.n=void 0),delete n[o.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var n=f(this,e),o=h(n,t);if(o){var i=o.n,s=o.p;delete n._i[o.i],o.r=!0,s&&(s.n=i),i&&(i.p=s),n._f==o&&(n._f=i),n._l==o&&(n._l=s),n[v]--}return!!o},forEach:function(t){f(this,e);for(var n,o=r(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(o(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!h(f(this,e),t)}}),m&&o(u.prototype,"size",{get:function(){return f(this,e)[v]}}),u},def:function(t,e,n){var o,i,s=h(t,e);return s?s.v=n:(t._l=s={i:i=d(e,!0),k:e,v:n,p:o=t._l,n:void 0,r:!1},t._f||(t._f=s),o&&(o.n=s),t[v]++,"F"!==i&&(t._i[i]=s)),t},getEntry:h,setStrong:function(t,e,n){c(t,e,function(t,n){this._t=f(t,e),this._k=n,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?u(0,n.k):"values"==e?u(0,n.v):u(0,[n.k,n.v]):(t._t=void 0,u(1))},n?"entries":"values",!n,!0),p(e)}}},913:function(t,e,n){"use strict";var o=n(12),i=n(36),s=n(243),r=n(66),a=n(45),l=n(245),c=n(240),u=n(244),p=n(44),m=n(77),d=n(32).f,f=n(914)(0),v=n(37);t.exports=function(t,e,n,h,g,_){var y=o[t],b=y,D=g?"set":"add",L=b&&b.prototype,w={};return v&&"function"==typeof b&&(_||L.forEach&&!r(function(){(new b).entries().next()}))?(b=e(function(e,n){u(e,b,t,"_c"),e._c=new y,void 0!=n&&c(n,g,e[D],e)}),f("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in L&&(!_||"clear"!=t)&&a(b.prototype,t,function(n,o){if(u(this,b,t),!e&&_&&!p(n))return"get"==t&&void 0;var i=this._c[t](0===n?0:n,o);return e?this:i})}),_||d(b.prototype,"size",{get:function(){return this._c.size}})):(b=h.getConstructor(e,t,g,D),l(b.prototype,n),s.NEED=!0),m(b,t),w[t]=b,i(i.G+i.W+i.F,w),_||h.setStrong(b,t,g),b}},914:function(t,e,n){var o=n(64),i=n(149),s=n(98),r=n(99),a=n(915);t.exports=function(t,e){var n=1==t,l=2==t,c=3==t,u=4==t,p=6==t,m=5==t||p,d=e||a;return function(e,a,f){for(var v,h,g=s(e),_=i(g),y=o(a,f,3),b=r(_.length),D=0,L=n?d(e,b):l?d(e,0):void 0;b>D;D++)if((m||D in _)&&(v=_[D],h=y(v,D,g),t))if(n)L[D]=h;else if(h)switch(t){case 3:return!0;case 5:return v;case 6:return D;case 2:L.push(v)}else if(u)return!1;return p?-1:c||u?u:L}}},915:function(t,e,n){var o=n(916);t.exports=function(t,e){return new(o(t))(e)}},916:function(t,e,n){var o=n(44),i=n(247),s=n(14)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),o(e)&&null===(e=e[s])&&(e=void 0)),void 0===e?Array:e}},917:function(t,e,n){var o=n(36);o(o.P+o.R,"Set",{toJSON:n(918)("Set")})},918:function(t,e,n){var o=n(150),i=n(919);t.exports=function(t){return function(){if(o(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},919:function(t,e,n){var o=n(240);t.exports=function(t,e){var n=[];return o(t,!1,n.push,n,e),n}},920:function(t,e,n){n(921)("Set")},921:function(t,e,n){"use strict";var o=n(36);t.exports=function(t){o(o.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},922:function(t,e,n){n(923)("Set")},923:function(t,e,n){"use strict";var o=n(36),i=n(76),s=n(64),r=n(240);t.exports=function(t){o(o.S,t,{from:function(t){var e,n,o,a,l=arguments[1];return i(this),e=void 0!==l,e&&i(l),void 0==t?new this:(n=[],e?(o=0,a=s(l,arguments[2],2),r(t,!1,function(t){n.push(a(t,o++))})):r(t,!1,n.push,n),new this(n))}})}},930:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"steps",props:{stepsObj:{type:Object}}}},946:function(t,e,n){var o=n(947);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n(43)("62877a53",o,!1,{})},947:function(t,e,n){e=t.exports=n(42)(!1),e.push([t.i,"\n.stepBox {\n  padding: 20px;\n  border-bottom: 1px dashed #E8E8E8;\n  margin-bottom: 10px;\n}\n.bgcolor {\n  background-color: white;\n}\n.ivu-steps-item.ivu-steps-status-wait .ivu-steps-title {\n  color: #AAA;\n}\n",""])},948:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stepBox bgcolor"},[n("Steps",{attrs:{current:t.stepsObj.current,size:"small"}},t._l(t.stepsObj.data,function(t,e){return n("Step",{key:t,attrs:{title:t}})}))],1)},i=[];o._withStripped=!0;var s={render:o,staticRenderFns:i};e.default=s}});