webpackJsonp([29,213],{1641:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(909),a=r(o),s=n(152),i=r(s),l=n(239),u=r(l),c=n(601),p=r(c);e.default={name:"groupBuy-list",components:{orderTable:p.default},data:function(){return{storeType:"2",pageSize:5,currentPage:1,pageArr:[5,10,15,20,50,100,200,500],totalCount:1,queryArray:{title:"",beginDate:"",endDate:"",brandName:"",cname:"",classfiy:"",type:"",platform:"",content:""},loading:!1,tableRef:"",columnsList:[{title:"序号",width:70,align:"center",type:"index"},{title:"门店编号",key:"storeCode",align:"center"},{title:"门店名称",key:"storeName",align:"center"},{title:"门店类型",key:"storeNature",align:"center"}],thisTableData:[],classfiyList:[{value:"",label:"全部"},{value:"1",label:"一帮卖"},{value:"2",label:"二帮卖"},{value:"3",label:"三帮卖"}],typeList:[{value:"",label:"全部"},{value:"1",label:"买赠"},{value:"2",label:"返利"},{value:"3",label:"特价"},{value:"4",label:"纯费用"},{value:"5",label:"秒杀"},{value:"6",label:"众筹"},{value:"7",label:"其他促销"},{value:"10",label:"组合商品"}],storeRange:[],storeProp:[],group:[]}},methods:{getStoreRange:function(t){var e=[];return t.forEach(function(t){e.push(t.scopeCode)}),e},getStoreList:function(t){var e=[];if(t)for(var n=0;n<t.length;n++){var r=t[n];e[n]={},e[n].storeCode=r.scopeCode,e[n].storeName=r.scopeName,e[n].id=r.id,e[n].scopeId=r.scopeId}return e},goBack:function(){this.$router.push({path:"other-promotion",query:{editPage:this.$route.query.editPage}})},query:function(t){this.$Spin.show({render:function(t){return t("div",[t("Icon",{class:"demo-spin-icon-load",props:{type:"ios-loading",size:18}}),t("div","Loading")])}});var e=this;this.$util.ajax({method:"post",url:e.$util.apiConfig.promotionManage.warProgramme.otherPromotion.update,data:u.default.stringify({policyId:this.$route.query.id,page:t,rows:this.pageSize})}).then(function(t){if(e.$Spin.hide(),e.totalCount=0,"200"==t.data.code){var n=t.data.result.result;e.storeType=n.policyDealerList[0].scopeType,e.queryArray.title=n.title,e.queryArray.beginDate=e.timestampToTime(n.beginDate),e.queryArray.endDate=e.timestampToTime(n.endDate),e.queryArray.brandName=n.brandName,e.queryArray.cname=n.cname,3==e.storeType&&(n.policyDealerList.forEach(function(t){t.scopeName&&e.storeProp.push(t.scopeName),t.storeGroupName&&e.group.push(t.storeGroupName)}),e.group=(0,i.default)(new a.default(e.group)),e.storeProp=(0,i.default)(new a.default(e.storeProp))),e.thisTableData=2==e.storeType?t.data.result.storeInfoList:e.storeType,e.queryArray.content=n.content,e.queryArray.platform=n.platform,e.queryArray.classfiy=e.classfiyList[n.classfiy].label;for(var r in e.typeList)n.type==e.typeList[r].value&&(e.queryArray.type=e.typeList[r].label);e.totalCount=Number(t.data.result.total)}else e.$Modal.error({title:"提示",content:t.data.message})}).catch(function(t){e.$Spin.hide(),console.log(t)})},timestampToTime:function(t){var e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())+" "+(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())},handelStore:function(t){this.query(t)},pageSizeChange:function(t){this.pageSize=t,this.query(1)}},mounted:function(){this.query(1)}}},2186:function(t,e,n){var r=n(2187);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(43)("0fb60397",r,!1,{})},2187:function(t,e,n){e=t.exports=n(42)(!1),e.push([t.i,"\n#queryArrayContent table{\n    width: 100%;\n    background: #fff;\n    border: 1px solid #ccc;\n    border-collapse: collapse;\n    color: #495060;\n}\n#queryArrayContent table tr:first-child{\n    font-weight: bold;\n    font-size: 14px;\n    color: #333;\n    background-color: #f2f2f2;\n}\n#queryArrayContent tr:nth-of-type(odd){\n    background: #f1f1f1;\n}\n#queryArrayContent tr:nth-of-type(even){\n     background: #fff;\n}\n#queryArrayContent td{\n    border: 0 none;\n    text-align: center;\n}\n#queryArrayContent p {\n  word-wrap: break-word;\n}\n",""])},2188:function(t,e,n){var r=n(2189);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(43)("145bbee7",r,!1,{})},2189:function(t,e,n){e=t.exports=n(42)(!1),e.push([t.i,"\n.ListName[data-v-0da295f8]{\n    text-align: right;\n    line-height: 46px;\n    color: #747474;\n    font-size: 12px;\n    margin-right: 16px;\n    font-weight: bold;\n}\n.content[data-v-0da295f8]{\n    line-height: 46px;\n    color: #747474;\n}\n.but[data-v-0da295f8]{\n    text-align: center;\n    padding-bottom: 30px;\n    padding-top: 20px;\n}\n",""])},2190:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{background:"#fff",padding:"20px"},attrs:{id:"otherDetail"}},[n("row",[n("Col",{staticClass:"ListName",attrs:{span:"2"}},[t._v("政策标题:")]),t._v(" "),n("Col",{staticClass:"content",attrs:{span:"6"}},[t._v(" "+t._s(t.queryArray.title))])],1),t._v(" "),n("row",[n("Col",{staticClass:"ListName",attrs:{span:"2"}},[t._v("开始时间:")]),t._v(" "),n("Col",{staticClass:"content",attrs:{span:"6"}},[t._v(" "+t._s(t.queryArray.beginDate))])],1),t._v(" "),n("row",[n("Col",{staticClass:"ListName",attrs:{span:"2"}},[t._v("结束时间:")]),t._v(" "),n("Col",{staticClass:"content",attrs:{span:"6"}},[t._v(" "+t._s(t.queryArray.endDate))])],1),t._v(" "),n("row",[n("Col",{staticClass:"ListName",attrs:{span:"2"}},[t._v("品牌:")]),t._v(" "),n("Col",{staticClass:"content",attrs:{span:"6"}},[t._v(" "+t._s(t.queryArray.brandName))])],1),t._v(" "),n("row",[n("Col",{staticClass:"ListName",attrs:{span:"2"}},[t._v("品类:")]),t._v(" "),n("Col",{staticClass:"content",attrs:{span:"6"}},[t._v(" "+t._s(t.queryArray.cname))])],1),t._v(" "),n("row",[n("Col",{staticClass:"ListName",attrs:{span:"2"}},[t._v("分类:")]),t._v(" "),n("Col",{staticClass:"content",attrs:{span:"6"}},[t._v(" "+t._s(t.queryArray.classfiy))])],1),t._v(" "),n("row",[n("Col",{staticClass:"ListName",attrs:{span:"2"}},[t._v("促销类型:")]),t._v(" "),n("Col",{staticClass:"content",attrs:{span:"6"}},[t._v(" "+t._s(t.queryArray.type))])],1),t._v(" "),n("row",[n("Col",{staticClass:"ListName",attrs:{span:"2"}},[t._v("门店范围:")]),t._v(" "),1==t.storeType?n("Col",{staticClass:"content",attrs:{span:"6"}},[t._v("全部门店")]):t._e(),t._v(" "),2==t.storeType?n("Col",{staticClass:"content",attrs:{span:"6"}},[t._v("指定门店")]):t._e(),t._v(" "),3==t.storeType?n("Col",{staticClass:"content",attrs:{span:"6"}},[t._v("指定门店范围")]):t._e()],1),t._v(" "),2==t.storeType?n("div",[n("row",{staticClass:"but",staticStyle:{"padding-bottom":"15px"}},[n("Page",{staticStyle:{display:"inline-block",float:"right","margin-left":"20px"},attrs:{total:t.totalCount,current:t.currentPage,"page-size":5,"show-total":"","show-sizer":"","page-size-opts":t.pageArr,"show-elevator":""},on:{"on-change":t.handelStore,"on-page-size-change":t.pageSizeChange}})],1),t._v(" "),n("row",{staticStyle:{padding:"0 20px"}},[n("order-table",{attrs:{refs:t.tableRef,columnsList:t.columnsList,thisTableData:t.thisTableData,loading:t.loading}})],1)],1):t._e(),t._v(" "),3==t.storeType?n("div",[n("row",[n("Col",{staticClass:"ListName",attrs:{span:"2"}},[t._v("指定门店范围")]),t._v(" "),n("Col",{staticClass:"content",attrs:{span:"10"},domProps:{textContent:t._s(t.storeRange.join(","))}}),t._v(" "),3==t.storeType?n("Col",{staticClass:"content",attrs:{span:"10"}},[n("div",[n("span",[t._v("门店性质:")]),t._v(" "),t._l(t.storeProp,function(e){return n("span",{staticStyle:{padding:"0 12px"}},[t._v(" \n                    "+t._s(e)+" ")])})],2),t._v(" "),n("div",[n("span",[t._v("标签分类:")]),t._v(" "),t._l(t.group,function(e){return n("span",{staticStyle:{padding:"0 12px"}},[t._v(" \n                    "+t._s(e)+" ")])})],2)]):t._e()],1)],1):t._e(),t._v(" "),n("row",[n("Col",{staticClass:"ListName",attrs:{span:"2"}},[t._v("发布平台:")]),t._v(" "),n("Col",{staticClass:"content",attrs:{span:"10"}},[t._v(t._s(t.queryArray.platform)+"\n        ")])],1),t._v(" "),n("row",[n("Col",{staticClass:"ListName",attrs:{span:"2"}},[t._v("内容:")]),t._v(" "),n("Col",{staticClass:"content",attrs:{span:"20"}},[n("div",{staticStyle:{width:"100%",overflow:"overlay"},attrs:{id:"queryArrayContent"},domProps:{innerHTML:t._s(t.queryArray.content)}})])],1),t._v(" "),n("row",{staticClass:"but"},[n("Button",{on:{click:function(e){t.goBack()}}},[t._v("返 回")])],1)],1)},o=[];r._withStripped=!0;var a={render:r,staticRenderFns:o};e.default=a},601:function(t,e,n){"use strict";function r(t){u||n(900)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(891),a=n.n(o);for(var s in o)"default"!==s&&function(t){n.d(e,t,function(){return o[t]})}(s);var i=n(902),l=n.n(i),u=!1,c=n(13),p=r,f=c(a.a,l.a,!1,p,null,null);f.options.__file="src/views/tables/components/orderTable.vue",e.default=f.exports},758:function(t,e,n){"use strict";function r(t){u||(n(2186),n(2188))}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1641),a=n.n(o);for(var s in o)"default"!==s&&function(t){n.d(e,t,function(){return o[t]})}(s);var i=n(2190),l=n.n(i),u=!1,c=n(13),p=r,f=c(a.a,l.a,!1,p,"data-v-0da295f8",null);f.options.__file="src/views/promotion-manage/war-programme/other-promotion/otherPromotion-detail.vue",e.default=f.exports},891:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"orderTable",props:{columnsList:Array,thisTableData:Array,getHeight:Number,loading:{type:Boolean,default:!0}},data:function(){return{}},created:function(){this.init()},methods:{init:function(){var t=this;this.columnsList.forEach(function(e){"address1"==e.key&&(e.render=function(e,n){return e("Row",{props:{type:"flex",align:"middle",justify:"center"}},[e("Col",{props:{span:"22"}},n.row.name),e("Col",{props:{span:"2"}},[e("Button",{props:{type:"text",icon:"edit"},on:{click:function(e){t.$emit("showLayer","true")}}})])])})})},a:function(t){this.$emit("listenCheckbox",t)}},watch:{}}},897:function(t,e,n){var r=n(44);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},900:function(t,e,n){var r=n(901);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(43)("296919d0",r,!1,{})},901:function(t,e,n){e=t.exports=n(42)(!1),e.push([t.i,"\n.show-edit-btn {\n  display: none;\n  margin-left: -10px;\n}\n.ivu-table-cell:hover .show-edit-btn {\n  display: inline-block;\n}\n",""])},902:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Table",{attrs:{height:t.getHeight,columns:t.columnsList,data:t.thisTableData,stripe:"",border:"",loading:t.loading},on:{"on-selection-change":t.a}})],1)},o=[];r._withStripped=!0;var a={render:r,staticRenderFns:o};e.default=a},909:function(t,e,n){t.exports={default:n(910),__esModule:!0}},910:function(t,e,n){n(151),n(75),n(100),n(911),n(917),n(920),n(922),t.exports=n(11).Set},911:function(t,e,n){"use strict";var r=n(912),o=n(897);t.exports=n(913)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(o(this,"Set"),t=0===t?0:t,t)}},r)},912:function(t,e,n){"use strict";var r=n(32).f,o=n(148),a=n(245),s=n(64),i=n(244),l=n(240),u=n(147),c=n(246),p=n(248),f=n(37),d=n(243).fastKey,v=n(897),y=f?"_s":"size",_=function(t,e){var n,r=d(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,u){var c=t(function(t,r){i(t,c,e,"_i"),t._t=e,t._i=o(null),t._f=void 0,t._l=void 0,t[y]=0,void 0!=r&&l(r,n,t[u],t)});return a(c.prototype,{clear:function(){for(var t=v(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[y]=0},delete:function(t){var n=v(this,e),r=_(n,t);if(r){var o=r.n,a=r.p;delete n._i[r.i],r.r=!0,a&&(a.n=o),o&&(o.p=a),n._f==r&&(n._f=o),n._l==r&&(n._l=a),n[y]--}return!!r},forEach:function(t){v(this,e);for(var n,r=s(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!_(v(this,e),t)}}),f&&r(c.prototype,"size",{get:function(){return v(this,e)[y]}}),c},def:function(t,e,n){var r,o,a=_(t,e);return a?a.v=n:(t._l=a={i:o=d(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=a),r&&(r.n=a),t[y]++,"F"!==o&&(t._i[o]=a)),t},getEntry:_,setStrong:function(t,e,n){u(t,e,function(t,n){this._t=v(t,e),this._k=n,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?c(0,n.k):"values"==e?c(0,n.v):c(0,[n.k,n.v]):(t._t=void 0,c(1))},n?"entries":"values",!n,!0),p(e)}}},913:function(t,e,n){"use strict";var r=n(12),o=n(36),a=n(243),s=n(66),i=n(45),l=n(245),u=n(240),c=n(244),p=n(44),f=n(77),d=n(32).f,v=n(914)(0),y=n(37);t.exports=function(t,e,n,_,h,g){var m=r[t],C=m,b=h?"set":"add",w=C&&C.prototype,x={};return y&&"function"==typeof C&&(g||w.forEach&&!s(function(){(new C).entries().next()}))?(C=e(function(e,n){c(e,C,t,"_c"),e._c=new m,void 0!=n&&u(n,h,e[b],e)}),v("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in w&&(!g||"clear"!=t)&&i(C.prototype,t,function(n,r){if(c(this,C,t),!e&&g&&!p(n))return"get"==t&&void 0;var o=this._c[t](0===n?0:n,r);return e?this:o})}),g||d(C.prototype,"size",{get:function(){return this._c.size}})):(C=_.getConstructor(e,t,h,b),l(C.prototype,n),a.NEED=!0),f(C,t),x[t]=C,o(o.G+o.W+o.F,x),g||_.setStrong(C,t,h),C}},914:function(t,e,n){var r=n(64),o=n(149),a=n(98),s=n(99),i=n(915);t.exports=function(t,e){var n=1==t,l=2==t,u=3==t,c=4==t,p=6==t,f=5==t||p,d=e||i;return function(e,i,v){for(var y,_,h=a(e),g=o(h),m=r(i,v,3),C=s(g.length),b=0,w=n?d(e,C):l?d(e,0):void 0;C>b;b++)if((f||b in g)&&(y=g[b],_=m(y,b,h),t))if(n)w[b]=_;else if(_)switch(t){case 3:return!0;case 5:return y;case 6:return b;case 2:w.push(y)}else if(c)return!1;return p?-1:u||c?c:w}}},915:function(t,e,n){var r=n(916);t.exports=function(t,e){return new(r(t))(e)}},916:function(t,e,n){var r=n(44),o=n(247),a=n(14)("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),r(e)&&null===(e=e[a])&&(e=void 0)),void 0===e?Array:e}},917:function(t,e,n){var r=n(36);r(r.P+r.R,"Set",{toJSON:n(918)("Set")})},918:function(t,e,n){var r=n(150),o=n(919);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return o(this)}}},919:function(t,e,n){var r=n(240);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},920:function(t,e,n){n(921)("Set")},921:function(t,e,n){"use strict";var r=n(36);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},922:function(t,e,n){n(923)("Set")},923:function(t,e,n){"use strict";var r=n(36),o=n(76),a=n(64),s=n(240);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,i,l=arguments[1];return o(this),e=void 0!==l,e&&o(l),void 0==t?new this:(n=[],e?(r=0,i=a(l,arguments[2],2),s(t,!1,function(t){n.push(i(t,r++))})):s(t,!1,n.push,n),new this(n))}})}}});