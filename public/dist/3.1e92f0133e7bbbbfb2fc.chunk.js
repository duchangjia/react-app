webpackJsonp([3,212],{1411:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(65);!function(t){t&&t.__esModule}(r);e.default={name:"orderTableDetail",props:{columnsList:Array,thisTableData:Array,loading:{type:Boolean,default:!0},singleCheck:{type:Boolean,default:!1}},data:function(){return{}},created:function(){this.init()},methods:{init:function(){var t=this;this.columnsList.forEach(function(e){"address1"==e.key&&(e.render=function(e,n){return e("Row",{props:{type:"flex",align:"middle",justify:"center"}},[e("Col",{props:{span:"22"}},n.row.name),e("Col",{props:{span:"2"}},[e("Button",{props:{type:"text",icon:"edit"},on:{click:function(e){t.$emit("showLayer","true")}}})])])})})},selectRow:function(t){this.$emit("checkRow",t)}},watch:{}}},1463:function(t,e,n){var r=n(1464);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(43)("2043c241",r,!1,{})},1464:function(t,e,n){e=t.exports=n(42)(!1),e.push([t.i,"\n.show-edit-btn {\n  display: none;\n  margin-left: -10px;\n}\n.ivu-table-cell:hover .show-edit-btn {\n  display: inline-block;\n}\n",""])},1465:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Table",{attrs:{columns:t.columnsList,"highlight-row":t.singleCheck,data:t.thisTableData,width:"100%",stripe:"",border:"",loading:t.loading},on:{"on-row-click":t.selectRow}})],1)},o=[];r._withStripped=!0;var a={render:r,staticRenderFns:o};e.default=a},1779:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(621),o=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default={name:"orderDetail",components:{orderTableDetail:o.default},data:function(){return{shoppingData:[],value14:"",tableRef:"tableR",tableRefStock:"tableRStock",modal1:!1,loading:!0,loadingStock:!1,stateString:"",remark:"",sourceListArray:{0:"",1:"手工做单",2:"SFA",3:"O2O",4:"车销订单",5:"代配送订单"},promotionListArray:{0:"-",1:"买赠",2:"返利",3:"特价",11:"组合"},stateListArray:{0:"",1:"待审核",2:"待发货",5:"待收货",6:"已取消",7:"已完成",8:"已关闭"},columnsList:[{title:"创建时间",key:"createTime",width:80},{title:"更新时间",key:"updateTime",width:80},{title:"退货来源",key:"sourceChannel"},{title:"退货单号",key:"returnNo",width:150},{title:"DMS订单号",key:"orderId",width:120},{title:"EA数量",key:"totalEAItemNum"},{title:"CAR数量",key:"totalCRTItemNum"},{title:"退货单金额",key:"returnAmount"},{title:"退货原因",key:"returnResults"},{title:"退货类型",key:"returnCustomerType",width:100,render:function(t,e){var n="退货退款";return 2==e.row.returnCustomerType&&(n="仅退货"),t("div",n)}},{title:"退货单状态",key:"returnStatus",width:100}],columnsListStock:[{title:"门店编码",key:"storeCode"},{title:"门店名称",key:"storeName"},{title:"下单账号",key:"createOrderCode"},{title:"下单人",key:"createOrderPerson"},{title:"业务员",key:"operatePerson"},{title:"发货仓库",width:300,key:"inventoryName"}],columnsListProduct:[{title:"序号",width:60,type:"index"},{title:"商品名称",key:"itemName",width:350},{title:"条形码",key:"item69",width:120},{title:"商品标识",key:"promotionMark",render:function(t,e){var n="-";return 1==e.row.itemType?n="常规装":2==e.row.itemType?n="促销装":3==e.row.itemType?n="赠品/非单卖品":4==e.row.itemType&&(n="广宣品"),t("div",n)}},{title:"转化系数",key:"packageNum"},{title:"件/箱单价",key:"itemActualAmount"},{title:"EA数量",key:"eAItemNum"},{title:"CAR数量",key:"cRTItemNum"},{title:"实际入库EA",key:"eAItemUnit"},{title:"实际入库CAR",key:"cRTItemUnit"},{title:"小计",key:"itemTotalActualAmount"}],thisTableData:[],thisTableDataStock:[],thisTableDataProduct:[],showBtn:!0}},methods:{goBack:function(){this.$router.push({path:"return-list"})},renderPage:function(t){var e=this;e.stateString=t.returnStatuss[t.tradeReturn.returnMain.returnStatus-1].name,e.thisTableData=[];var n=t.tradeReturn.returnMain,r={createTime:e.formatDate(n.createTime),updateTime:e.formatDate(n.updateTime),sourceChannel:t.channels[n.sourceChannel-1].name,returnNo:n.returnNo,orderId:n.orderId,totalCRTItemNum:n.totalCRTItemNum,totalEAItemNum:n.totalEAItemNum,returnAmount:n.returnAmount,returnResults:n.returnResult,discountAmout:n.discountAmout,returnStatus:t.returnStatuss[t.tradeReturn.returnMain.returnStatus-1].name,returnCustomerType:n.returnCustomerType};e.thisTableData.push(r),r={},r={storeCode:n.storeCode,storeName:n.storeName,createOrderCode:n.createOrderCode,createOrderPerson:n.createOrderPerson,operatePerson:n.operatePerson,inventoryName:n.inventoryName},e.thisTableDataStock=[],e.thisTableDataStock.push(r),e.thisTableDataProduct=[],t.tradeReturn.returnItems.forEach(function(t,n){var r={};r={itemName:t.itemName,item69:t.item69,promotionMark:t.itemTypeFlag?e.promotionListArray[t.promotionType]:"商品",packageNum:t.packageNum,itemType:t.itemType||0,itemActualAmount:t.itemActualAmount?parseFloat(t.itemActualAmount).toFixed(2):"0.00",eAItemNum:t.eaitemNum?t.eaitemNum:0,cRTItemNum:t.crtitemNum||0,eAItemUnit:t.activityEaNum||0,cRTItemUnit:t.activityCarNum||0,itemTotalActualAmount:t.itemTotalActualAmount?parseFloat(t.itemTotalActualAmount).toFixed(2):"0.00"},e.thisTableDataProduct.push(r)}),e.remark=n.remark?n.remark:"订单无备注"},loadPage:function(){var t=this;t.loading=!0;this.$route.query.id&&this.$route.query.id.toString();this.$util.ajax({method:"post",url:t.$util.apiConfig.traderManage.returnManage.getdetail+"?returnId="+this.$route.query.id,transformRequest:[function(t){var e="";for(var n in t)e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n])+"&";return e=e.substr(0,e.length-1)}],headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:""}).then(function(e){console.log(e.data),t.loading=!1,200==e.data.code&&t.renderPage(e.data.result)}).catch(function(t){console.log("失败信息：",t)})},formatDate:function(t,e){if(""===t||null===t)return"";var n=new Date;if(n.setTime(t),!e)var e="yyyy-MM-DD hh:mm:ss";var r={"M+":n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1,"D+":n.getDate()<10?"0"+n.getDate():n.getDate(),"h+":n.getHours()<10?"0"+n.getHours():n.getHours(),"m+":n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes(),"s+":n.getSeconds()<10?"0"+n.getSeconds():n.getSeconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length)));for(var o in r)new RegExp("("+o+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?r[o]:("00"+r[o]).substr((""+r[o]).length)));return e},print:function(){document.getElementById("noprint").style.display="none",window.print(),setTimeout(function(){document.getElementById("noprint").style.display=""})}},mounted:function(){this.loadPage()},watch:{$route:function(){this.loadPage()}}}},269:function(t,e,n){"use strict";function r(t){d||(n(2699),n(2701))}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1779),a=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,function(){return o[t]})}(i);var l=n(2703),s=n.n(l),d=!1,u=n(13),p=r,c=u(a.a,s.a,!1,p,"data-v-4e12d6a2",null);c.options.__file="src/views/trader-manage/return-manage/return-print.vue",e.default=c.exports},2699:function(t,e,n){var r=n(2700);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(43)("6e78af41",r,!1,{})},2700:function(t,e,n){e=t.exports=n(42)(!1),e.push([t.i,"\n.width-100 {\n  width: 100%;\n}\n.lb-left {\n  float: left;\n}\n.lb-right {\n  float: right;\n}\n.lb-center {\n  text-align: center;\n}\n.lb-promotion-main {\n  height: auto;\n  background-color: #fff;\n}\n.lb-promotion-main .lb-promotion-search {\n  border-bottom: 1px dashed #e5e5e5;\n}\n.lb-promotion-main .lb-promotion-search .lb-promotion-row {\n  margin-bottom: 14px;\n}\n.lb-promotion-main .lb-promotion-search .lb-promotion-row .ListName {\n  text-align: right;\n  line-height: 32px;\n  color: #747474;\n  font-size: 12px;\n  margin-right: 8px;\n}\n.promotion-page {\n  margin: 1rem 0 0 0;\n}\n.container {\n  background: #fff;\n  color: #747474;\n  border: 1px solid #E8E8E8;\n  padding: 1% 1% 3%;\n}\n.margin-top-8 {\n  margin-top: 8px;\n}\n.margin-top-10 {\n  margin-top: 10px;\n}\n.margin-top-20 {\n  margin-top: 20px;\n}\n.margin-left-10 {\n  margin-left: 10px;\n}\n.margin-bottom-10 {\n  margin-bottom: 10px;\n}\n.margin-bottom-12 {\n  margin-bottom: 12px;\n}\n.margin-bottom-14 {\n  margin-bottom: 14px;\n}\n.margin-bottom-100 {\n  margin-bottom: 100px;\n}\n.margin-right-10 {\n  margin-right: 10px;\n}\n.padding-left-6 {\n  padding-left: 6px;\n}\n.padding-left-8 {\n  padding-left: 5px;\n}\n.padding-left-10 {\n  padding-left: 10px;\n}\n.padding-left-20 {\n  padding-left: 20px;\n}\n.height-100 {\n  height: 100%;\n}\n.height-120px {\n  height: 100px;\n}\n.height-200px {\n  height: 200px;\n}\n.height-492px {\n  height: 492px;\n}\n.height-460px {\n  height: 460px;\n}\n.line-gray {\n  height: 0;\n  border-bottom: 2px solid #dcdcdc;\n}\n.notwrap {\n  word-break: keep-all;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.padding-left-5 {\n  padding-left: 10px;\n}\n[v-cloak] {\n  display: none;\n}\n.mb--12 {\n  margin-bottom: 12px;\n}\n.mb--14 {\n  margin-bottom: 14px;\n}\n.border-b--dashed {\n  border-bottom: 1px dashed #e5e5e5;\n}\n.pd--20 {\n  padding: 20px;\n}\n.ml--50 {\n  margin-left: 50px;\n}\n.fr {\n  float: right;\n}\n.fl {\n  float: left;\n}\n.bg--white {\n  background: #fff;\n}\n.clearfix:after {\n  content: '';\n  display: block;\n  height: 0;\n  clear: both;\n}\n.text-center {\n  text-align: center;\n}\n.white {\n  background-color: white;\n}\n.select_box {\n  padding: 20px;\n  border-bottom: 1px dashed #E8E8E8;\n}\n.ling_height {\n  padding-top: 15px;\n}\n.text_align_right {\n  text-align: right;\n}\n.text_align_center {\n  text-align: center;\n}\n.operation_box {\n  padding: 10px 20px;\n  text-align: right;\n}\n.page_right {\n  text-align: right;\n  padding: 10px 20px;\n}\n.input_width {\n  width: 120px;\n}\n.search_btn {\n  width: 100px;\n}\n.margin_bottom_0 {\n  margin-bottom: 0;\n}\n.ivu-breadcrumb a {\n  color: #999;\n}\n.ivu-breadcrumb {\n  font-size: 12px;\n}\n.ivu-breadcrumb > span:last-child {\n  color: #426196;\n}\n.box_shadow {\n  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.2);\n  border-color: #eee;\n}\n.border_bottom_dashed {\n  border-bottom: 1px dashed #E8E8E8;\n}\n.problem_table .ivu-checkbox-wrapper {\n  margin-right: 0px;\n}\nhtml,\nbody {\n  overflow: inherit;\n  color: #000!important;\n}\ntr,\ntd,\nth {\n  color: #000!important;\n}\n.row-state {\n  height: 20px;\n  line-height: 20px;\n  font-size: 16px;\n}\n.row-title {\n  height: 20px;\n  line-height: 20px;\n  font-weight: bold;\n}\n.ivu-table-wrapper {\n  border-color: #000;\n}\n.ivu-table-border td,\n.ivu-table-border th {\n  border-color: #000;\n}\n.ivu-table:after {\n  background-color: #000;\n  border-right: 1px solid #000;\n}\n.ivu-table:before {\n  background-color: #000;\n  border-bottom: 1px solid #000;\n}\n.ivu-input {\n  color: #000;\n  border-color: #000;\n}\n.ivu-input:hover {\n  border-color: #000;\n}\n.ivu-table th {\n  height: 20px;\n}\n.ivu-table-cell {\n  line-height: 12px;\n  padding: 2px 5px;\n}\n.ivu-table td,\n.ivu-table th {\n  height: auto;\n}\n",""])},2701:function(t,e,n){var r=n(2702);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(43)("7534ade0",r,!1,{})},2702:function(t,e,n){e=t.exports=n(42)(!1),e.push([t.i,"\n.but[data-v-4e12d6a2]{\n    text-align: center;\n    padding-bottom: 30px;\n    padding-top: 20px;\n}\n",""])},2703:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{padding:"10px",background:"#fff",width:"1020px",margin:"0 auto"}},[n("Row",{attrs:{type:"flex",justify:"center",align:"middle"}},[n("Col",{attrs:{span:"24"}},[n("div",{staticClass:"row-state"},[n("Icon",{attrs:{type:"alert-circled"}}),t._v(" "+t._s(t.stateString)+"\n                ")],1)])],1),t._v(" "),n("Row",{attrs:{type:"flex",justify:"center",align:"middle"}},[n("Col",{attrs:{span:"24"}},[n("div",{staticClass:"row-title"},[t._v("\n                    退货信息\n                ")])])],1),t._v(" "),n("Row",{attrs:{type:"flex",justify:"center",align:"middle"}},[n("Col",{attrs:{span:"24"}},[n("order-table-detail",{attrs:{refs:t.tableRef,columnsList:t.columnsList,thisTableData:t.thisTableData,loading:t.loading}})],1)],1),t._v(" "),n("Row",{attrs:{type:"flex",justify:"center",align:"middle"}},[n("Col",{attrs:{span:"24"}},[n("div",{staticClass:"row-title"},[t._v("\n                    归属信息\n                ")])])],1),t._v(" "),n("Row",{attrs:{type:"flex",justify:"center",align:"middle"}},[n("Col",{attrs:{span:"24"}},[n("order-table-detail",{attrs:{refs:t.tableRefStock,columnsList:t.columnsListStock,thisTableData:t.thisTableDataStock,loading:t.loading}})],1)],1),t._v(" "),n("Row",{attrs:{type:"flex",justify:"center",align:"middle"}},[n("Col",{attrs:{span:"24"}},[n("div",{staticClass:"row-title"},[t._v("\n                    商品信息\n                ")])])],1),t._v(" "),n("Row",{attrs:{type:"flex",justify:"center",align:"middle"}},[n("Col",{attrs:{span:"24"}},[n("order-table-detail",{attrs:{refs:t.tableRef,columnsList:t.columnsListProduct,thisTableData:t.thisTableDataProduct,loading:t.loading}})],1)],1),t._v(" "),n("Row",{attrs:{type:"flex",justify:"center",align:"middle"}},[n("Col",{attrs:{span:"24"}},[n("div",{staticClass:"row-title"},[t._v("\n                    退货备注\n                ")])])],1),t._v(" "),n("Row",[n("Col",{attrs:{span:"12"}},[n("Input",{attrs:{type:"textarea",readonly:""},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1)],1),t._v(" "),n("row",{staticClass:"but",attrs:{id:"noprint"}},[n("Button",{directives:[{name:"show",rawName:"v-show",value:t.showBtn,expression:"showBtn"}],attrs:{type:"primary"},on:{click:function(e){t.print()}}},[t._v("打 印")])],1)],1)])},o=[];r._withStripped=!0;var a={render:r,staticRenderFns:o};e.default=a},621:function(t,e,n){"use strict";function r(t){d||n(1463)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1411),a=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,function(){return o[t]})}(i);var l=n(1465),s=n.n(l),d=!1,u=n(13),p=r,c=u(a.a,s.a,!1,p,null,null);c.options.__file="src/views/tables/components/orderTableDetail.vue",e.default=c.exports}});