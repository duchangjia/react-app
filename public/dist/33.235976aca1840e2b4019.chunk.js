webpackJsonp([33,278],{1095:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkDate=e.initDate=e.initMoney=e.initNumber=e.initCode=void 0;var i=r(103),a=function(t,e){return!!t.test(e)};e.initCode=function(t){return a(/^[A-Z|a-z|_|0-9]*$/,t)},e.initNumber=function(t){return a(/^[1-9]\d*$/,t)},e.initMoney=function(t){return a(/^\d+(\.\d{0,2})?$|^\.\d{1,2}$/,t)},e.initDate=function(t){if(t){var e=new Date(t);return e.getFullYear()+"-"+((e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-")+((e.getDate()<10?"0"+e.getDate():e.getDate())+" ")+((e.getHours()<10?"0"+e.getHours():e.getHours())+":")+((e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":")+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())}},e.checkDate=function(t,e,r){return t[e]?t[r]?!(new Date(t[e]).getTime()>=new Date(t[r]).getTime())||(i.Message.warning("开始时间不能大于或者等于结束时间"),!1):(i.Message.warning("结束时间不能为空"),!1):(i.Message.warning("开始时间不能为空"),!1)}},1639:function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=r(152),s=i(a),n=r(909),o=i(n),c=r(101),l=i(c),u=r(241),p=i(u),d=r(65),h=i(d),f=r(242),v=i(f),g=r(239),m=i(g),y=r(1095),A=r(602),_=i(A);e.default={data:function(){var t=this;return{stepsObj:{current:0,data:["定向规则","特价配置","促销预览"]},activityArray:{startTime:"",endTime:"",title:"",scope:"",Array:[],groupArr:[],storeProp:[],status:"",platform:[],salesmanList:[]},startTime:"",endTime:"",checkAllGroup:[],checkAll1:!1,checkAllStoreProp:[],checkAll:!1,indeterminateStoreProp:!1,indeterminateGroupProp:!1,static:{storeProp:["A","B","C","D","E"],groupArr:[]},form:{storeCodeLike:"",storeNameLike:"",storeNature:"",customizeGroupId:""},columns1:[{type:"selection",width:58,align:"center"},{title:"序号",type:"index",align:"center"},{title:"门店编号",align:"center",key:"scopeCode"},{title:"门店名称",align:"center",key:"scopeName"},{title:"门店类型",align:"center",key:"storeNature"},{title:"自定义组",align:"center",key:"groupName"},{title:"操作",align:"center",render:function(e,r){return e("Button",{props:{size:"small"},attrs:{disabled:4==t.status},on:{click:function(){var e=2==t.scope?"selected":"except";t.addItem(r.row,e)}}},"添加")}}],columns2:[{type:"selection",width:58,align:"center"},{title:"序号",type:"index",align:"center"},{title:"门店编号",align:"center",key:"scopeCode"},{title:"门店名称",align:"center",key:"scopeName"},{title:"门店类型",align:"center",key:"storeNature"},{title:"自定义组",align:"center",key:"groupName"},{title:"操作",align:"center",render:function(e,r){return e("Button",{props:{size:"small"},attrs:{disabled:4==t.status},style:{},on:{click:function(){t.deleteItem(r.index)}}},"删除")}}],tableData:[],except:[],selected:[],scope:"1",selection:[],exceptSelection:[],mode:null,id:"",queryArr:{page:1,rows:5,storeCodeLike:"",storeNameLike:"",storeNature:"",customizeGroupId:""},totalCount:0,startTimeOptions:{disabledDate:function(t){return t&&t.valueOf()<Date.now()-864e5}},endTimeOptions:{disabledDate:function(e){return e&&e.valueOf()-1<new Date(t.activityArray.startTime)}},platform:[],getSalesmanList:[],status:""}},created:function(){function t(){return e.apply(this,arguments)}var e=(0,v.default)(p.default.mark(function t(){var e,r;return p.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return sessionStorage.groupArr=(0,h.default)([]),this.getStore(1),this.getSalesman(),t.next=5,this.getGroup();case 5:e=t.sent,this.status=this.$route.query.status;try{200==e.data.code&&(this.static.groupArr=e.data.result,r=this.$route.query.id,r?this.getDetails(r):this.initActivityArray())}catch(t){console.error(t),this.$Message.error("网络异常")}case 8:case"end":return t.stop()}},t,this)}));return t}(),mounted:function(){},methods:{_initCode:function(t,e){var r=t.target.value;(0,y.initCode)(r)?(this.queryArr[e]=r,setTimeout(function(e){return t.target.value=r})):(this.queryArr[e]="",setTimeout(function(e){return t.target.value=""}))},initActivityArray:function(){var t=this;sessionStorage.activityArray||(sessionStorage.activityArray=(0,h.default)({startTime:"",endTime:"",title:"",scope:"1",Array:[],groupArr:[],storeProp:[],platform:[],status:"",salesmanList:[]}));var e=JSON.parse(sessionStorage.activityArray);this.activityArray.startTime=e.startTime,this.activityArray.endTime=e.endTime,this.activityArray.platform=e.platform,this.activityArray.salesmanList=e.salesmanList,this.activityArray.title=e.title,this.scope=e.scope.toString(),2==this.scope?this.selected=e.Array:this.except=e.Array,this.checkAllGroup=e.groupArr,this.checkAllStoreProp=e.storeProp;var r=[];this.checkAllGroup.forEach(function(e){var i=t.static.groupArr.find(function(t){return t.id==e});r.push(i)}),this.checkAllStoreProp&&(this.checkAllStoreProp.length==this.static.storeProp.length?this.checkAll=!0:0!=this.checkAllStoreProp.length&&(this.indeterminateStoreProp=!0)),this.checkAllGroup&&(this.checkAllGroup.length==this.static.groupArr.length?this.checkAll1=!0:0!=this.checkAllGroup.length&&(this.indeterminateGroupProp=!0)),sessionStorage.groupArr=(0,h.default)(r)},setActivityArray:function(){this.activityArray.scope=this.scope,this.activityArray.Array=2==this.scope?this.selected:this.except,this.activityArray.groupArr=3==this.scope?this.checkAllGroup:[],this.activityArray.storeProp=3==this.scope?this.checkAllStoreProp:[],sessionStorage.activityArray=(0,h.default)(this.activityArray)},handleStartTimeChange:function(t){var e=new Date,r=(e.getHours()<10?"0"+e.getHours():e.getHours())+":",i=(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":",a=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();new Date(t)<e?this.activityArray.startTime=t.split(" ")[0]+" "+r+i+a:this.activityArray.startTime=t,this.activityArray.startTime>this.activityArray.endTime&&(this.activityArray.endTime="")},handleEndTimeChange:function(t){this.activityArray.endTime=t},handleCheckAllGroup:function(){this.checkAll1=!this.checkAll1,this.checkAll1?(this.checkAllGroup=this.static.groupArr.map(function(t){return t.id}),sessionStorage.groupArr=(0,h.default)(this.static.groupArr)):(this.checkAllGroup=[],sessionStorage.groupArr=[]),this.indeterminateGroupProp=!1},saveStorage:function(t){var e=this;0==t.length&&(t=[]);var r=[];t.forEach(function(t){var i=e.static.groupArr.find(function(e){if(t==e.id)return e});r.push(i)}),sessionStorage.groupArr=(0,h.default)(r)},checkAllGroupChange:function(t){t=t.filter(function(t){return 0!=t}),this.saveStorage(t),console.log(t),t.length===this.static.groupArr.length?this.checkAll1=!0:t.length>0?(this.indeterminateGroupProp=!0,this.checkAll1=!1):(this.indeterminateGroupProp=!1,this.checkAll1=!1)},checkAllStorePropChange:function(t){t.length===this.static.storeProp.length?(this.indeterminateStoreProp=!1,this.checkAll=!0):t.length>0?(this.indeterminateStoreProp=!0,this.checkAll=!1):(this.indeterminateStoreProp=!1,this.checkAll=!1)},handleCheckAllStoreProp:function(){this.indeterminateStoreProp?this.checkAll=!1:this.checkAll=!this.checkAll,this.indeterminateStoreProp=!1,this.checkAll?this.checkAllStoreProp=this.static.storeProp:this.checkAllStoreProp=[]},getGroup:function(){function t(){return e.apply(this,arguments)}var e=(0,v.default)(p.default.mark(function t(){var e;return p.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$util.ajax({method:"post",url:this.$util.apiConfig.traderManage.infoManage.storeManage.getGroup});case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return t}(),getStore:function(){function t(t){return e.apply(this,arguments)}var e=(0,v.default)(p.default.mark(function t(e){var r,i,a,s,n,o=this;return p.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.queryArr.page=e,t.prev=1,r=(0,l.default)({t_i_m_e:(new Date).getTime()},this.queryArr),t.next=5,this.$util.ajax({method:"post",url:this.$util.apiConfig.promotionManage.warProgramme.getStoreList,data:m.default.stringify(r)});case 5:if(i=t.sent,a=i.data,200!=a.code){t.next=17;break}if(s=a.result,this.tableData=[],this.totalCount=s.totalCount,n=s.records,0!=n.length){t.next=14;break}return t.abrupt("return");case 14:n.forEach(function(t){var e={groupName:t.groupName,scopeCode:t.storeCode,scopeId:t.id,scopeName:t.storeName,scopeType:2,storeNature:t.storeNature,storeType:t.storeNature,storeGroupName:t.groupName,storeGroupId:t.customizeGroupId,storeId:t.id};o.tableData.push(e)}),t.next=18;break;case 17:this.$Message.error("请求失败");case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(1),console.log(t.t0),this.$Message.error("网络异常");case 24:case"end":return t.stop()}},t,this,[[1,20]])}));return t}(),getDetails:function(){function t(t){return e.apply(this,arguments)}var e=(0,v.default)(p.default.mark(function t(e){var r,i;return p.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return sessionStorage.removeItem("activityArray"),r={method:"POST",url:this.$util.apiConfig.promotionManage.warProgramme.newSalePromotion.newGetDetailUrl,data:m.default.stringify({id:e})},t.prev=2,t.next=5,this.$util.ajax(r);case 5:i=t.sent,200==i.data.code?(this.$Message.info(i.data.message),this.reductionData(i)):this.$Message.error(i.data.message),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),this.$Message.error("网络异常"),console.error(t.t0);case 13:case"end":return t.stop()}},t,this,[[2,9]])}));return t}(),getSalesman:function(){function t(){return e.apply(this,arguments)}var e=(0,v.default)(p.default.mark(function t(){var e,r;return p.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={method:"POST",url:this.$util.apiConfig.traderManage.infoManage.storeManage.querySalesmanUrl,data:""},t.next=3,this.$util.ajax(e);case 3:r=t.sent;try{200==r.data.code?this.getSalesmanList=r.data.result:this.getSalesmanList=[]}catch(t){cosnole.error(t)}case 5:case"end":return t.stop()}},t,this)}));return t}(),reductionData:function(t){var e=this,r=t.data.result.detail.promotionInfoNewDTO,i=t.data.result.detail.promotionGoodsNewList,a=t.data.result.detail.promotionScopeDetailNewDTOList,s=t.data.result.detail.promotionStoreScopeExclusionDTOList,n=t.data.result.detail.promotionSalemanScopeDTOList,o={beginDate:(0,y.initDate)(r.beginDate),endDate:(0,y.initDate)(r.endDate),title:r.title,scope:r.scope,groupArr:[],status:r.status,storeProp:[],Array:3==r.scope?r.promotionScopeDetailNewDTOList:r.promotionStoreScopeExclusionDTOList};sessionStorage.activityArray=(0,h.default)(o),"edit"==this.$route.query.state&&(this.activityArray.title=r.title,this.activityArray.startTime=(0,y.initDate)(r.beginDate),this.activityArray.endTime=(0,y.initDate)(r.endDate)),this.activityArray.status=r.status,this.activityArray.platform=r.channel.split(","),this.activityArray.scope=r.scope.toString(),n.forEach(function(t){var r=t.salesmanId+","+t.salesmanName+","+t.salesmanCode;e.activityArray.salesmanList.push(r)});var c=this.getGoodsList(i);if(sessionStorage.getSelectItem=(0,h.default)(c),this.scope=this.activityArray.scope,3==this.scope&&this.getGroupArr(a),1==this.scope||3==this.scope?this.except=s:this.selected=a,this.except.length){var l=[];this.except.forEach(function(t){var e={};e.groupName=t.storeGroupName,e.scopeCode=t.storeCode,e.scopeId=t.storeId,e.scopeName=t.storeName,e.scopeType=t.storeId,e.storeGroupId=t.storeGroupId,e.storeGroupName=t.storeGroupName,e.storeId=t.storeId,e.storeNature=t.storeType,e.storeType=t.storeType,l.push(e)}),this.except=l}if(this.selected.length){var u=[];this.selected.forEach(function(t){var e={};e.groupName=t.storeGroupName,e.scopeCode=t.scopeCode,e.scopeId=t.storeId,e.scopeName=t.scopeName,e.scopeType=t.storeId,e.storeGroupId=t.storeGroupId,e.storeGroupName=t.storeGroupName,e.storeId=t.storeId,e.storeNature=t.storeType,e.storeType=t.storeType,u.push(e)}),this.selected=u}},getGroupArr:function(t){var e=this,r=new o.default,i=new o.default,a=JSON.parse(sessionStorage.activityArray),n=[];t.forEach(function(t){t.scopeName&&r.add(t.scopeName),t.storeGroupId&&i.add(Number(t.storeGroupId));var a=e.static.groupArr.find(function(e){if(e.id==t.storeGroupId&&t.storeGroupId)return e});a&&n.push(a)}),a.groupArr=i,a.storeProp=r,sessionStorage.groupArr=(0,h.default)(this.repeatGroupArr(n)),sessionStorage.activityArray=(0,h.default)(a),this.checkAllStoreProp=(0,l.default)([],(0,s.default)(r)),this.checkAllGroup=(0,l.default)([],(0,s.default)(i)),this.checkAllStoreProp&&(this.checkAllStoreProp.length==this.static.storeProp.length?this.checkAll=!0:0!=this.checkAllStoreProp.length&&(this.indeterminateStoreProp=!0)),this.checkAllGroup&&(this.checkAllGroup.length==this.static.groupArr.length?this.checkAll1=!0:0!=this.checkAllGroup.length&&(this.indeterminateGroupProp=!0))},getGoodsList:function(t){var e=[];return t.length?(t.forEach(function(t){var r={};r.barCode=t.barCode,r.brandId=t.brandId,r.brandName=t.brandName,r.changeUnitRate=t.changeUnitRate,r.cid=t.cid,r.cname=t.cname,r.code79=t.code79,r.dealerId=t.dealerId,r.guidePrice=t.guidePrice,r.itemId=t.itemId,r.itemName=t.itemName,r.marketPrice=t.price,r.planNum=t.planNum,r.price=t.price,r.type=t.type,r.unit=t.unit,r.sillLevel={},r.sillLevel.EA={},r.sillLevel.NUMBER={};for(var i=0;i<t.promotionLevelList.length;i++){var a=t.promotionLevelList[i];r.sillLevel.EA["val"+i]=a.levelMoney,r.sillLevel.NUMBER["val"+i]=a.levelNum}e.push(r)}),e):e},repeatGroupArr:function(t){var e=[];return t.forEach(function(t){-1==e.findIndex(function(e){return e&&t.id==e.id})&&e.push(t)}),e},deleteItem:function(t){2==this.scope?this.selected.splice(t,1):this.except.splice(t,1),this.$Message.success("删除成功")},addItem:function(t,e){for(var r=this[e],i=!1,a=0;a<r.length;a++){r[a];r[a].scopeId==t.scopeId&&(i=!0)}i?this.$Message.warning("门店已添加"):(this[e].push(t),this.$Message.success("添加成功"))},handleScopeChange:function(){this.selected=[],this.except=[],this.selection=[],this.checkAllGroup=[],this.checkAllStoreProp=[],this.activityArray.salesmanList=[],this.getStore(1)},handleDelete:function(){var t=this;if(this.selection.length<=0)return void this.$Message.warning("请先选择一条数据");this.selection.forEach(function(e){t.selected=t.selected.filter(function(t){return e.storeId!=t.storeId})})},handleDeleteExcept:function(){var t=this;if(this.exceptSelection.length<=0)return void this.$Message.warning("请先选择一条数据");this.exceptSelection.forEach(function(e){t.except=t.except.filter(function(t){return e.storeId!=t.storeId})})},query:function(){this.getStore(1)},add:function(){var t=this.$refs.queryTable.getSelection();if(t.length<=0)return void this.$Message.warning("请先选择一条数据");var e=2==this.scope?this.selected:this.except;t.forEach(function(t){-1==e.findIndex(function(e){return t.scopeId==e.scopeId})&&e.push(t)})},back:function(){this.jump("new-salePromotion-list","")},next:function(){this.setActivityArray();var t=JSON.parse(sessionStorage.activityArray);if(!t.title)return void this.$Message.warning("活动名称不能为空");if((0,y.checkDate)(t,"startTime","endTime"))return t.platform.length?3!=this.scope||this.checkAllGroup.length||this.checkAllStoreProp.length?2!=this.scope||t.Array.length?void this.jump("new-salePromotion-add"):void this.$Message.warning("选择门店"):void this.$Message.warning("请选择门店性质或者自定义组"):void this.$Message.warning("请选择平台")},jump:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.$route.query;this.$router.push({name:t,query:e})},handleSelectedChange:function(t){this.selection=t},handleExceptChange:function(t){this.exceptSelection=t}},components:{steps:_.default},wacth:{}}},2180:function(t,e,r){var i=r(2181);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);r(43)("50e160a0",i,!1,{})},2181:function(t,e,r){e=t.exports=r(42)(!1),e.push([t.i,"\n.rule-page-head[data-v-7a25768e] {\n  margin-bottom: 12px;\n  font-size: 14px;\n  font-weight: bold;\n}\n.rule-page-label[data-v-7a25768e] {\n  text-align: right;\n  line-height: 32px;\n  color: #747474;\n  font-size: 12px;\n  margin-right: 16px;\n}\n.rule-page-label__required[data-v-7a25768e] {\n  color: red;\n}\n.rule-page .ivu-form-item[data-v-7a25768e] {\n  width: 20%;\n  float: left;\n}\n.rule-page .ivu-row .ivu-form-item[data-v-7a25768e] {\n  width: 100%;\n  margin-bottom: 10px;\n}\n.rule-page .but[data-v-7a25768e] {\n  text-align: center;\n  padding-bottom: 30px;\n  padding-top: 20px;\n}\n.rule-page .mr--20[data-v-7a25768e] {\n  margin-right: 20px;\n}\n",""])},2182:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("steps",{attrs:{stepsObj:t.stepsObj}}),t._v(" "),r("div",{staticClass:"rule-page bg--white pd--20"},[r("p",{staticClass:"rule-page-head"},[t._v("特价政策")]),t._v(" "),r("Row",{staticClass:"mb--12"},[r("Col",{staticClass:"rule-page-label",attrs:{span:2}},[t._v("\n        活动名称"),r("span",{staticClass:"rule-page-label__required"},[t._v("*")])]),t._v(" "),r("Col",{attrs:{span:4}},[r("Input",{model:{value:t.activityArray.title,callback:function(e){t.$set(t.activityArray,"title",e)},expression:"activityArray.title"}})],1)],1),t._v(" "),r("Row",{staticClass:"mb--12"},[r("Col",{staticClass:"rule-page-label",attrs:{span:2}},[t._v("\n        开始时间"),r("span",{staticClass:"rule-page-label__required"},[t._v("*")])]),t._v(" "),r("Col",{attrs:{span:4}},[r("DatePicker",{attrs:{type:"datetime",readonly:4==t.status,value:t.activityArray.startTime,options:t.startTimeOptions},on:{"on-change":t.handleStartTimeChange}})],1),t._v(" "),r("Col",{staticClass:"rule-page-label",attrs:{span:2}},[t._v("\n        结束时间"),r("span",{staticClass:"rule-page-label__required"},[t._v("*")])]),t._v(" "),r("Col",{attrs:{span:4}},[r("DatePicker",{attrs:{type:"datetime",readonly:4==t.status,value:t.activityArray.endTime,options:t.endTimeOptions},on:{"on-change":t.handleEndTimeChange}})],1)],1),t._v(" "),r("p",{staticClass:"rule-page-head"},[t._v("活动范围")]),t._v(" "),r("Row",{staticClass:"mb--12"},[r("RadioGroup",{on:{"on-change":t.handleScopeChange},model:{value:t.scope,callback:function(e){t.scope=e},expression:"scope"}},[r("Radio",{attrs:{disabled:4==t.status,label:"1"}},[t._v("全部门店")]),t._v(" "),r("Radio",{attrs:{disabled:4==t.status,label:"2"}},[t._v("指定门店")]),t._v(" "),r("Radio",{attrs:{disabled:4==t.status,label:"3"}},[t._v("指定门店类型")])],1)],1),t._v(" "),3==t.scope?r("div",[r("Form",{staticClass:"clearfix",attrs:{model:t.form,"label-width":80}},[r("Row",[r("FormItem",{attrs:{label:"门店类型"}},[r("Checkbox",{attrs:{value:t.checkAll,indeterminate:t.indeterminateStoreProp,disabled:4==t.status},nativeOn:{click:function(e){return e.preventDefault(),t.handleCheckAllStoreProp(e)}}},[t._v("全选")]),t._v(" "),r("CheckboxGroup",{staticStyle:{display:"contents"},on:{"on-change":t.checkAllStorePropChange},model:{value:t.checkAllStoreProp,callback:function(e){t.checkAllStoreProp=e},expression:"checkAllStoreProp"}},t._l(t.static.storeProp,function(e){return r("Checkbox",{key:e,attrs:{disabled:4==t.status,label:e}},[t._v(t._s(e))])}))],1)],1),t._v(" "),r("Row",{staticStyle:{display:"flex"}},[r("FormItem",{attrs:{label:"自定义组"}},[r("Checkbox",{attrs:{indeterminate:t.indeterminateGroupProp,disabled:4==t.status},nativeOn:{click:function(e){return e.preventDefault(),t.handleCheckAllGroup(e)}},model:{value:t.checkAll1,callback:function(e){t.checkAll1=e},expression:"checkAll1"}},[t._v("全选")]),t._v(" "),r("CheckboxGroup",{staticStyle:{display:"contents"},on:{"on-change":t.checkAllGroupChange},model:{value:t.checkAllGroup,callback:function(e){t.checkAllGroup=e},expression:"checkAllGroup"}},t._l(t.static.groupArr,function(e){return r("Checkbox",{key:e.id,attrs:{disabled:4==t.status,label:e.id}},[t._v(t._s(e.groupName))])}))],1)],1)],1)],1):t._e(),t._v(" "),r("p",{staticClass:"rule-page-head"},[t._v("平台")]),t._v(" "),r("Row",{staticClass:"mb--12"},[r("CheckboxGroup",{model:{value:t.activityArray.platform,callback:function(e){t.$set(t.activityArray,"platform",e)},expression:"activityArray.platform"}},[r("Checkbox",{attrs:{disabled:4==t.status,label:"O2O"}},[t._v("O2O")])],1)],1),t._v(" "),2!=t.scope?r("div",[r("p",{staticClass:"rule-page-head"},[t._v("业务员")]),t._v(" "),r("Row",{staticClass:"mb--12"},[r("CheckboxGroup",{model:{value:t.activityArray.salesmanList,callback:function(e){t.$set(t.activityArray,"salesmanList",e)},expression:"activityArray.salesmanList"}},t._l(t.getSalesmanList,function(e){return r("Checkbox",{key:e.empId,attrs:{disabled:4==t.status,label:e.empId+","+e.empName+","+e.empCode}},[t._v(t._s(e.empName)+"\n          ")])}))],1)],1):t._e(),t._v(" "),r("p",{staticClass:"rule-page-head"},[t._v(t._s(2==t.scope?"选择门店":"添加排除门店"))]),t._v(" "),r("Form",{staticClass:"clearfix",attrs:{model:t.form,"label-width":80}},[r("FormItem",{attrs:{label:"门店编码"}},[r("Input",{attrs:{clearable:""},on:{"on-change":function(e){return t._initCode(e,"storeCodeLike")}},model:{value:t.queryArr.storeCodeLike,callback:function(e){t.$set(t.queryArr,"storeCodeLike",e)},expression:"queryArr.storeCodeLike"}})],1),t._v(" "),r("FormItem",{attrs:{label:"门店名称"}},[r("Input",{attrs:{clearable:""},model:{value:t.queryArr.storeNameLike,callback:function(e){t.$set(t.queryArr,"storeNameLike",e)},expression:"queryArr.storeNameLike"}})],1),t._v(" "),r("FormItem",{attrs:{label:"门店类型"}},[r("Select",{attrs:{clearable:""},model:{value:t.queryArr.storeNature,callback:function(e){t.$set(t.queryArr,"storeNature",e)},expression:"queryArr.storeNature"}},[r("Option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),t._l(t.static.storeProp,function(e){return r("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})],2)],1),t._v(" "),r("FormItem",{attrs:{label:"自定义组"}},[r("Select",{attrs:{clearable:""},model:{value:t.queryArr.customizeGroupId,callback:function(e){t.$set(t.queryArr,"customizeGroupId",e)},expression:"queryArr.customizeGroupId"}},[r("Option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),t._l(t.static.groupArr,function(e){return r("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.groupName))])})],2)],1),t._v(" "),r("FormItem",[r("Button",{on:{click:t.query}},[t._v("查 询")]),t._v(" "),r("Button",{attrs:{disabled:4==t.status},on:{click:t.add}},[t._v("添 加")])],1)],1),t._v(" "),r("Table",{ref:"queryTable",staticClass:"mb--12",attrs:{data:t.tableData,columns:t.columns1}}),t._v(" "),r("Row",[r("Page",{staticClass:"fr",attrs:{total:t.totalCount,"page-size":5,"show-total":"","show-elevator":""},on:{"on-change":t.getStore}})],1),t._v(" "),2==t.scope?r("div",[r("p",{staticClass:"rule-page-head"},[t._v("已选门店")]),t._v(" "),r("div",{staticClass:"mb--12"},[r("Button",{attrs:{disabled:4==t.status},on:{click:t.handleDelete}},[t._v("删 除")])],1),t._v(" "),r("Table",{ref:"selectedTable",staticClass:"mb--12",attrs:{data:t.selected,columns:t.columns2},on:{"on-selection-change":t.handleSelectedChange}})],1):t._e(),t._v(" "),1==t.scope||3==t.scope?r("div",[r("p",{staticClass:"rule-page-head"},[t._v("排除门店")]),t._v(" "),r("div",{staticClass:"mb--12"},[r("Button",{attrs:{disabled:4==t.status},on:{click:t.handleDeleteExcept}},[t._v("删 除")])],1),t._v(" "),r("Table",{attrs:{data:t.except,columns:t.columns2},on:{"on-selection-change":t.handleExceptChange}})],1):t._e(),t._v(" "),r("Row",{staticClass:"but"},[r("Button",{on:{click:t.back}},[t._v("返 回")]),t._v(" "),r("Button",{staticClass:"mr--20",attrs:{type:"primary"},on:{click:t.next}},[t._v("下一步")])],1)],1)],1)},a=[];i._withStripped=!0;var s={render:i,staticRenderFns:a};e.default=s},602:function(t,e,r){"use strict";function i(t){l||r(946)}Object.defineProperty(e,"__esModule",{value:!0});var a=r(930),s=r.n(a);for(var n in a)"default"!==n&&function(t){r.d(e,t,function(){return a[t]})}(n);var o=r(948),c=r.n(o),l=!1,u=r(13),p=i,d=u(s.a,c.a,!1,p,null,null);d.options.__file="src/views/marketing-centre-components/steps.vue",e.default=d.exports},756:function(t,e,r){"use strict";function i(t){l||r(2180)}Object.defineProperty(e,"__esModule",{value:!0});var a=r(1639),s=r.n(a);for(var n in a)"default"!==n&&function(t){r.d(e,t,function(){return a[t]})}(n);var o=r(2182),c=r.n(o),l=!1,u=r(13),p=i,d=u(s.a,c.a,!1,p,"data-v-7a25768e",null);d.options.__file="src/views/promotion-manage/war-programme/new-sale-promotion/sale-rule-setting.vue",e.default=d.exports},897:function(t,e,r){var i=r(44);t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},909:function(t,e,r){t.exports={default:r(910),__esModule:!0}},910:function(t,e,r){r(151),r(75),r(100),r(911),r(917),r(920),r(922),t.exports=r(11).Set},911:function(t,e,r){"use strict";var i=r(912),a=r(897);t.exports=r(913)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(a(this,"Set"),t=0===t?0:t,t)}},i)},912:function(t,e,r){"use strict";var i=r(32).f,a=r(148),s=r(245),n=r(64),o=r(244),c=r(240),l=r(147),u=r(246),p=r(248),d=r(37),h=r(243).fastKey,f=r(897),v=d?"_s":"size",g=function(t,e){var r,i=h(e);if("F"!==i)return t._i[i];for(r=t._f;r;r=r.n)if(r.k==e)return r};t.exports={getConstructor:function(t,e,r,l){var u=t(function(t,i){o(t,u,e,"_i"),t._t=e,t._i=a(null),t._f=void 0,t._l=void 0,t[v]=0,void 0!=i&&c(i,r,t[l],t)});return s(u.prototype,{clear:function(){for(var t=f(this,e),r=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete r[i.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var r=f(this,e),i=g(r,t);if(i){var a=i.n,s=i.p;delete r._i[i.i],i.r=!0,s&&(s.n=a),a&&(a.p=s),r._f==i&&(r._f=a),r._l==i&&(r._l=s),r[v]--}return!!i},forEach:function(t){f(this,e);for(var r,i=n(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(i(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!g(f(this,e),t)}}),d&&i(u.prototype,"size",{get:function(){return f(this,e)[v]}}),u},def:function(t,e,r){var i,a,s=g(t,e);return s?s.v=r:(t._l=s={i:a=h(e,!0),k:e,v:r,p:i=t._l,n:void 0,r:!1},t._f||(t._f=s),i&&(i.n=s),t[v]++,"F"!==a&&(t._i[a]=s)),t},getEntry:g,setStrong:function(t,e,r){l(t,e,function(t,r){this._t=f(t,e),this._k=r,this._l=void 0},function(){for(var t=this,e=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?"keys"==e?u(0,r.k):"values"==e?u(0,r.v):u(0,[r.k,r.v]):(t._t=void 0,u(1))},r?"entries":"values",!r,!0),p(e)}}},913:function(t,e,r){"use strict";var i=r(12),a=r(36),s=r(243),n=r(66),o=r(45),c=r(245),l=r(240),u=r(244),p=r(44),d=r(77),h=r(32).f,f=r(914)(0),v=r(37);t.exports=function(t,e,r,g,m,y){var A=i[t],_=A,k=m?"set":"add",b=_&&_.prototype,S={};return v&&"function"==typeof _&&(y||b.forEach&&!n(function(){(new _).entries().next()}))?(_=e(function(e,r){u(e,_,t,"_c"),e._c=new A,void 0!=r&&l(r,m,e[k],e)}),f("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in b&&(!y||"clear"!=t)&&o(_.prototype,t,function(r,i){if(u(this,_,t),!e&&y&&!p(r))return"get"==t&&void 0;var a=this._c[t](0===r?0:r,i);return e?this:a})}),y||h(_.prototype,"size",{get:function(){return this._c.size}})):(_=g.getConstructor(e,t,m,k),c(_.prototype,r),s.NEED=!0),d(_,t),S[t]=_,a(a.G+a.W+a.F,S),y||g.setStrong(_,t,m),_}},914:function(t,e,r){var i=r(64),a=r(149),s=r(98),n=r(99),o=r(915);t.exports=function(t,e){var r=1==t,c=2==t,l=3==t,u=4==t,p=6==t,d=5==t||p,h=e||o;return function(e,o,f){for(var v,g,m=s(e),y=a(m),A=i(o,f,3),_=n(y.length),k=0,b=r?h(e,_):c?h(e,0):void 0;_>k;k++)if((d||k in y)&&(v=y[k],g=A(v,k,m),t))if(r)b[k]=g;else if(g)switch(t){case 3:return!0;case 5:return v;case 6:return k;case 2:b.push(v)}else if(u)return!1;return p?-1:l||u?u:b}}},915:function(t,e,r){var i=r(916);t.exports=function(t,e){return new(i(t))(e)}},916:function(t,e,r){var i=r(44),a=r(247),s=r(14)("species");t.exports=function(t){var e;return a(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!a(e.prototype)||(e=void 0),i(e)&&null===(e=e[s])&&(e=void 0)),void 0===e?Array:e}},917:function(t,e,r){var i=r(36);i(i.P+i.R,"Set",{toJSON:r(918)("Set")})},918:function(t,e,r){var i=r(150),a=r(919);t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return a(this)}}},919:function(t,e,r){var i=r(240);t.exports=function(t,e){var r=[];return i(t,!1,r.push,r,e),r}},920:function(t,e,r){r(921)("Set")},921:function(t,e,r){"use strict";var i=r(36);t.exports=function(t){i(i.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},922:function(t,e,r){r(923)("Set")},923:function(t,e,r){"use strict";var i=r(36),a=r(76),s=r(64),n=r(240);t.exports=function(t){i(i.S,t,{from:function(t){var e,r,i,o,c=arguments[1];return a(this),e=void 0!==c,e&&a(c),void 0==t?new this:(r=[],e?(i=0,o=s(c,arguments[2],2),n(t,!1,function(t){r.push(o(t,i++))})):n(t,!1,r.push,r),new this(r))}})}},930:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"steps",props:{stepsObj:{type:Object}}}},946:function(t,e,r){var i=r(947);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);r(43)("62877a53",i,!1,{})},947:function(t,e,r){e=t.exports=r(42)(!1),e.push([t.i,"\n.stepBox {\n  padding: 20px;\n  border-bottom: 1px dashed #E8E8E8;\n  margin-bottom: 10px;\n}\n.bgcolor {\n  background-color: white;\n}\n.ivu-steps-item.ivu-steps-status-wait .ivu-steps-title {\n  color: #AAA;\n}\n",""])},948:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"stepBox bgcolor"},[r("Steps",{attrs:{current:t.stepsObj.current,size:"small"}},t._l(t.stepsObj.data,function(t,e){return r("Step",{key:t,attrs:{title:t}})}))],1)},a=[];i._withStripped=!0;var s={render:i,staticRenderFns:a};e.default=s}});