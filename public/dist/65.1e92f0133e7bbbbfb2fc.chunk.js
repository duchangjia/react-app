webpackJsonp([65,142,277,278],{1085:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"titles",props:{title:{type:String}}}},1402:function(e,t,o){var n=o(1403);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);o(43)("7295038e",n,!1,{})},1403:function(e,t,o){t=e.exports=o(42)(!1),t.push([e.i,"\n.title-container[data-v-2c6a50ba] {\n  border-bottom: 1px solid #e9eaec;\n  padding: 14px 16px;\n  line-height: 1;\n  margin-bottom: 15px;\n}\n.title-container p[data-v-2c6a50ba] {\n  height: 13px;\n  line-height: 13px;\n  font-size: 13px;\n  color: #777;\n  display: inline-block;\n  width: 100%;\n  font-weight: 700;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n",""])},1404:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"title-container"},[o("p",[e._v(e._s(e.title))])])},a=[];n._withStripped=!0;var i={render:n,staticRenderFns:a};t.default=i},1439:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(146),i=n(a),s=o(608),r=n(s),l=o(239),c=n(l);t.default={props:{disabled:{type:Boolean,default:!1},storeChecked:{type:Boolean,default:!1},store:{type:Array,default:[]}},data:function(){return{shop:{storeCodeLike:"",storeNameLike:"",storeNature:"",customizeGroupId:""},storeNature:["A","B","C","D","E"],storeGroupList:[],excludeSelection:[],selection:[],pageNum:1,pageSize:5,dataTotal:0,columns:[{type:"selection",align:"center",width:58},{title:"序号",align:"center",width:70,type:"index"},{title:"门店编码",align:"center",render:function(e,t){return e("span",{},t.row.storeCode)}},{title:"门店名称",align:"center",render:function(e,t){return e("span",{},t.row.storeName)}},{title:"门店类型",align:"center",render:function(e,t){return e("span",{},t.row.storeNature)}},{title:"自定义组",align:"center",render:function(e,t){return e("span",{},t.row.groupName)}}],excludeStoreColumns:[{type:"selection",align:"center",width:58},{title:"序号",align:"center",width:70,type:"index"},{title:"门店编码",align:"center",render:function(e,t){return e("span",{},t.row.storeCode)}},{title:"门店名称",align:"center",render:function(e,t){return e("span",{},t.row.storeName)}},{title:"门店类型",align:"center",render:function(e,t){return e("span",{},t.row.storeNature)}},{title:"自定义组",align:"center",render:function(e,t){return e("span",{},t.row.groupName)}}],excludeStoreLoading:!1,loading:!1,excludeStore:[],tableData:[]}},methods:{getStoreGroupList:function(){var e=this;this.$util.ajax({method:"post",url:this.$util.apiConfig.promotionManage.warProgramme.storeGroup}).then(function(t){if(200!==t.data.code)return void e.$Message.error(t.data.message);e.storeGroupList=t.data.result.storeGroupList}).catch(function(e){console.log("错误信息：",e)})},cancelChecked:function(){this.tableData.map(function(e){e._checked=!0,e._checked=!1}),this.selectNum=0,this.tableTopVisibility=1,this.selection=[]},pageNumCHangecancelChecked:function(){var e=this;this.tableData.map(function(e){e._disabled=!1}),this.tableData.map(function(e){e._checked=!0}),setTimeout(function(){e.tableData.map(function(e){e._checked=!1})}),this.selection=[]},excludeBtn:function(){var e=this;if(0===this.selection.length)return void(this.storeChecked?this.$Message.success("请选择想要添加的门店"):this.$Message.success("请选择想要排除的门店"));if(this.$Message.success("排除成功"),0===this.excludeStore.length)return this.selection.map(function(t){e.excludeStore.push(t),e.$emit("get-store",e.excludeStore)}),void this.cancelChecked();var t=!0;this.selection.map(function(o){e.excludeStore.map(function(e){o.storeCode===e.storeCode&&(t=!1)}),t&&(e.excludeStore.push(o),e.$emit("get-store",e.excludeStore)),t=!0})},searchBtn:function(){this.pageNum=1,this.getStoreList()},getStoreList:function(){var e=this;this.loading=!0;var t=(0,i.default)({page:this.pageNum,rows:this.pageSize},this.shop,{t_i_m_e:(new Date).getTime()});this.$util.ajax({method:"post",url:this.$util.apiConfig.promotionManage.warProgramme.getStoreList,data:c.default.stringify(t)}).then(function(t){if(200!==t.data.code)return void e.$Message.info(t.data.message);setTimeout(function(){t.data.result.records.map(function(t){t._checked=!1,t._disabled=e.disabled}),e.tableData=t.data.result.records}),e.dataTotal=t.data.result.totalCount,e.loading=!1}).catch(function(e){console.log("错误信息：",e)})},pageSizeChange:function(e){this.pageSize=e,this.getStoreList()},changePage:function(e){this.pageNumCHangecancelChecked(),this.pageNum=e,this.getStoreList()},excludeDeleteBtn:function(){var e=this;if(0===this.excludeSelection.length)return void this.$Message.success("请选择想要删除的门店");this.$Message.success("删除成功"),this.excludeSelection.map(function(t){e.excludeStore.map(function(o,n){o.storeCode===t.storeCode&&(e.excludeStore.splice(n,1),e.$emit("get-store",e.excludeStore))})}),this.excludeSelection=[]},excludeStoreSelectionChange:function(e){this.excludeSelection=e},selectionChange:function(e){this.selection=e}},components:{titles:r.default},created:function(){this.getStoreList(),this.getStoreGroupList()},watch:{store:function(e){this.excludeStore=e}}}},1487:function(e,t,o){var n=o(1488);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);o(43)("4e705b80",n,!1,{})},1488:function(e,t,o){t=e.exports=o(42)(!1),t.push([e.i,"\n.excludeStore .btn[data-v-8bf338ee] {\n  margin-right: 10px;\n  color: #495060;\n  padding: 5px 10px 5px 35px;\n  cursor: pointer;\n  position: relative;\n  font-size: 13px;\n}\n.excludeStore .btn[data-v-8bf338ee]:hover {\n  color: red;\n}\n.excludeStore .btn:hover .icon[data-v-8bf338ee] {\n  color: #f10;\n}\n.excludeStore .btn .icon[data-v-8bf338ee] {\n  color: #dedada;\n  font-size: 20px;\n  position: absolute;\n  left: 10px;\n  top: 2px;\n}\n.excludeStore .shop[data-v-8bf338ee] {\n  margin: 0 .5% 5px;\n}\n.excludeStore .shop label[data-v-8bf338ee] {\n  margin-right: 5px;\n}\n.excludeStore .shop #num[data-v-8bf338ee],\n.excludeStore .shop #name[data-v-8bf338ee],\n.excludeStore .shop #type[data-v-8bf338ee],\n.excludeStore .shop #group[data-v-8bf338ee] {\n  width: 60%;\n}\n.excludeStore .shop .inquireBtn[data-v-8bf338ee] {\n  float: right;\n}\n.excludeStore .shop .inquireBtn[data-v-8bf338ee]:last-of-type {\n  margin-right: 10px;\n}\n.excludeStore .CheckedTableCaption[data-v-8bf338ee] {\n  margin: 0 .5% 2px;\n  text-align: center;\n  position: relative;\n  height: 30px;\n}\n.excludeStore .CheckedTableCaption .title[data-v-8bf338ee] {\n  font-weight: 700;\n  font-size: 15px;\n  color: #495060;\n}\n.excludeStore .CheckedTableCaption .delBtn[data-v-8bf338ee] {\n  position: absolute;\n  right: 0;\n  top: -5px;\n}\n.excludeStore .page[data-v-8bf338ee] {\n  text-align: right;\n  margin-right: 1%;\n  margin-top: 5px;\n  position: relative;\n}\n.excludeStore .table[data-v-8bf338ee] {\n  margin: 20px 0 30px;\n}\n.excludeStore .table .tableTop[data-v-8bf338ee] {\n  margin: 10px 1% 2px;\n}\n.excludeStore .table .tableTop .deleteGroup[data-v-8bf338ee] {\n  margin-bottom: 6px;\n}\n.excludeStore .table .tableTop .deleteGroup .selectNum[data-v-8bf338ee] {\n  line-height: 31px;\n  padding-left: 35px;\n  color: rgba(0, 0, 0, 0.85);\n  position: relative;\n}\n.excludeStore .table .tableTop .deleteGroup .selectNum .cancelChecked[data-v-8bf338ee] {\n  font-size: 34px;\n  color: rgba(0, 0, 0, 0.85);\n  position: absolute;\n  cursor: pointer;\n  left: 9px;\n  top: -2px;\n}\n.excludeStore .table .tableTop .deleteGroup .selectNum .selected .number[data-v-8bf338ee] {\n  color: #2d8cf0;\n  display: inline-block;\n  margin: 0 5px;\n}\n.excludeStore .table .tableTop .deleteGroup .selectNum .split[data-v-8bf338ee] {\n  margin: 0 25px 0 35px;\n  font-size: 18px;\n  color: #DDDEE1;\n}\n.excludeStore .table .tableTop .deleteGroup .selectNum .btn[data-v-8bf338ee] {\n  margin-right: 10px;\n  color: #495060;\n  padding: 5px 10px 5px 35px;\n  cursor: pointer;\n  position: relative;\n  font-size: 13px;\n}\n.excludeStore .table .tableTop .deleteGroup .selectNum .btn[data-v-8bf338ee]:hover {\n  color: red;\n}\n.excludeStore .table .tableTop .deleteGroup .selectNum .btn:hover .icon[data-v-8bf338ee] {\n  color: #f10;\n}\n.excludeStore .table .tableTop .deleteGroup .selectNum .btn .icon[data-v-8bf338ee] {\n  color: #dedada;\n  font-size: 20px;\n  position: absolute;\n  left: 10px;\n  top: 2px;\n}\n",""])},1489:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"excludeStore"},[o("titles",{attrs:{title:e.storeChecked?"门店选择":"排除配置"}}),e._v(" "),o("div",{staticClass:"table"},[o("div",{staticClass:"tableTop"},[o("Row",{staticClass:"shop"},[o("Col",{attrs:{span:"5"}},[o("label",{attrs:{for:"num"}},[e._v("门店编码")]),e._v(" "),o("Input",{attrs:{id:"num",clearable:"",disabled:e.disabled},model:{value:e.shop.storeCodeLike,callback:function(t){e.$set(e.shop,"storeCodeLike",t)},expression:"shop.storeCodeLike"}})],1),e._v(" "),o("Col",{attrs:{span:"5"}},[o("label",{attrs:{for:"name"}},[e._v("门店名称")]),e._v(" "),o("Input",{attrs:{id:"name",clearable:"",disabled:e.disabled},model:{value:e.shop.storeNameLike,callback:function(t){e.$set(e.shop,"storeNameLike",t)},expression:"shop.storeNameLike"}})],1),e._v(" "),o("Col",{attrs:{span:"5"}},[o("label",{attrs:{for:"type"}},[e._v("门店类型")]),e._v(" "),o("Select",{attrs:{id:"type",clearable:"",disabled:e.disabled},model:{value:e.shop.storeNature,callback:function(t){e.$set(e.shop,"storeNature",t)},expression:"shop.storeNature"}},e._l(e.storeNature,function(t,n){return o("Option",{key:n,attrs:{value:t}},[e._v(e._s(t))])}))],1),e._v(" "),o("Col",{attrs:{span:"4"}},[o("label",{attrs:{for:"group"}},[e._v("自定义组")]),e._v(" "),o("Select",{attrs:{id:"group",clearable:"",disabled:e.disabled},model:{value:e.shop.customizeGroupId,callback:function(t){e.$set(e.shop,"customizeGroupId",t)},expression:"shop.customizeGroupId"}},e._l(e.storeGroupList,function(t,n){return o("Option",{key:n,attrs:{value:t.id}},[e._v(e._s(t.groupName))])}))],1),e._v(" "),o("Button",{staticClass:"inquireBtn",attrs:{type:e.storeChecked?"primary":"error",disabled:e.disabled},on:{click:e.excludeBtn}},[e._v(e._s(e.storeChecked?"添加":"排除"))]),e._v(" "),o("Button",{staticClass:"inquireBtn",attrs:{type:"primary",disabled:e.disabled},on:{click:e.searchBtn}},[e._v("查询")])],1)],1),e._v(" "),o("Table",{staticClass:"directionalRuleTable problem_table",attrs:{stripe:"",loading:e.loading,columns:e.columns,data:e.tableData},on:{"on-selection-change":e.selectionChange}}),e._v(" "),o("Page",{attrs:{total:e.dataTotal,current:e.pageNum,"show-sizer":"","show-total":"","show-elevator":"","page-size":5,"page-size-opts":[5,10,15,20],"class-name":"page"},on:{"on-change":e.changePage,"on-page-size-change":e.pageSizeChange}})],1),e._v(" "),o("div",{staticClass:"table"},[o("div",{staticClass:"tableTop"},[o("div",{staticClass:"CheckedTableCaption"},[o("div",{staticClass:"title"},[e._v(e._s(e.storeChecked?"已选门店":"排除门店"))]),e._v(" "),o("Button",{staticClass:"delBtn",attrs:{type:"error",disabled:e.disabled},on:{click:e.excludeDeleteBtn}},[e._v("删除")])],1)]),e._v(" "),o("Table",{staticClass:"checkedShopTable problem_table",attrs:{stripe:"",loading:e.excludeStoreLoading,columns:e.excludeStoreColumns,data:e.excludeStore},on:{"on-selection-change":e.excludeStoreSelectionChange}})],1)],1)},a=[];n._withStripped=!0;var i={render:n,staticRenderFns:a};t.default=i},1575:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(65),i=n(a),s=o(602),r=n(s),l=o(608),c=n(l),d=o(627),p=n(d),u=o(239),h=n(u);t.default={data:function(){return{excludeStore:[],checkedStore:[],storeNature:["A","B","C","D","E"],allSalesManId:[],calendar:[],shopRule:"1",storeGroupList:[],disabled:!1,salesmanList:[],preheatOptions:{disabledDate:function(e){return e&&e.valueOf()<Date.now()-864e5}},sessionStartTime:"",disabledInfo:!1,stepsObj:{current:0,data:["定向规则","秒杀配置","详情预览"]},shopType:{storeNature:[],customizeGroupId:[]},createSecondKill:{name:"",description:"",sessionId:"",preheatTime:"",id:"",promotionCode:"",validPayDuration:30},ruleValidate:{name:[{required:!0,message:"请输入活动名称",trigger:"blur"}],sessionId:[{required:!0,message:"请选择档期",trigger:"change",type:"number"}],description:[{required:!0,message:"请编写活动描述",trigger:"blur"}]}}},methods:{getExcludeStore:function(e){this.excludeStore=e},getCheckedStore:function(e){this.checkedStore=e},getStoreGroupList:function(){var e=this;this.$util.ajax({method:"post",url:this.$util.apiConfig.promotionManage.warProgramme.storeGroup}).then(function(t){if(200!==t.data.code)return void e.$Message.error(t.data.message);e.storeGroupList=t.data.result.storeGroupList}).catch(function(e){console.log("错误信息：",e)})},getSalesmanList:function(){var e=this;this.$util.ajax.post(this.$util.apiConfig.promotionManage.warProgramme.o2oVoucher.querySalesman).then(function(t){if(200!==t.data.code)return void e.$Message.error(t.data.message);e.salesmanList=t.data.result}).catch(function(e){console.log("错误信息：",e)})},preheatTimeChange:function(e){this.createSecondKill.preheatTime=e},sessionChange:function(e){for(var t=0;t<this.calendar.length;t++)if(this.calendar[t].sessionId===e){this.sessionStartTime=this.calendar[t].beginDate;break}},getSessionData:function(){var e=this,t=JSON.parse(sessionStorage.getItem("marketingSecondKillObject"));if(t){t.disabled&&(this.disabled=t.disabled),t.disabledInfo&&(this.disabledInfo=t.disabledInfo),this.createSecondKill.validPayDuration=t.promotionSeckillInfo.validPayDuration,this.createSecondKill.name=t.promotionSeckillInfo.title,this.createSecondKill.description=t.promotionSeckillInfo.promotionDescribe,this.createSecondKill.id=t.promotionSeckillInfo.id,this.createSecondKill.promotionCode=t.promotionSeckillInfo.promotionCode;for(var o=0;o<this.calendar.length;o++)if(this.calendar[o].sessionId===t.promotionSeckillInfo.sessionId){this.sessionStartTime=this.calendar[o].beginDate;break}if(this.sessionStartTime&&(this.createSecondKill.sessionId=t.promotionSeckillInfo.sessionId),"number"==typeof t.promotionSeckillInfo.preheatTime){var n=new Date(t.promotionSeckillInfo.preheatTime),a=n.getFullYear(),i=n.getMonth()+1,s=n.getDate(),r=n.getHours(),l=n.getMinutes(),c=n.getSeconds();i=i<10?"0"+i:i,s=s<10?"0"+s:s,r=r<10?"0"+r:r,l=l<10?"0"+l:l,c=c<10?"0"+c:c,this.createSecondKill.preheatTime=a+"-"+i+"-"+s+" "+r+":"+l+":"+c}else null===t.promotionSeckillInfo.preheatTime?this.createSecondKill.preheatTime="":this.createSecondKill.preheatTime=t.promotionSeckillInfo.preheatTime;t.promotionSeckillSalesmanScopeDTOList&&t.promotionSeckillSalesmanScopeDTOList.map(function(t){e.allSalesManId.push(t.salesmanId+"")}),1===t.promotionSeckillScopeDetailList[0].scopeType?(this.shopRule="1",t.promotionSeckillStoreScopeExclusionList&&t.promotionSeckillStoreScopeExclusionList.map(function(t){var o={page:1,rows:10,storeCodeLike:t.storeCode,storeNameLike:"",storeNature:"",customizeGroupId:"",t_i_m_e:(new Date).getTime()};e.$util.ajax({method:"post",url:e.$util.apiConfig.promotionManage.warProgramme.getStoreList,data:h.default.stringify(o)}).then(function(t){if(200!==t.data.code)return void e.$Message.info(t.data.message);t.data.result.records[0]._checked=!1,t.data.result.records[0]._disabled=e.disabled,e.excludeStore.push(t.data.result.records[0])}).catch(function(e){console.log("错误信息：",e)})})):2===t.promotionSeckillScopeDetailList[0].scopeType?(this.shopRule="3",t.promotionSeckillScopeDetailList.map(function(t){var o={page:1,rows:10,storeCodeLike:t.scopeCode,storeNameLike:"",storeNature:"",customizeGroupId:"",t_i_m_e:(new Date).getTime()};e.$util.ajax({method:"post",url:e.$util.apiConfig.promotionManage.warProgramme.getStoreList,data:h.default.stringify(o)}).then(function(t){if(200!==t.data.code)return void e.$Message.info(t.data.message);t.data.result.records[0]._checked=!1,t.data.result.records[0]._disabled=e.disabled,e.checkedStore.push(t.data.result.records[0])}).catch(function(e){console.log("错误信息：",e)})})):3===t.promotionSeckillScopeDetailList[0].scopeType&&(this.shopRule="2",t.promotionSeckillScopeDetailList.map(function(t){t.storeGroupId?e.shopType.customizeGroupId.push(+t.storeGroupId):t.scopeCode&&e.shopType.storeNature.push(t.scopeCode)}),t.promotionSeckillStoreScopeExclusionList&&t.promotionSeckillStoreScopeExclusionList.map(function(t){var o={page:1,rows:10,storeCodeLike:t.storeCode,storeNameLike:"",storeNature:"",customizeGroupId:"",t_i_m_e:(new Date).getTime()};e.$util.ajax({method:"post",url:e.$util.apiConfig.promotionManage.warProgramme.getStoreList,data:h.default.stringify(o)}).then(function(t){if(200!==t.data.code)return void e.$Message.info(t.data.message);t.data.result.records[0]._checked=!1,t.data.result.records[0]._disabled=e.disabled,e.excludeStore.push(t.data.result.records[0])}).catch(function(e){console.log("错误信息：",e)})}))}},next:function(){var e=this,t=!1,o={},n=JSON.parse(sessionStorage.getItem("marketingSecondKillObject"));n&&(o=n);var a=new Date,s=a.getFullYear(),r=a.getMonth()+1,l=a.getDate(),c=a.getHours(),d=a.getMinutes(),p=a.getSeconds();r=r<10?"0"+r:r,l=l<10?"0"+l:l,c=c<10?"0"+c:c,d=d<10?"0"+d:d,p=p<10?"0"+p:p;var u=s+"-"+r+"-"+l+" "+c+":"+d+":"+p;if(!this.disabled&&this.createSecondKill.preheatTime&&this.createSecondKill.preheatTime<=u)return void this.$Message.warning({content:"预热时间必须大于当前时间："+u,duration:3});if(!this.disabled&&this.createSecondKill.preheatTime&&this.createSecondKill.preheatTime>=this.sessionStartTime)return void this.$Message.warning({content:"预热时间必须小于档期开始时间："+this.sessionStartTime,duration:3});if(""===this.createSecondKill.preheatTime&&(this.createSecondKill.preheatTime=null),this.$refs.createSecondKillForm.validate(function(n){n?o.promotionSeckillInfo={title:e.createSecondKill.name,promotionDescribe:e.createSecondKill.description,sessionId:e.createSecondKill.sessionId,preheatTime:e.createSecondKill.preheatTime,id:e.createSecondKill.id,promotionCode:e.createSecondKill.promotionCode,validPayDuration:e.createSecondKill.validPayDuration}:(e.$Message.warning("请填写带 * 号的必填项"),t=!0)}),!t){if(this.allSalesManId.length>0){var h=[];this.allSalesManId.forEach(function(t){e.salesmanList.forEach(function(e){t===e.empId&&h.push({id:e.id,salesmanId:e.empId,salesmanName:e.empName,salesmanCode:e.empCode})})}),o.promotionSeckillSalesmanScopeDTOList=h}else o.promotionSeckillSalesmanScopeDTOList=[];if("3"===this.shopRule){if(o.promotionSeckillSalesmanScopeDTOList=[],0===this.checkedStore.length)return void this.$Message.warning("请选择门店");var m=[];this.checkedStore.map(function(e){m.push({scopeType:2,scopeId:e.id,scopeCode:e.storeCode,scopeName:e.storeName})}),o.promotionSeckillScopeDetailList=m}else if("2"===this.shopRule){if(0===this.shopType.storeNature.length&&0===this.shopType.customizeGroupId.length)return void this.$Message.warning("请选择门店类型或自定义组");if(this.shopType.storeNature.length>0){var f=[];this.shopType.storeNature.forEach(function(e){f.push({scopeType:3,scopeCode:e})}),o.promotionSeckillScopeDetailList=f}if(this.shopType.customizeGroupId.length>0){var g=[],v=[];this.shopType.customizeGroupId.map(function(t){e.storeGroupList.map(function(e){t===e.id&&v.push(e)})}),v.forEach(function(e){g.push({scopeType:3,storeGroupId:e.id,storeGroupName:e.groupName})}),o.promotionSeckillScopeDetailList?o.promotionSeckillScopeDetailList=o.promotionSeckillScopeDetailList.concat(g):o.promotionSeckillScopeDetailList=g}if(this.excludeStore.length>0){var b=[];this.excludeStore.map(function(e){b.push({storeId:e.id,storeCode:e.storeCode,storeName:e.storeName,storeType:e.storeNature,storeGroupName:e.groupName,storeGroupId:e.customizeGroupId})}),o.promotionSeckillStoreScopeExclusionList=b}}else if("1"===this.shopRule){if(this.excludeStore.length>0){var S=[];this.excludeStore.map(function(e){S.push({storeId:e.id,storeCode:e.storeCode,storeName:e.storeName,storeType:e.storeNature,storeGroupName:e.groupName,storeGroupId:e.customizeGroupId})}),o.promotionSeckillStoreScopeExclusionList=S}o.promotionSeckillScopeDetailList=[{scopeType:1}]}sessionStorage.setItem("marketingSecondKillObject",(0,i.default)(o)),this.$router.push({name:"second-kill-config"})}},getcalendar:function(){var e=this;this.$util.ajax({method:"POST",url:this.$util.apiConfig.promotionManage.warProgramme.o2oSecondKill.getSessionList,data:{beginDate:(new Date).getTime(),endDate:(new Date).getTime()}}).then(function(t){if(200!==t.data.code)return void e.$Message.error({content:t.data.message,duration:3});e.calendar=t.data.result.rows,e.getSessionData()}).catch(function(e){console.log("错误信息：",e)})},back:function(){this.$router.go(-1)}},components:{store:p.default,steps:r.default,titles:c.default},created:function(){this.getSalesmanList(),this.getcalendar(),this.getStoreGroupList()}}},1980:function(e,t,o){var n=o(1981);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);o(43)("06c1cde9",n,!1,{})},1981:function(e,t,o){t=e.exports=o(42)(!1),t.push([e.i,"\n.container .second[data-v-185393e6] {\n  height: 32px;\n  line-height: 32px;\n}\n.container .shopRule[data-v-185393e6] {\n  margin-left: 35px;\n}\n.container .allShop[data-v-185393e6] {\n  margin-left: 20px;\n}\n.container .btn[data-v-185393e6] {\n  margin-right: 10px;\n  color: #495060;\n  padding: 5px 10px 5px 35px;\n  cursor: pointer;\n  position: relative;\n  font-size: 13px;\n}\n.container .btn[data-v-185393e6]:hover {\n  color: red;\n}\n.container .btn:hover .icon[data-v-185393e6] {\n  color: #f10;\n}\n.container .btn .icon[data-v-185393e6] {\n  color: #dedada;\n  font-size: 20px;\n  position: absolute;\n  left: 10px;\n  top: 2px;\n}\n.container .shopType[data-v-185393e6] {\n  margin: 20px 0 20px 53px;\n}\n.container .shopType .line2[data-v-185393e6] {\n  margin: 10px 0;\n}\n.container .shopType .float-left[data-v-185393e6] {\n  float: left;\n  padding-right: 10px;\n  width: 80px;\n  text-align: right;\n}\n.container .shopType .ruleShopType[data-v-185393e6] {\n  overflow: hidden;\n}\n.container .shop[data-v-185393e6] {\n  margin: 0 .5% 5px;\n}\n.container .shop label[data-v-185393e6] {\n  margin-right: 5px;\n}\n.container .shop #num[data-v-185393e6],\n.container .shop #name[data-v-185393e6],\n.container .shop #type[data-v-185393e6],\n.container .shop #group[data-v-185393e6] {\n  width: 60%;\n}\n.container .shop .inquireBtn[data-v-185393e6] {\n  float: right;\n}\n.container .directionalRuleBtn[data-v-185393e6] {\n  margin: 20px 0 0 10px;\n  text-align: left;\n}\n.container .directionalRuleBtn Button[data-v-185393e6] {\n  margin-right: 20px;\n}\n.container .checkedShopBtn[data-v-185393e6] {\n  margin: 50px 0 0 10px;\n  text-align: left;\n}\n.container .checkedShopBtn Button[data-v-185393e6] {\n  margin-right: 20px;\n}\n.container .CheckedTableCaption[data-v-185393e6] {\n  margin: 0 .5% 2px;\n  text-align: center;\n  position: relative;\n  height: 30px;\n}\n.container .CheckedTableCaption .title[data-v-185393e6] {\n  font-weight: 700;\n  font-size: 15px;\n  color: #495060;\n}\n.container .CheckedTableCaption .delete[data-v-185393e6] {\n  position: absolute;\n  top: -3px;\n  left: 0;\n}\n.container .CheckedTableCaption .exclude[data-v-185393e6] {\n  position: absolute;\n  top: -3px;\n  right: 0;\n}\n.container .page[data-v-185393e6] {\n  text-align: right;\n  margin-right: 1%;\n  margin-top: 5px;\n  position: relative;\n}\n.container .bottomBtn[data-v-185393e6] {\n  margin-top: 30px;\n  text-align: center;\n}\n.container .bottomBtn Button[data-v-185393e6]:first-of-type {\n  margin-right: 20px;\n}\n.container .table[data-v-185393e6] {\n  margin: 20px 0 30px;\n}\n",""])},1982:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("steps",{attrs:{stepsObj:e.stepsObj}}),e._v(" "),o("div",{staticClass:"container"},[o("Form",{ref:"createSecondKillForm",staticClass:"activityForm",attrs:{"label-width":100,model:e.createSecondKill,rules:e.ruleValidate}},[o("titles",{attrs:{title:"活动新增"}}),e._v(" "),o("Row",[o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"活动名称：",prop:"name"}},[o("Input",{attrs:{maxlength:100,disabled:e.disabledInfo},model:{value:e.createSecondKill.name,callback:function(t){e.$set(e.createSecondKill,"name",t)},expression:"createSecondKill.name"}})],1)],1),e._v(" "),o("Col",{attrs:{span:"6"}},[o("FormItem",{attrs:{label:"档期：",prop:"sessionId"}},[o("Select",{attrs:{disabled:e.disabledInfo},on:{"on-change":e.sessionChange},model:{value:e.createSecondKill.sessionId,callback:function(t){e.$set(e.createSecondKill,"sessionId",t)},expression:"createSecondKill.sessionId"}},e._l(e.calendar,function(t,n){return o("Option",{key:n,attrs:{value:t.sessionId}},[e._v(e._s(t.sessionName))])}))],1)],1),e._v(" "),o("Col",{attrs:{span:"6"}},[o("FormItem",{attrs:{label:"预热时间："}},[o("DatePicker",{attrs:{type:"datetime",readonly:e.disabled,disabled:e.disabled,id:"preheatTime",value:e.createSecondKill.preheatTime,options:e.preheatOptions,clearable:"",format:"yyyy-MM-dd HH:mm:ss"},on:{"on-change":e.preheatTimeChange}})],1)],1)],1),e._v(" "),o("Row",[o("Col",{attrs:{span:"14"}},[o("FormItem",{attrs:{label:"活动描述：",prop:"description"}},[o("Input",{attrs:{maxlength:120,placeholder:"最多输入120个字",autosize:{minRows:2,maxRows:4},type:"textarea",disabled:e.disabledInfo},model:{value:e.createSecondKill.description,callback:function(t){e.$set(e.createSecondKill,"description",t)},expression:"createSecondKill.description"}})],1)],1),e._v(" "),o("Col",{attrs:{span:"4"}},[o("FormItem",{attrs:{label:"订单时长："}},[o("InputNumber",{attrs:{min:1,max:1e6,precision:0},model:{value:e.createSecondKill.validPayDuration,callback:function(t){e.$set(e.createSecondKill,"validPayDuration",t)},expression:"createSecondKill.validPayDuration"}})],1)],1),e._v(" "),o("Col",{staticClass:"second",attrs:{span:"1"}},[e._v("秒")])],1)],1),e._v(" "),o("titles",{attrs:{title:"门店范围"}}),e._v(" "),o("RadioGroup",{staticClass:"shopRule",model:{value:e.shopRule,callback:function(t){e.shopRule=t},expression:"shopRule"}},[o("Radio",{attrs:{label:"1",disabled:e.disabled}},[e._v("全部门店")]),e._v(" "),o("Radio",{attrs:{label:"3",disabled:e.disabled}},[e._v("指定门店")]),e._v(" "),o("Radio",{attrs:{label:"2",disabled:e.disabled}},[e._v("指定门店类型")])],1),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:"1"===e.shopRule,expression:'shopRule === "1"'}],staticStyle:{"margin-top":"20px"}},[o("titles",{attrs:{title:"业务员"}}),e._v(" "),o("div",{staticClass:"shopType"},[o("CheckboxGroup",{staticClass:"ruleShopType",model:{value:e.allSalesManId,callback:function(t){e.allSalesManId=t},expression:"allSalesManId"}},e._l(e.salesmanList,function(t,n){return o("Checkbox",{key:n,attrs:{label:t.empId,disabled:e.disabled}},[e._v(e._s(t.empName))])}))],1)],1),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:"2"===e.shopRule,expression:'shopRule === "2"'}]},[o("div",{staticClass:"shopType"},[o("div",[o("span",{staticClass:"float-left"},[e._v("门店类型")]),e._v(" "),o("CheckboxGroup",{staticClass:"ruleShopType",model:{value:e.shopType.storeNature,callback:function(t){e.$set(e.shopType,"storeNature",t)},expression:"shopType.storeNature"}},e._l(e.storeNature,function(t,n){return o("Checkbox",{key:n,attrs:{label:t,disabled:e.disabled}})}))],1),e._v(" "),o("div",{staticClass:"line2"},[o("span",{staticClass:"float-left"},[e._v("自定义组")]),e._v(" "),o("CheckboxGroup",{staticClass:"ruleShopType",model:{value:e.shopType.customizeGroupId,callback:function(t){e.$set(e.shopType,"customizeGroupId",t)},expression:"shopType.customizeGroupId"}},e._l(e.storeGroupList,function(t,n){return o("Checkbox",{key:n,attrs:{label:t.id,disabled:e.disabled}},[e._v(e._s(t.groupName))])}))],1)]),e._v(" "),o("titles",{attrs:{title:"业务员"}}),e._v(" "),o("div",{staticClass:"shopType"},[o("CheckboxGroup",{staticClass:"ruleShopType",model:{value:e.allSalesManId,callback:function(t){e.allSalesManId=t},expression:"allSalesManId"}},e._l(e.salesmanList,function(t,n){return o("Checkbox",{key:n,attrs:{label:t.empId,disabled:e.disabled}},[e._v(e._s(t.empName))])}))],1)],1),e._v(" "),o("store",{directives:[{name:"show",rawName:"v-show",value:"1"===e.shopRule||"2"===e.shopRule,expression:'shopRule === "1" || shopRule === "2"'}],attrs:{disabled:e.disabled,store:e.excludeStore},on:{"get-store":e.getExcludeStore}}),e._v(" "),o("store",{directives:[{name:"show",rawName:"v-show",value:"3"===e.shopRule,expression:'shopRule === "3"'}],staticStyle:{"margin-top":"20px"},attrs:{disabled:e.disabled,store:e.checkedStore,storeChecked:""},on:{"get-store":e.getCheckedStore}}),e._v(" "),o("div",{staticClass:"bottomBtn"},[o("Button",{attrs:{type:"primary"},on:{click:e.next}},[e._v("下一步")]),e._v(" "),o("Button",{attrs:{type:"ghost"},on:{click:e.back}},[e._v("取消")])],1)],1)],1)},a=[];n._withStripped=!0;var i={render:n,staticRenderFns:a};t.default=i},602:function(e,t,o){"use strict";function n(e){c||o(946)}Object.defineProperty(t,"__esModule",{value:!0});var a=o(930),i=o.n(a);for(var s in a)"default"!==s&&function(e){o.d(t,e,function(){return a[e]})}(s);var r=o(948),l=o.n(r),c=!1,d=o(13),p=n,u=d(i.a,l.a,!1,p,null,null);u.options.__file="src/views/marketing-centre-components/steps.vue",t.default=u.exports},608:function(e,t,o){"use strict";function n(e){c||o(1402)}Object.defineProperty(t,"__esModule",{value:!0});var a=o(1085),i=o.n(a);for(var s in a)"default"!==s&&function(e){o.d(t,e,function(){return a[e]})}(s);var r=o(1404),l=o.n(r),c=!1,d=o(13),p=n,u=d(i.a,l.a,!1,p,"data-v-2c6a50ba",null);u.options.__file="src/views/marketing-centre-components/titles.vue",t.default=u.exports},627:function(e,t,o){"use strict";function n(e){c||o(1487)}Object.defineProperty(t,"__esModule",{value:!0});var a=o(1439),i=o.n(a);for(var s in a)"default"!==s&&function(e){o.d(t,e,function(){return a[e]})}(s);var r=o(1489),l=o.n(r),c=!1,d=o(13),p=n,u=d(i.a,l.a,!1,p,"data-v-8bf338ee",null);u.options.__file="src/views/marketing-centre-components/store.vue",t.default=u.exports},693:function(e,t,o){"use strict";function n(e){c||o(1980)}Object.defineProperty(t,"__esModule",{value:!0});var a=o(1575),i=o.n(a);for(var s in a)"default"!==s&&function(e){o.d(t,e,function(){return a[e]})}(s);var r=o(1982),l=o.n(r),c=!1,d=o(13),p=n,u=d(i.a,l.a,!1,p,"data-v-185393e6",null);u.options.__file="src/views/promotion-manage/second-kill/directional-rule.vue",t.default=u.exports},930:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"steps",props:{stepsObj:{type:Object}}}},946:function(e,t,o){var n=o(947);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);o(43)("62877a53",n,!1,{})},947:function(e,t,o){t=e.exports=o(42)(!1),t.push([e.i,"\n.stepBox {\n  padding: 20px;\n  border-bottom: 1px dashed #E8E8E8;\n  margin-bottom: 10px;\n}\n.bgcolor {\n  background-color: white;\n}\n.ivu-steps-item.ivu-steps-status-wait .ivu-steps-title {\n  color: #AAA;\n}\n",""])},948:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"stepBox bgcolor"},[o("Steps",{attrs:{current:e.stepsObj.current,size:"small"}},e._l(e.stepsObj.data,function(e,t){return o("Step",{key:e,attrs:{title:e}})}))],1)},a=[];n._withStripped=!0;var i={render:n,staticRenderFns:a};t.default=i}});