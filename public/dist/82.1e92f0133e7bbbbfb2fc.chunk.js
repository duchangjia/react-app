webpackJsonp([82,274],{1707:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(241),s=r(n),o=a(146),i=r(o),u=a(242),l=r(u),c=a(898),d=a(603),p=r(d),f=a(239);t.default={components:{DefaultHr:p.default},data:function(){var e=this;return{query:{purchaseOrderNo:"",dnCode:"",purchaseOrderStatus:"",page:1,row:10},apiGroup:this.$util.apiConfig.stockManage.warehouseIn.cancelOrederInbound,total:0,tableData:[],tableColumns:[{title:"序号",width:75,align:"center",render:function(t,a){return t("span",(e.query.page-1)*e.query.row+a.index+1)}},{title:"撤单入库单号",align:"center",key:"purchaseOrderNo"},{title:"撤单单号",align:"center",key:"dnCode"},{title:"订单状态",align:"center",key:"purchaseOrderStatus",render:function(e,t){var a="";switch(parseInt(t.row.purchaseOrderStatus)){case 0:a="待入库";break;case 10:a="已入库";break;case 20:a="部分已入库";break;default:a="异常数据"}return e("span",a)}},{title:"入库仓库",align:"center",key:"warehouseName"},{title:"经销商名称",align:"center",key:"distributorName"},{title:"创建时间",key:"createTime",align:"center",render:function(e,t){var a="",r=t.row.createTime;return r&&null!==r&&(a=(0,c.formatDate)(new Date(parseInt(1e3*r)),"yyyy-MM-DD")),e("span",a)}},{title:"操作",align:"center",width:75,render:function(t,a){var r=[];return r.push(t("Button",{props:{type:"primary",size:"small"},on:{click:function(t){return e.showDetail(a.row)}}},"查看")),t("div",r)}}],detailInfo:{},detailVisible:!1,detailGoodsCoulmns:[{title:"序号",width:75,align:"center",render:function(e,t){return e("span",t.index+1)}},{title:"条形码",align:"center",key:"materialCode69"},{title:"商品名称",align:"center",key:"name"},{title:"撤单整件数(CAR)",align:"center",key:"carNum"},{title:"撤单散个数(EA)",align:"center",key:"eaNum"}],detailGoodsData:[]}},mounted:function(){this.queryData()},methods:{queryData:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(s.default.mark(function e(){var t,a,r,n,o,u,l,c,d;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,i.default)({},this.query),delete t.page,delete t.row,a="",this.tableData=[],r=t.purchaseOrderNo,n=t.dnCode,o=t.purchaseOrderStatus,null!==r&&void 0!==r&&""!==r||(r=""),null!==n&&void 0!==n&&""!==n||(n=""),null!==o&&void 0!==o&&""!==o||(o=""),u=this.apiGroup.list+"?purchaseOrderNo="+r+"&dnCode="+n+"&purchaseOrderStatus="+o,e.prev=12,e.next=15,this.$ajax({url:u});case 15:l=e.sent,c=l.data,200==c.code?(d=c.result.pager,d.records instanceof Array&&(this.tableData=d.records),d.totalCount&&(this.total=d.totalCount)):a="撤单入库列表获取失败",e.next=24;break;case 20:e.prev=20,e.t0=e.catch(12),console.log(e.t0),a="撤单入库列表获取失败";case 24:a&&this.$Message.error(a);case 25:case"end":return e.stop()}},e,this,[[12,20]])}));return e}(),handleQueryBtnClick:function(){this.query.page=1,this.queryData()},handleResetBtnClick:function(){this.query={purchaseOrderNo:"",dnCode:"",purchaseOrderStatus:"",page:1,row:10},this.queryData()},showDetail:function(e){var t=e.purchaseOrderNo,a=e.warehouseName,r=e.createTime,n=e.distributorName;this.detailVisible=!0,this.detailInfo={purchaseOrderNo:t,warehouseName:a,createTime:(0,c.formatDate)(new Date(parseInt(1e3*r)),"yyyy-MM-DD"),distributorName:n},this.getDetailGoods(t)},getDetailGoods:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(s.default.mark(function e(t){var a,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.detailGoodsData=[],e.prev=1,e.next=4,this.$ajax.post(this.apiGroup.detail,f.stringify({purchaseOrderNo:t,isView:!1}));case 4:a=e.sent,r=a.data,200==r.code?r.result instanceof Array&&(this.detailGoodsData=r.result.concat()):this.$Message.error("订单详情获取失败"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),this.$Message.error("订单详情获取失败");case 13:case"end":return e.stop()}},e,this,[[1,9]])}));return e}()}}},2405:function(e,t,a){var r=a(2406);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(43)("9f7642f0",r,!1,{})},2406:function(e,t,a){t=e.exports=a(42)(!1),t.push([e.i,"\n.query-btn[data-v-a445ce64] {\n  margin-left: 80px;\n  margin-right: 20px;\n}\n.custom-hr[data-v-a445ce64] {\n  margin-top: 15px;\n}\n.custom-page[data-v-a445ce64] {\n  margin-top: 15px;\n  float: right;\n}\n.custom-row[data-v-a445ce64] {\n  margin-bottom: 10px;\n  font-size: 14px;\n}\n.custom-h3[data-v-a445ce64] {\n  margin: 15px 0;\n}\n.custom-h3[data-v-a445ce64]:first-of-type {\n  margin-top: 0;\n}\n",""])},2407:function(e,t,a){var r=a(2408);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(43)("2623641e",r,!1,{})},2408:function(e,t,a){t=e.exports=a(42)(!1),t.push([e.i,"\n.Table-detailGoods .ivu-table .ivu-table-body {\n  max-height: 192px;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n",""])},2409:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Card",[a("Form",{attrs:{"label-width":90}},[a("Row",[a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"退货入库单号"}},[a("Input",{attrs:{clearable:""},model:{value:e.query.purchaseOrderNo,callback:function(t){e.$set(e.query,"purchaseOrderNo",t)},expression:"query.purchaseOrderNo"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"撤单单号"}},[a("Input",{attrs:{clearable:""},model:{value:e.query.dnCode,callback:function(t){e.$set(e.query,"dnCode",t)},expression:"query.dnCode"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"入库状态"}},[a("Select",{model:{value:e.query.purchaseOrderStatus,callback:function(t){e.$set(e.query,"purchaseOrderStatus",t)},expression:"query.purchaseOrderStatus"}},[a("Option",{attrs:{value:""}},[e._v("全部")]),e._v(" "),a("Option",{attrs:{value:0}},[e._v("待入库")]),e._v(" "),a("Option",{attrs:{value:10}},[e._v("已入库")]),e._v(" "),a("Option",{attrs:{value:20}},[e._v("部分已入库")])],1)],1)],1)],1),e._v(" "),a("Row",[a("Button",{staticClass:"query-btn",attrs:{type:"primary"},on:{click:e.handleQueryBtnClick}},[e._v("查询")]),e._v(" "),a("Button",{attrs:{type:"primary"},on:{click:e.handleResetBtnClick}},[e._v("重置")])],1)],1),e._v(" "),a("DefaultHr",{staticClass:"custom-hr"}),e._v(" "),a("div",[a("Table",{attrs:{data:e.tableData,columns:e.tableColumns}})],1),e._v(" "),a("Row",[a("Page",{staticClass:"custom-page",attrs:{"page-size":e.query.row,current:e.query.page,total:e.total,"show-elevator":"","show-total":""},on:{"update:current":function(t){e.$set(e.query,"page",t)},"on-change":e.queryData}})],1),e._v(" "),a("Modal",{attrs:{width:1e3,title:"撤单订单明细"},model:{value:e.detailVisible,callback:function(t){e.detailVisible=t},expression:"detailVisible"}},[a("h3",{staticClass:"custom-h3"},[e._v("基本信息")]),e._v(" "),a("Row",{staticClass:"custom-row"},[a("Col",{attrs:{span:"8"}},[a("span",[e._v("单据编号:")]),e._v(" "),a("span",[e._v(e._s(e.detailInfo.purchaseOrderNo))])]),e._v(" "),a("Col",{attrs:{span:"8"}},[a("span",[e._v("单据日期:")]),e._v(" "),a("span",[e._v(e._s(e.detailInfo.createTime))])]),e._v(" "),a("Col",{attrs:{span:"8"}},[a("span",[e._v("单据类型:")]),e._v(" "),a("span",[e._v("撤单入库")])])],1),e._v(" "),a("Row",{staticClass:"custom-row"},[a("Col",{attrs:{span:"12"}},[a("span",[e._v("入库仓库:")]),e._v(" "),a("span",[e._v(e._s(e.detailInfo.warehouseName))])]),e._v(" "),a("Col",{attrs:{span:"12"}},[a("span",[e._v("货主:")]),e._v(" "),a("span",[e._v(e._s(e.detailInfo.distributorName))])])],1),e._v(" "),a("h3",{staticClass:"custom-h3"},[e._v("商品信息")]),e._v(" "),a("Table",{staticClass:"Table-detailGoods",attrs:{columns:e.detailGoodsCoulmns,data:e.detailGoodsData}}),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:function(t){return e.detailVisible=!1}}},[e._v("关闭")])],1)],1)],1)},n=[];r._withStripped=!0;var s={render:r,staticRenderFns:n};t.default=s},603:function(e,t,a){"use strict";function r(e){l||a(964)}Object.defineProperty(t,"__esModule",{value:!0});var n=a(939),s=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,function(){return n[e]})}(o);var i=a(966),u=a.n(i),l=!1,c=a(13),d=r,p=c(s.a,u.a,!1,d,"data-v-eb39e066",null);p.options.__file="src/views/my-components/default-hr/default-hr.vue",t.default=p.exports},822:function(e,t,a){"use strict";function r(e){l||(a(2405),a(2407))}Object.defineProperty(t,"__esModule",{value:!0});var n=a(1707),s=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,function(){return n[e]})}(o);var i=a(2409),u=a.n(i),l=!1,c=a(13),d=r,p=c(s.a,u.a,!1,d,"data-v-a445ce64",null);p.options.__file="src/views/stock-manage/warehouse-in/cancel-order-inbound.vue",t.default=p.exports},898:function(e,t,a){"use strict";function r(e,t){if(!t)var t="yyyy-MM-DD hh:mm:ss";var a={"M+":e.getMonth()+1,"D+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var r in a)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?a[r]:("00"+a[r]).substr((""+a[r]).length)));return t}function n(e,t){if(!t)var t="yyyy-MM-dd";(e=Number(e))<1e10&&(e*=1e3);var a=new Date(e),r={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in r)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?r[n]:("00"+r[n]).substr((""+r[n]).length)));return t}Object.defineProperty(t,"__esModule",{value:!0}),t.formatDate=r,t.timestampToDay=n},939:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},964:function(e,t,a){var r=a(965);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(43)("63be8b28",r,!1,{})},965:function(e,t,a){t=e.exports=a(42)(!1),t.push([e.i,"\n.default-hr[data-v-eb39e066] {\n  width: 100%;\n  height: 1px;\n  border: none;\n  border-top: 1px dashed #aaa;\n  margin-bottom: 20px;\n}\n",""])},966:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=this,t=e.$createElement;return(e._self._c||t)("hr",{staticClass:"default-hr"})},n=[];r._withStripped=!0;var s={render:r,staticRenderFns:n};t.default=s}});