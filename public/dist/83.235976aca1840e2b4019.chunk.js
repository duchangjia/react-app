webpackJsonp([83,274],{1706:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(241),s=r(n),o=a(146),i=r(o),u=a(242),l=r(u),c=a(603),d=r(c),p=a(898),h=a(239);t.default={components:{DefaultHr:d.default},data:function(){var e=this;return{query:{purchaseOrderNo:"",dnCode:"",purchaseOrderStatus:"",page:1,row:10},apiGroup:this.$util.apiConfig.stockManage.warehouseIn.allocationBound,total:0,tableData:[],tableLoading:!1,tableColumns:[{title:"序号",width:75,align:"center",render:function(t,a){return t("span",(e.query.page-1)*e.query.row+a.index+1)}},{title:"调拨单号",align:"center",key:"dnCode"},{title:"入库单号",align:"center",key:"purchaseOrderNo"},{title:"出入库类型",align:"center",key:"orderType",render:function(e,t){var a="";return 30==t.row.orderType&&(a="调拨入库"),e("span",a)}},{title:"调出仓库",align:"center",key:"warehouseOutName"},{title:"调入仓库",align:"center",key:"warehouseName"},{title:"状态",width:85,key:"purchaseOrderStatus",align:"center",render:function(e,t){switch(parseInt(t.row.purchaseOrderStatus)){case 0:return e("span","待入库");case 10:return e("span","已入库");default:return e("span","异常状态")}}},{title:"生成时间",key:"createTime",align:"center",render:function(e,t){var a="",r=t.row.createTime;return r&&null!==r&&(a=(0,p.formatDate)(new Date(1e3*r),"yyyy-MM-DD hh:mm:ss")),e("span",a)}},{title:"操作",align:"center",width:75,render:function(t,a){var r=[];return r.push(t("Button",{props:{type:"primary",size:"small"},on:{click:function(t){return e.showDetail(a.row)}}},"查看")),t("div",r)}}],detailInfo:{dnCode:"",orderType:"",warehouseOutName:"",warehouseName:"",createTime:"",purchaseOrderNo:"",purchaseOrderStatus:"",inboundUser:""},detailVisible:!1,detailGoodsCoulmns:[{title:"序号",width:75,align:"center",render:function(e,t){return e("span",t.index+1)}},{title:"条形码",align:"center",key:"materialCode69"},{title:"商品名称",align:"center",key:"name"},{title:"调拨整件数",align:"center",key:"carNum"},{title:"调拨散个数",align:"center",key:"eaNum"}],detailGoodsData:[]}},mounted:function(){this.queryData()},methods:{queryData:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(s.default.mark(function e(){var t,a,r,n,o;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,i.default)({},this.query),a="",this.tableLoading=!0,e.prev=3,this.tableData=[],e.next=7,this.$ajax.post(this.apiGroup.list,h.stringify(t));case 7:r=e.sent,n=r.data,200==n.code?(o=n.result.pager,o.records instanceof Array&&(this.tableData=o.records.concat()),o.totalCount&&(this.total=o.totalCount)):a="调拨入库列表获取失败",e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0),a="调拨入库列表获取失败";case 16:this.tableLoading=!1,a&&this.$Message.error(a);case 18:case"end":return e.stop()}},e,this,[[3,12]])}));return e}(),handleQueryBtnClick:function(){this.query.page=1,this.queryData()},handleResetBtnClick:function(){this.query={purchaseOrderNo:"",dnCode:"",purchaseOrderStatus:"",page:1,row:10},this.queryData()},showDetail:function(e){var t=e.dnCode,a=e.orderType,r=e.warehouseOutName,n=e.warehouseName,s=e.createTime,o=e.purchaseOrderNo,i=e.purchaseOrderStatus,u=e.inboundUser,l=e.id;this.detailVisible=!0,this.detailInfo={dnCode:t,orderType:30==a?"调拨入库":"",warehouseOutName:r,warehouseName:n,createTime:(0,p.formatDate)(new Date(parseInt(1e3*s)),"yyyy-MM-DD hh:mm:ss"),purchaseOrderNo:o,purchaseOrderStatus:0==i?"待入库":"已入库",inboundUser:u},this.getDetailGoods(l)},getDetailGoods:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(s.default.mark(function e(t){var a,r,n,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.detailGoodsData=[],a="",e.prev=2,e.next=5,this.$ajax.post(this.apiGroup.detail,h.stringify({id:t}));case 5:r=e.sent,n=r.data,200==n.code?(o=n.result.inboundBillProductList)instanceof Array&&(this.detailGoodsData=o.concat()):a="订单详情获取失败",e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0),a="订单详情获取失败";case 14:a&&this.$Message.error(a);case 15:case"end":return e.stop()}},e,this,[[2,10]])}));return e}()}}},2400:function(e,t,a){var r=a(2401);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(43)("f47bdb5e",r,!1,{})},2401:function(e,t,a){t=e.exports=a(42)(!1),t.push([e.i,"\n.query-btn[data-v-2bc52eca] {\n  margin-left: 80px;\n  margin-right: 20px;\n}\n.custom-hr[data-v-2bc52eca] {\n  margin-top: 15px;\n}\n.custom-page[data-v-2bc52eca] {\n  margin-top: 15px;\n  float: right;\n}\n.custom-h3[data-v-2bc52eca] {\n  margin: 15px 0;\n}\n.custom-h3[data-v-2bc52eca]:first-of-type {\n  margin-top: 0;\n}\n",""])},2402:function(e,t,a){var r=a(2403);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(43)("2238e089",r,!1,{})},2403:function(e,t,a){t=e.exports=a(42)(!1),t.push([e.i,"\n.Table-detailGoodsCoulmns .ivu-table-body {\n  min-height: 48px;\n  max-height: 245px;\n  overflow: auto;\n  overflow-x: hidden;\n}\n",""])},2404:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Card",[a("Form",{attrs:{"label-width":90}},[a("Row",[a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"调拨单号"}},[a("Input",{attrs:{clearable:""},model:{value:e.query.dnCode,callback:function(t){e.$set(e.query,"dnCode",t)},expression:"query.dnCode"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"入库单号"}},[a("Input",{attrs:{clearable:""},model:{value:e.query.purchaseOrderNo,callback:function(t){e.$set(e.query,"purchaseOrderNo",t)},expression:"query.purchaseOrderNo"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"入库状态"}},[a("Select",{model:{value:e.query.purchaseOrderStatus,callback:function(t){e.$set(e.query,"purchaseOrderStatus",t)},expression:"query.purchaseOrderStatus"}},[a("Option",{attrs:{value:""}},[e._v("全部")]),e._v(" "),a("Option",{attrs:{value:0}},[e._v("待入库")]),e._v(" "),a("Option",{attrs:{value:10}},[e._v("已入库")])],1)],1)],1)],1),e._v(" "),a("Row",[a("Button",{staticClass:"query-btn",attrs:{type:"primary"},on:{click:e.handleQueryBtnClick}},[e._v("查询")]),e._v(" "),a("Button",{attrs:{type:"primary"},on:{click:e.handleResetBtnClick}},[e._v("重置")])],1)],1),e._v(" "),a("DefaultHr",{staticClass:"custom-hr"}),e._v(" "),a("div",[a("Table",{attrs:{data:e.tableData,columns:e.tableColumns,loading:e.tableLoading}})],1),e._v(" "),a("Row",[a("Page",{staticClass:"custom-page",attrs:{"page-size":e.query.row,current:e.query.page,total:e.total,"show-elevator":"","show-total":""},on:{"update:current":function(t){e.$set(e.query,"page",t)},"on-change":e.queryData}})],1),e._v(" "),a("Modal",{attrs:{width:1e3},model:{value:e.detailVisible,callback:function(t){e.detailVisible=t},expression:"detailVisible"}},[a("h3",{staticClass:"custom-h3"},[e._v("基本信息")]),e._v(" "),a("Row",{staticClass:"custom-row"},[a("Col",{attrs:{span:"6"}},[a("span",[e._v("调拨单号:")]),e._v(" "),a("span",[e._v(e._s(e.detailInfo.dnCode))])]),e._v(" "),a("Col",{attrs:{span:"6"}},[a("span",[e._v("出入库类型:")]),e._v(" "),a("span",[e._v(e._s(e.detailInfo.orderType))])]),e._v(" "),a("Col",{attrs:{span:"6"}},[a("span",[e._v("调出仓库:")]),e._v(" "),a("span",[e._v(e._s(e.detailInfo.warehouseOutName))])]),e._v(" "),a("Col",{attrs:{span:"6"}},[a("span",[e._v("调入仓库:")]),e._v(" "),a("span",[e._v(e._s(e.detailInfo.warehouseName))])])],1),e._v(" "),a("Row",{staticClass:"custom-row"},[a("Col",{attrs:{span:"6"}},[a("span",[e._v("入库单号:")]),e._v(" "),a("span",[e._v(e._s(e.detailInfo.purchaseOrderNo))])]),e._v(" "),a("Col",{attrs:{span:"6"}},[a("span",[e._v("生成时间:")]),e._v(" "),a("span",[e._v(e._s(e.detailInfo.createTime))])]),e._v(" "),a("Col",{attrs:{span:"6"}},[a("span",[e._v("入库单状态:")]),e._v(" "),a("span",[e._v(e._s(e.detailInfo.purchaseOrderStatus))])]),e._v(" "),a("Col",{attrs:{span:"6"}},[a("span",[e._v("经办人:")]),e._v(" "),a("span",[e._v(e._s(e.detailInfo.inboundUser))])])],1),e._v(" "),a("h3",{staticClass:"custom-h3"},[e._v("商品信息")]),e._v(" "),a("Table",{staticClass:"Table-detailGoodsCoulmns",attrs:{columns:e.detailGoodsCoulmns,data:e.detailGoodsData}}),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:function(t){return e.detailVisible=!1}}},[e._v("关闭")])],1)],1)],1)},n=[];r._withStripped=!0;var s={render:r,staticRenderFns:n};t.default=s},603:function(e,t,a){"use strict";function r(e){l||a(964)}Object.defineProperty(t,"__esModule",{value:!0});var n=a(939),s=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,function(){return n[e]})}(o);var i=a(966),u=a.n(i),l=!1,c=a(13),d=r,p=c(s.a,u.a,!1,d,"data-v-eb39e066",null);p.options.__file="src/views/my-components/default-hr/default-hr.vue",t.default=p.exports},821:function(e,t,a){"use strict";function r(e){l||(a(2400),a(2402))}Object.defineProperty(t,"__esModule",{value:!0});var n=a(1706),s=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,function(){return n[e]})}(o);var i=a(2404),u=a.n(i),l=!1,c=a(13),d=r,p=c(s.a,u.a,!1,d,"data-v-2bc52eca",null);p.options.__file="src/views/stock-manage/warehouse-in/allot-inbound.vue",t.default=p.exports},898:function(e,t,a){"use strict";function r(e,t){if(!t)var t="yyyy-MM-DD hh:mm:ss";var a={"M+":e.getMonth()+1,"D+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var r in a)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?a[r]:("00"+a[r]).substr((""+a[r]).length)));return t}function n(e,t){if(!t)var t="yyyy-MM-dd";(e=Number(e))<1e10&&(e*=1e3);var a=new Date(e),r={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in r)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?r[n]:("00"+r[n]).substr((""+r[n]).length)));return t}Object.defineProperty(t,"__esModule",{value:!0}),t.formatDate=r,t.timestampToDay=n},939:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},964:function(e,t,a){var r=a(965);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(43)("63be8b28",r,!1,{})},965:function(e,t,a){t=e.exports=a(42)(!1),t.push([e.i,"\n.default-hr[data-v-eb39e066] {\n  width: 100%;\n  height: 1px;\n  border: none;\n  border-top: 1px dashed #aaa;\n  margin-bottom: 20px;\n}\n",""])},966:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=this,t=e.$createElement;return(e._self._c||t)("hr",{staticClass:"default-hr"})},n=[];r._withStripped=!0;var s={render:r,staticRenderFns:n};t.default=s}});