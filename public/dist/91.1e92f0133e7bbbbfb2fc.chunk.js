webpackJsonp([91,215],{1010:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(65),a=function(e){return e&&e.__esModule?e:{default:e}}(i),l=function(e,t,n,i){return t("Button",{props:{type:n.editting?"success":"primary",loading:n.saving,size:"small"},on:{click:function(){if(n.editting){e.edittingStore[i].saving=!0,e.thisTableData=JSON.parse((0,a.default)(e.edittingStore));var t=e.edittingStore[i];t.editting=!1,t.saving=!1,e.thisTableData=JSON.parse((0,a.default)(e.edittingStore)),e.$emit("input",e.handleBackdata(e.thisTableData)),e.$emit("on-change",e.handleBackdata(e.thisTableData),i)}else{if(n.edittingCell)for(var l in n.edittingCell)n.edittingCell[l]=!1,e.edittingStore[i].edittingCell[l]=!1;e.edittingStore[i].editting=!0,e.thisTableData=JSON.parse((0,a.default)(e.edittingStore))}}}},n.editting?"保存":"编辑")},o=function(e,t,n,i){return t("Poptip",{props:{confirm:!0,title:"您确定要删除这条数据吗?",transfer:!0},style:{marginBottom:"5px"},on:{"on-ok":function(){e.thisTableData.splice(i,1),e.$emit("input",e.handleBackdata(e.thisTableData)),e.$emit("on-delete",e.handleBackdata(e.thisTableData),i)}}},[t("Button",{style:{margin:"0 5px"},props:{type:"error",placement:"top",size:"small"}},"删除")])},r=function(e,t,n){return e.hoverShow?t("div",{class:{"show-edit-btn":e.hoverShow}},[t("Button",{props:{type:"text",icon:"edit"},on:{click:function(t){e.edittingStore[n.index].edittingCell[n.column.key]=!0,e.thisTableData=JSON.parse((0,a.default)(e.edittingStore))}}})]):t("Button",{props:{type:"text",icon:"edit"},on:{click:function(t){e.edittingStore[n.index].edittingCell[n.column.key]=!0,e.thisTableData=JSON.parse((0,a.default)(e.edittingStore))}}})},d=function(e,t,n){return t("Button",{props:{type:"text",icon:"checkmark"},on:{click:function(t){e.edittingStore[n.index].edittingCell[n.column.key]=!1,e.thisTableData=JSON.parse((0,a.default)(e.edittingStore)),e.$emit("input",e.handleBackdata(e.thisTableData)),e.$emit("on-cell-change",e.handleBackdata(e.thisTableData),n.index,n.column.key)}}})},s=function(e,t,n,i){return t("Input",{props:{type:"text",value:e.edittingStore[n.index][i.key]},on:{"on-change":function(t){var a=i.key;e.edittingStore[n.index][a]=t.target.value}}})};t.default={name:"canEditTable",props:{refs:String,columnsList:Array,value:Array,url:String,editIncell:{type:Boolean,default:!1},hoverShow:{type:Boolean,default:!1}},data:function(){return{columns:[],thisTableData:[],edittingStore:[]}},created:function(){this.init()},methods:{init:function(){var e=this,t=this,n=this.columnsList.filter(function(e){if(e.editable&&!0===e.editable)return e}),i=JSON.parse((0,a.default)(this.value)),c=[];c=i.map(function(t,i){var a=!1;if(e.thisTableData[i])if(e.thisTableData[i].editting)a=!0;else for(var l in e.thisTableData[i].edittingCell)!0===e.thisTableData[i].edittingCell[l]&&(a=!0);if(a)return e.thisTableData[i];e.$set(t,"editting",!1);var o={};return n.forEach(function(e){o[e.key]=!1}),e.$set(t,"edittingCell",o),t}),this.thisTableData=c,this.edittingStore=JSON.parse((0,a.default)(this.thisTableData)),this.columnsList.forEach(function(n){n.editable&&(n.render=function(i,a){var l=e.thisTableData[a.index];return l.editting?i("Input",{props:{type:"text",value:l[n.key]},on:{"on-change":function(e){var n=a.column.key;t.edittingStore[a.index][n]=e.target.value}}}):e.editIncell?i("Row",{props:{type:"flex",align:"middle",justify:"center"}},[i("Col",{props:{span:"22"}},[l.edittingCell[a.column.key]?s(e,i,a,n):i("span",l[n.key])]),i("Col",{props:{span:"2"}},[l.edittingCell[a.column.key]?d(e,i,a):r(e,i,a)])]):i("span",l[n.key])}),n.handle&&(n.render=function(t,i){var a=e.thisTableData[i.index],r=[];return n.handle.forEach(function(n){"edit"===n?r.push(l(e,t,a,i.index)):"delete"===n&&r.push(o(e,t,0,i.index))}),t("div",r)})})},handleBackdata:function(e){var t=JSON.parse((0,a.default)(e));return t.forEach(function(e){delete e.editting,delete e.edittingCell,delete e.saving}),t}},watch:{value:function(e){this.init()}}}},1104:function(e,t,n){var i=n(1105);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n(43)("9fdc95ae",i,!1,{})},1105:function(e,t,n){t=e.exports=n(42)(!1),t.push([e.i,"\n.show-edit-btn {\n  display: none;\n  margin-left: -10px;\n}\n.ivu-table-cell:hover .show-edit-btn {\n  display: inline-block;\n}\n",""])},1106:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Table",{ref:e.refs,attrs:{columns:e.columnsList,data:e.thisTableData}})],1)},a=[];i._withStripped=!0;var l={render:i,staticRenderFns:a};t.default=l},1720:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(606),l=i(a),o=n(2452),r=i(o);t.default={name:"editable-table",components:{canEditTable:l.default},data:function(){return{columnsList:[],tableData:[],editInlineColumns:[],editInlineData:[],editIncellColumns:[],editIncellData:[],editInlineAndCellColumn:[],editInlineAndCellData:[],showCurrentColumns:[],showCurrentTableData:!1}},methods:{getData:function(){this.columnsList=r.default.table1Columns,this.tableData=r.default.table1Data,this.editInlineColumns=r.default.editInlineColumns,this.editInlineData=r.default.editInlineData,this.editIncellColumns=r.default.editIncellColumns,this.editIncellData=r.default.editIncellData,this.editInlineAndCellColumn=r.default.editInlineAndCellColumn,this.editInlineAndCellData=r.default.editInlineAndCellData,this.showCurrentColumns=r.default.showCurrentColumns},handleNetConnect:function(e){this.breakConnect=e},handleLowSpeed:function(e){this.lowNetSpeed=e},getCurrentData:function(){this.showCurrentTableData=!0},handleDel:function(e,t){this.$Message.success("删除了第"+(t+1)+"行数据")},handleCellChange:function(e,t,n){this.$Message.success("修改了第 "+(t+1)+" 行列名为 "+n+" 的数据")},handleChange:function(e,t){this.$Message.success("修改了第"+(t+1)+"行数据")}},created:function(){this.getData()}}},2450:function(e,t,n){var i=n(2451);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n(43)("16a925b3",i,!1,{})},2451:function(e,t,n){t=e.exports=n(42)(!1),t.push([e.i,"\n.width-100 {\n  width: 100%;\n}\n.lb-left {\n  float: left;\n}\n.lb-right {\n  float: right;\n}\n.lb-center {\n  text-align: center;\n}\n.lb-promotion-main {\n  height: auto;\n  background-color: #fff;\n}\n.lb-promotion-main .lb-promotion-search {\n  border-bottom: 1px dashed #e5e5e5;\n}\n.lb-promotion-main .lb-promotion-search .lb-promotion-row {\n  margin-bottom: 14px;\n}\n.lb-promotion-main .lb-promotion-search .lb-promotion-row .ListName {\n  text-align: right;\n  line-height: 32px;\n  color: #747474;\n  font-size: 12px;\n  margin-right: 8px;\n}\n.promotion-page {\n  margin: 1rem 0 0 0;\n}\n.container {\n  background: #fff;\n  color: #747474;\n  border: 1px solid #E8E8E8;\n  padding: 1% 1% 3%;\n}\n.margin-top-8 {\n  margin-top: 8px;\n}\n.margin-top-10 {\n  margin-top: 10px;\n}\n.margin-top-20 {\n  margin-top: 20px;\n}\n.margin-left-10 {\n  margin-left: 10px;\n}\n.margin-bottom-10 {\n  margin-bottom: 10px;\n}\n.margin-bottom-12 {\n  margin-bottom: 12px;\n}\n.margin-bottom-14 {\n  margin-bottom: 14px;\n}\n.margin-bottom-100 {\n  margin-bottom: 100px;\n}\n.margin-right-10 {\n  margin-right: 10px;\n}\n.padding-left-6 {\n  padding-left: 6px;\n}\n.padding-left-8 {\n  padding-left: 5px;\n}\n.padding-left-10 {\n  padding-left: 10px;\n}\n.padding-left-20 {\n  padding-left: 20px;\n}\n.height-100 {\n  height: 100%;\n}\n.height-120px {\n  height: 100px;\n}\n.height-200px {\n  height: 200px;\n}\n.height-492px {\n  height: 492px;\n}\n.height-460px {\n  height: 460px;\n}\n.line-gray {\n  height: 0;\n  border-bottom: 2px solid #dcdcdc;\n}\n.notwrap {\n  word-break: keep-all;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.padding-left-5 {\n  padding-left: 10px;\n}\n[v-cloak] {\n  display: none;\n}\n.mb--12 {\n  margin-bottom: 12px;\n}\n.mb--14 {\n  margin-bottom: 14px;\n}\n.border-b--dashed {\n  border-bottom: 1px dashed #e5e5e5;\n}\n.pd--20 {\n  padding: 20px;\n}\n.ml--50 {\n  margin-left: 50px;\n}\n.fr {\n  float: right;\n}\n.fl {\n  float: left;\n}\n.bg--white {\n  background: #fff;\n}\n.clearfix:after {\n  content: '';\n  display: block;\n  height: 0;\n  clear: both;\n}\n.text-center {\n  text-align: center;\n}\n.white {\n  background-color: white;\n}\n.select_box {\n  padding: 20px;\n  border-bottom: 1px dashed #E8E8E8;\n}\n.ling_height {\n  padding-top: 15px;\n}\n.text_align_right {\n  text-align: right;\n}\n.text_align_center {\n  text-align: center;\n}\n.operation_box {\n  padding: 10px 20px;\n  text-align: right;\n}\n.page_right {\n  text-align: right;\n  padding: 10px 20px;\n}\n.input_width {\n  width: 120px;\n}\n.search_btn {\n  width: 100px;\n}\n.margin_bottom_0 {\n  margin-bottom: 0;\n}\n.ivu-breadcrumb a {\n  color: #999;\n}\n.ivu-breadcrumb {\n  font-size: 12px;\n}\n.ivu-breadcrumb > span:last-child {\n  color: #426196;\n}\n.box_shadow {\n  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.2);\n  border-color: #eee;\n}\n.border_bottom_dashed {\n  border-bottom: 1px dashed #E8E8E8;\n}\n.problem_table .ivu-checkbox-wrapper {\n  margin-right: 0px;\n}\n.dragging-tip-enter-active {\n  opacity: 1;\n  transition: opacity .3s;\n}\n.dragging-tip-enter,\n.dragging-tip-leave-to {\n  opacity: 0;\n  transition: opacity 0.3s;\n}\n.dragging-tip-con {\n  display: block;\n  text-align: center;\n  width: 100%;\n  height: 50px;\n}\n.dragging-tip-con span {\n  font-size: 18px;\n}\n.record-tip-con {\n  display: block;\n  width: 100%;\n  height: 292px;\n  overflow: auto;\n}\n.record-item {\n  box-sizing: content-box;\n  display: block;\n  overflow: hidden;\n  height: 24px;\n  line-height: 24px;\n  padding: 8px 10px;\n  border-bottom: 1px dashed gainsboro;\n}\n.record-tip-con span {\n  font-size: 14px;\n}\n.edittable-test-con {\n  height: 160px;\n}\n.edittable-table-height-con {\n  height: 190px;\n}\n.edittable-con-1 {\n  box-sizing: content-box;\n  padding: 15px 0 0;\n  height: 196px;\n}\n.edittable-table-get-currentdata-con {\n  height: 190px !important;\n}\n.exportable-table-download-con1 {\n  padding: 16px 0 16px 20px;\n  border-bottom: 1px dashed #c3c3c3;\n  margin-bottom: 16px;\n}\n.exportable-table-download-con2 {\n  padding-left: 20px;\n}\n.show-image {\n  padding: 20px 0px;\n}\n.show-image img {\n  display: block;\n  width: 100%;\n  height: auto;\n}\n.searchable-table-con1 {\n  height: 230px !important;\n}\n",""])},2452:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=t.table1Columns=[{title:"序号",type:"index",width:80,align:"center"},{title:"姓名",align:"center",key:"name",editable:!0},{title:"性别",align:"center",key:"sex"},{title:"岗位",align:"center",key:"work",editable:!0},{title:"操作",align:"center",width:120,key:"handle",handle:["delete"]}],a=t.table1Data=[{name:"Aresn",sex:"男",work:"前端开发"},{name:"Lison",sex:"男",work:"前端开发"},{name:"lisa",sex:"女",work:"程序员鼓励师"}],l=t.editInlineColumns=[{title:"业务员编号",key:"userid",align:"center",editable:!0},{title:"业务员",align:"center",key:"user",editable:!0},{title:"年度",align:"center",key:"year",editable:!0},{title:"目标总销量",align:"center",key:"targetSales",editable:!0},{title:"操作",align:"center",key:"handle",handle:["details","edit","delete"]}],o=t.editInlineData=[{userid:"34535656",user:"赵云",year:"2018",targetSales:"10000"},{userid:"4677899",user:"刘备",year:"2018",targetSales:"66666"}],r=t.editInlineColumns2=[{title:"业务员编号",key:"userid",align:"center",editable:!0},{title:"业务员",align:"center",key:"user",editable:!0},{title:"月度",align:"center",key:"month",editable:!0},{title:"目标总销量",align:"center",key:"targetSales",editable:!0},{title:"操作",align:"center",key:"handle",handle:["details","edit","delete"]}],d=t.editInlineData2=[{userid:"34535656",user:"赵云",year:"2018",targetSales:"10000"},{userid:"4677899",user:"刘备",year:"2018",targetSales:"66666"}],s=t.editIncellColumns=[{title:"序号",type:"index",width:80,align:"center"},{title:"姓名",align:"center",key:"name",width:120,editable:!0},{title:"性别",align:"center",key:"sex"},{title:"岗位",align:"center",width:160,key:"work",editable:!0},{title:"操作",align:"center",width:120,key:"handle",handle:["delete"]}],c=t.editIncellData=[{name:"Aresn",sex:"男",work:"前端开发"},{name:"Lison",sex:"男",work:"前端开发"},{name:"lisa",sex:"女",work:"程序员鼓励师"}],u=t.editInlineAndCellColumn=[{title:"序号",type:"index",width:80,align:"center"},{title:"姓名",align:"center",key:"name",width:300,editable:!0},{title:"性别",align:"center",key:"sex"},{title:"岗位",align:"center",width:300,key:"work",editable:!0},{title:"操作",align:"center",width:200,key:"handle",handle:["edit","delete"]}],p=t.editInlineAndCellData=[{name:"Aresn",sex:"男",work:"前端开发"},{name:"Lison",sex:"男",work:"前端开发"},{name:"lisa",sex:"女",work:"程序员鼓励师"}],g=t.showCurrentColumns=[{title:"序号",type:"index",width:80,align:"center"},{title:"姓名",align:"center",key:"name",width:300,editable:!0},{title:"性别",align:"center",key:"sex"},{title:"岗位",align:"center",width:300,key:"work",editable:!0}],h=t.newcolumns=[{title:"业务员ID",key:"userid",align:"center",editable:!0},{title:"业务员",align:"center",key:"user",editable:!0},{title:"年度",align:"center",key:"year",editable:!0},{title:"品牌",align:"center",key:"brand",editable:!0},{title:"品类",align:"center",key:"school",editable:!0},{title:"目标总销量",align:"center",key:"targetSales",editable:!0},{title:"操作",align:"center",key:"handle",handle:["details","edit","delete"]}],b=t.newData=[{userid:"34535656",user:"赵云",year:"2018",targetSales:"10000"},{userid:"4677899",user:"刘备",year:"2018",targetSales:"66666"}],m={table1Columns:i,table1Data:a,editInlineColumns:l,editInlineData:o,editInlineColumns2:r,editInlineData2:d,editIncellColumns:s,editIncellData:c,editInlineAndCellColumn:u,editInlineAndCellData:p,showCurrentColumns:g,newcolumns:h,newData:b};t.default=m},2453:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Row",[n("Col",{attrs:{span:"6"}},[n("Card",[n("p",{attrs:{slot:"title"},slot:"title"},[n("Icon",{attrs:{type:"load-b"}}),e._v("\n                    简单说明\n                ")],1),e._v(" "),n("div",{staticClass:"edittable-test-con"},[e._v("\n                    可编辑单元格可配置可编辑的列，可设置编辑整行的可编辑单元格，也可配置单个编辑可编辑单元格，也可两种形式同时可用。可配置单元格内编辑的图标显示方式。\n                ")])])],1),e._v(" "),n("Col",{staticClass:"padding-left-10",attrs:{span:"18"}},[n("Card",[n("div",{staticClass:"edittable-con-1"},[n("can-edit-table",{attrs:{refs:"table1","columns-list":e.columnsList},on:{"on-delete":e.handleDel},model:{value:e.tableData,callback:function(t){e.tableData=t},expression:"tableData"}})],1)])],1)],1),e._v(" "),n("Row",{staticClass:"margin-top-10"},[n("Col",{attrs:{span:"12"}},[n("Card",[n("p",{attrs:{slot:"title"},slot:"title"},[n("Icon",{attrs:{type:"android-remove"}}),e._v("\n                    可编辑单元行\n                ")],1),e._v(" "),n("div",{staticClass:"edittable-table-height-con"},[n("can-edit-table",{attrs:{refs:"table2","columns-list":e.editInlineColumns},model:{value:e.editInlineData,callback:function(t){e.editInlineData=t},expression:"editInlineData"}})],1)])],1),e._v(" "),n("Col",{staticClass:"padding-left-10",attrs:{span:"12"}},[n("Card",[n("p",{attrs:{slot:"title"},slot:"title"},[n("Icon",{attrs:{type:"android-more-horizontal"}}),e._v("\n                    可编辑单元格(鼠标移入显示编辑单元格按钮)\n                ")],1),e._v(" "),n("div",{staticClass:"edittable-table-height-con"},[n("can-edit-table",{attrs:{refs:"table3","hover-show":!0,"edit-incell":!0,"columns-list":e.editIncellColumns},model:{value:e.editIncellData,callback:function(t){e.editIncellData=t},expression:"editIncellData"}})],1)])],1)],1),e._v(" "),n("Row",{staticClass:"margin-top-10"},[n("Col",{attrs:{span:"24"}},[n("Card",[n("p",{attrs:{slot:"title"},slot:"title"},[n("Icon",{attrs:{type:"ios-keypad"}}),e._v("\n                     单元行和单元格两种方式编辑(始终显示编辑单元格按钮)\n                ")],1),e._v(" "),n("Row",{attrs:{gutter:10}},[n("Col",{attrs:{span:"2"}},[n("Row",{staticClass:"edittable-table-get-currentdata-con",attrs:{type:"flex",justify:"center",align:"middle"}},[n("Button",{attrs:{type:"primary"},on:{click:e.getCurrentData}},[e._v("当前数据")])],1)],1),e._v(" "),n("Col",{attrs:{span:"22"}},[n("div",{staticClass:"edittable-table-height-con"},[n("can-edit-table",{attrs:{refs:"table4",editIncell:!0,"columns-list":e.editInlineAndCellColumn},on:{"on-cell-change":e.handleCellChange,"on-change":e.handleChange},model:{value:e.editInlineAndCellData,callback:function(t){e.editInlineAndCellData=t},expression:"editInlineAndCellData"}})],1)]),e._v(" "),n("Modal",{attrs:{width:900},model:{value:e.showCurrentTableData,callback:function(t){e.showCurrentTableData=t},expression:"showCurrentTableData"}},[n("can-edit-table",{attrs:{refs:"table5","columns-list":e.showCurrentColumns},model:{value:e.editInlineAndCellData,callback:function(t){e.editInlineAndCellData=t},expression:"editInlineAndCellData"}})],1)],1)],1)],1)],1)],1)},a=[];i._withStripped=!0;var l={render:i,staticRenderFns:a};t.default=l},606:function(e,t,n){"use strict";function i(e){s||n(1104)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1010),l=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);var r=n(1106),d=n.n(r),s=!1,c=n(13),u=i,p=c(l.a,d.a,!1,u,null,null);p.options.__file="src/views/tables/components/canEditTable.vue",t.default=p.exports},835:function(e,t,n){"use strict";function i(e){s||n(2450)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1720),l=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);var r=n(2453),d=n.n(r),s=!1,c=n(13),u=i,p=c(l.a,d.a,!1,u,null,null);p.options.__file="src/views/tables/editable-table.vue",t.default=p.exports}});