webpackJsonp([98,274],{1712:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(241),o=r(n),s=a(146),i=r(s),l=a(242),u=r(l),c=a(898),d=a(603),p=r(d),f=a(239);t.default={components:{DefaultHr:p.default},data:function(){var e=this;return{query:{originalOrderNo:"",orderNo:"",page:1,row:10},total:0,apiGroup:this.$util.apiConfig.stockManage.warehouseOut.allocationOutboundBill,loading:!1,tableData:[],tableColumns:[{title:"序号",width:75,align:"center",render:function(t,a){return t("span",(e.query.page-1)*e.query.row+a.index+1)}},{title:"调拨单号",align:"center",key:"originalOrderNo"},{title:"入库单号",align:"center",width:200,key:"orderNo"},{title:"出入库类型",align:"center",key:"orderType",render:function(e,t){var a="";return 30==t.row.orderType&&(a="调拨出库"),e("span",a)}},{title:"调出仓库",align:"center",key:"warehouseName"},{title:"调入仓库",align:"center",key:"warehouseInName"},{title:"状态",align:"center",key:"orderStatus",render:function(e,t){var a="";return 20==t.row.orderStatus&&(a="已出库"),e("span",a)}},{title:"生成时间",align:"center",key:"createTime",render:function(e,t){var a="";return t.row.createTime>0&&(a=(0,c.formatDate)(new Date(1e3*parseInt(t.row.createTime)),"yyyy-MM-DD hh:mm:ss")),e("span",a)}},{title:"操作",align:"center",width:75,render:function(t,a){var r=[];return r.push(t("Button",{props:{type:"primary",size:"small"},on:{click:function(t){return e.showDetail(a.row)}}},"查看")),t("div",r)}}],detailInfo:{originalOrderNo:"",orderType:"",createTime:"",orderStatus:"",warehouseName:"",warehouseInName:"",orderNo:"",custName:""},detailVisible:!1,detailGoodsCoulmns:[{title:"序号",width:75,align:"center",render:function(e,t){return e("span",t.index+1)}},{title:"条形码",align:"center",key:"materialCode69"},{title:"商品描述",align:"center",key:"name"},{title:"调拨整件数",align:"center",key:"carNum"},{title:"调拨散件数",align:"center",key:"eaNum"}],detailGoodsData:[]}},mounted:function(){this.queryData()},methods:{queryData:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(o.default.mark(function e(){var t,a,r,n,s;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,i.default)({},this.query),a="",console.log(t),this.tableData=[],this.loading=!0,e.prev=5,e.next=8,this.$ajax.post(this.apiGroup.list,f.stringify(t));case 8:r=e.sent,n=r.data,200==n.code?(s=n.result.pager)&&(s.records instanceof Array&&(this.tableData=s.records),s.totalCount&&(this.total=s.totalCount)):a="调拨出库列表获取失败",e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),console.log(e.t0),a="调拨出库列表获取失败";case 17:a&&this.$Message.error(a),this.loading=!1;case 19:case"end":return e.stop()}},e,this,[[5,13]])}));return e}(),handleQueryBtnClick:function(){this.query.page=1,this.queryData()},handleResetBtnClick:function(){this.query={originalOrderNo:"",orderNo:"",page:1,row:10},this.queryData()},showDetail:function(){function e(e){return t.apply(this,arguments)}var t=(0,u.default)(o.default.mark(function e(t){var a,r,n,s;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.detailVisible=!0,a="",this.detailInfo={originalOrderNo:"",orderType:"",createTime:"",orderStatus:"",warehouseName:"",warehouseInName:"",orderNo:"",custName:""},this.detailGoodsData=[],e.prev=4,e.next=7,this.$ajax.post(this.apiGroup.detail,f.stringify({id:t.id}));case 7:r=e.sent,n=r.data,s=n.createTime,s&&(s=(0,c.formatDate)(new Date(1e3*s),"yyyy-MM-DD")),this.detailInfo={originalOrderNo:n.originalOrderNo,orderType:n.orderType,createTime:s,orderStatus:n.orderStatus,warehouseName:n.warehouseName,warehouseInName:n.warehouseInName,orderNo:n.orderNo,custName:n.custName},n.outboundBillProductList instanceof Array&&(this.detailGoodsData=n.outboundBillProductList),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),console.log(e.t0),a="详情数据请求失败";case 19:a&&this.$Message.error(a);case 20:case"end":return e.stop()}},e,this,[[4,15]])}));return e}()}}},2426:function(e,t,a){var r=a(2427);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(43)("0accfcbb",r,!1,{})},2427:function(e,t,a){t=e.exports=a(42)(!1),t.push([e.i,"\n.query-btn[data-v-ffe8b88e] {\n  margin-left: 80px;\n  margin-right: 20px;\n}\n.custom-hr[data-v-ffe8b88e] {\n  margin-top: 15px;\n}\n.custom-page[data-v-ffe8b88e] {\n  margin-top: 15px;\n  float: right;\n}\n.custom-h3[data-v-ffe8b88e] {\n  margin: 15px 0;\n}\n.custom-h3[data-v-ffe8b88e]:first-of-type {\n  margin-top: 0;\n}\n.custom-row[data-v-ffe8b88e] {\n  margin-bottom: 10px;\n  font-size: 14px;\n}\n",""])},2428:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Card",[a("Form",{attrs:{"label-width":90}},[a("Row",[a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"调拨单号"}},[a("Input",{attrs:{clearable:""},model:{value:e.query.originalOrderNo,callback:function(t){e.$set(e.query,"originalOrderNo",t)},expression:"query.originalOrderNo"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"出库单号"}},[a("Input",{attrs:{clearable:""},model:{value:e.query.orderNo,callback:function(t){e.$set(e.query,"orderNo",t)},expression:"query.orderNo"}})],1)],1)],1),e._v(" "),a("Row",[a("Button",{staticClass:"query-btn",attrs:{type:"primary"},on:{click:e.handleQueryBtnClick}},[e._v("查询")]),e._v(" "),a("Button",{attrs:{type:"primary"},on:{click:e.handleResetBtnClick}},[e._v("重置")])],1)],1),e._v(" "),a("DefaultHr",{staticClass:"custom-hr"}),e._v(" "),a("div",[a("Table",{attrs:{data:e.tableData,columns:e.tableColumns,loading:e.loading}})],1),e._v(" "),a("Row",[a("Page",{staticClass:"custom-page",attrs:{"page-size":e.query.row,current:e.query.page,total:e.total,"show-elevator":"","show-total":""},on:{"update:current":function(t){e.$set(e.query,"page",t)},"on-change":e.queryData}})],1),e._v(" "),a("Modal",{attrs:{width:1e3},model:{value:e.detailVisible,callback:function(t){e.detailVisible=t},expression:"detailVisible"}},[a("h3",{staticClass:"custom-h3"},[e._v("基本信息")]),e._v(" "),a("Row",{staticClass:"custom-row",attrs:{gutter:16}},[a("Col",{attrs:{span:"6"}},[a("span",[e._v("调拨单号:")]),e._v(" "),a("span",[e._v(e._s(e.detailInfo.originalOrderNo))])]),e._v(" "),a("Col",{attrs:{span:"6"}},[a("span",[e._v("出入库类型:")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:30==e.detailInfo.orderType,expression:"detailInfo.orderType == 30"}]},[e._v("调拨出库")])]),e._v(" "),a("Col",{attrs:{span:"6"}},[a("span",[e._v("调出仓库:")]),e._v(" "),a("span",[e._v(e._s(e.detailInfo.warehouseName))])]),e._v(" "),a("Col",{attrs:{span:"6"}},[a("span",[e._v("调入仓库:")]),e._v(" "),a("span",[e._v(e._s(e.detailInfo.warehouseInName))])])],1),e._v(" "),a("Row",{staticClass:"custom-row",attrs:{gutter:16}},[a("Col",{attrs:{span:"6"}},[a("span",[e._v("入库单号:")]),e._v(" "),a("span",[e._v(e._s(e.detailInfo.orderNo))])]),e._v(" "),a("Col",{attrs:{span:"6"}},[a("span",[e._v("生成时间:")]),e._v(" "),a("span",[e._v(e._s(e.detailInfo.createTime))])]),e._v(" "),a("Col",{attrs:{span:"6"}},[a("span",[e._v("入库单状态:")]),e._v(" "),a("span",[e._v(e._s(20==e.detailInfo.orderStatus?"已出库":""))])]),e._v(" "),a("Col",{attrs:{span:"6"}},[a("span",[e._v("经办人:")]),e._v(" "),a("span",[e._v(e._s(e.detailInfo.custName))])])],1),e._v(" "),a("h3",{staticClass:"custom-h3"},[e._v("商品信息")]),e._v(" "),a("Table",{attrs:{columns:e.detailGoodsCoulmns,data:e.detailGoodsData}}),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:function(t){e.detailVisible=!1}}},[e._v("关闭")])],1)],1)],1)},n=[];r._withStripped=!0;var o={render:r,staticRenderFns:n};t.default=o},603:function(e,t,a){"use strict";function r(e){u||a(964)}Object.defineProperty(t,"__esModule",{value:!0});var n=a(939),o=a.n(n);for(var s in n)"default"!==s&&function(e){a.d(t,e,function(){return n[e]})}(s);var i=a(966),l=a.n(i),u=!1,c=a(13),d=r,p=c(o.a,l.a,!1,d,"data-v-eb39e066",null);p.options.__file="src/views/my-components/default-hr/default-hr.vue",t.default=p.exports},827:function(e,t,a){"use strict";function r(e){u||a(2426)}Object.defineProperty(t,"__esModule",{value:!0});var n=a(1712),o=a.n(n);for(var s in n)"default"!==s&&function(e){a.d(t,e,function(){return n[e]})}(s);var i=a(2428),l=a.n(i),u=!1,c=a(13),d=r,p=c(o.a,l.a,!1,d,"data-v-ffe8b88e",null);p.options.__file="src/views/stock-manage/warehouse-out/allocation-outbound.vue",t.default=p.exports},898:function(e,t,a){"use strict";function r(e,t){if(!t)var t="yyyy-MM-DD hh:mm:ss";var a={"M+":e.getMonth()+1,"D+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var r in a)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?a[r]:("00"+a[r]).substr((""+a[r]).length)));return t}function n(e,t){if(!t)var t="yyyy-MM-dd";(e=Number(e))<1e10&&(e*=1e3);var a=new Date(e),r={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in r)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?r[n]:("00"+r[n]).substr((""+r[n]).length)));return t}Object.defineProperty(t,"__esModule",{value:!0}),t.formatDate=r,t.timestampToDay=n},939:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},964:function(e,t,a){var r=a(965);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(43)("63be8b28",r,!1,{})},965:function(e,t,a){t=e.exports=a(42)(!1),t.push([e.i,"\n.default-hr[data-v-eb39e066] {\n  width: 100%;\n  height: 1px;\n  border: none;\n  border-top: 1px dashed #aaa;\n  margin-bottom: 20px;\n}\n",""])},966:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=this,t=e.$createElement;return(e._self._c||t)("hr",{staticClass:"default-hr"})},n=[];r._withStripped=!0;var o={render:r,staticRenderFns:n};t.default=o}});